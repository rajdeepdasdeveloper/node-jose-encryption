import{a as Ji}from"./chunk-BGNA26ZD.js";import"./chunk-WTY6MB72.js";import{a as Lw,b as Uw,c as Kw,d as Mw,e as Hw,g as jw,h as Gw,i as zw,j as Vw,k as Ww,l as Jw,m as Zw,n as Yw,o as Xw,p as Qw,r as $w,t as eb,u as tb,x as rb,y as nb}from"./chunk-2MTWQIWF.js";import{$ as ze,A as Lo,B as Wi,Ca as Ef,G as ff,H as jr,J as lf,K as Gr,L as hf,V as Uo,W as Ko,Z as pf,_ as df,aa as oe,b as ji,ba as Ve,c as Ur,ca as We,e as Gi,ea as Je,f as Do,fa as Ze,g as Rn,ga as Ye,h as uf,ha as gf,i as zi,ia as vf,j as cf,ja as yf,k as Le,ka as Xe,l as Vi,la as mf,m as Kr,ma as Qe,n as Mr,oa as _f,p as V,pa as Zi,q as ve,r as z,s as pt,t as k,u as P,v as Z,w as Hr,x as ce,y as mt,z as K}from"./chunk-ESJO3J4D.js";import"./chunk-4DWXYJCX.js";import{c as of,d,e as Ro,f as sf}from"./chunk-CGT2X6C5.js";var jo=d((Mo,Ho)=>{"use strict";(function(e,r){typeof Mo=="object"&&typeof Ho<"u"?Ho.exports=r():typeof define=="function"&&define.amd?define(r):e.ES6Promise=r()})(Mo,function(){"use strict";function e(x){var B=typeof x;return x!==null&&(B==="object"||B==="function")}function r(x){return typeof x=="function"}var t=void 0;Array.isArray?t=Array.isArray:t=function(x){return Object.prototype.toString.call(x)==="[object Array]"};var n=t,i=0,a=void 0,o=void 0,s=function(B,I){w[i]=B,w[i+1]=I,i+=2,i===2&&(o?o(T):C())};function c(x){o=x}function u(x){s=x}var f=typeof window<"u"?window:void 0,l=f||{},p=l.MutationObserver||l.WebKitMutationObserver,h=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function m(){return function(){return process.nextTick(T)}}function y(){return typeof a<"u"?function(){a(T)}:A()}function _(){var x=0,B=new p(T),I=document.createTextNode("");return B.observe(I,{characterData:!0}),function(){I.data=x=++x%2}}function E(){var x=new MessageChannel;return x.port1.onmessage=T,function(){return x.port2.postMessage(0)}}function A(){var x=setTimeout;return function(){return x(T,1)}}var w=new Array(1e3);function T(){for(var x=0;x<i;x+=2){var B=w[x],I=w[x+1];B(I),w[x]=void 0,w[x+1]=void 0}i=0}function M(){try{var x=Function("return this")().require("vertx");return a=x.runOnLoop||x.runOnContext,y()}catch{return A()}}var C=void 0;h?C=m():p?C=_():v?C=E():f===void 0&&typeof of=="function"?C=M():C=A();function L(x,B){var I=this,U=new this.constructor(b);U[N]===void 0&&af(U);var H=I._state;if(H){var G=arguments[H-1];s(function(){return pr(H,U,G,I._result)})}else ue(I,U,x,B);return U}function R(x){var B=this;if(x&&typeof x=="object"&&x.constructor===B)return x;var I=new B(b);return pe(I,x),I}var N=Math.random().toString(36).substring(2);function b(){}var xe=void 0,S=1,g=2;function q(){return new TypeError("You cannot resolve a promise with itself")}function J(){return new TypeError("A promises callback cannot return that same promise.")}function ae(x,B,I,U){try{x.call(B,I,U)}catch(H){return H}}function ee(x,B,I){s(function(U){var H=!1,G=ae(I,B,function(ge){H||(H=!0,B!==ge?pe(U,ge):Q(U,ge))},function(ge){H||(H=!0,$(U,ge))},"Settle: "+(U._label||" unknown promise"));!H&&G&&(H=!0,$(U,G))},x)}function fe(x,B){B._state===S?Q(x,B._result):B._state===g?$(x,B._result):ue(B,void 0,function(I){return pe(x,I)},function(I){return $(x,I)})}function Ee(x,B,I){B.constructor===x.constructor&&I===L&&B.constructor.resolve===R?fe(x,B):I===void 0?Q(x,B):r(I)?ee(x,B,I):Q(x,B)}function pe(x,B){if(x===B)$(x,q());else if(e(B)){var I=void 0;try{I=B.then}catch(U){$(x,U);return}Ee(x,B,I)}else Q(x,B)}function de(x){x._onerror&&x._onerror(x._result),we(x)}function Q(x,B){x._state===xe&&(x._result=B,x._state=S,x._subscribers.length!==0&&s(we,x))}function $(x,B){x._state===xe&&(x._state=g,x._result=B,s(de,x))}function ue(x,B,I,U){var H=x._subscribers,G=H.length;x._onerror=null,H[G]=B,H[G+S]=I,H[G+g]=U,G===0&&x._state&&s(we,x)}function we(x){var B=x._subscribers,I=x._state;if(B.length!==0){for(var U=void 0,H=void 0,G=x._result,ge=0;ge<B.length;ge+=3)U=B[ge],H=B[ge+I],U?pr(I,U,H,G):H(G);x._subscribers.length=0}}function pr(x,B,I,U){var H=r(I),G=void 0,ge=void 0,Lr=!0;if(H){try{G=I(U)}catch(Hi){Lr=!1,ge=Hi}if(B===G){$(B,J());return}}else G=U;B._state!==xe||(H&&Lr?pe(B,G):Lr===!1?$(B,ge):x===S?Q(B,G):x===g&&$(B,G))}function Bw(x,B){try{B(function(U){pe(x,U)},function(U){$(x,U)})}catch(I){$(x,I)}}var nf=0;function Tw(){return nf++}function af(x){x[N]=nf++,x._state=void 0,x._result=void 0,x._subscribers=[]}function Iw(){return new Error("Array Methods must be provided an Array")}var Pw=function(){function x(B,I){this._instanceConstructor=B,this.promise=new B(b),this.promise[N]||af(this.promise),n(I)?(this.length=I.length,this._remaining=I.length,this._result=new Array(this.length),this.length===0?Q(this.promise,this._result):(this.length=this.length||0,this._enumerate(I),this._remaining===0&&Q(this.promise,this._result))):$(this.promise,Iw())}return x.prototype._enumerate=function(I){for(var U=0;this._state===xe&&U<I.length;U++)this._eachEntry(I[U],U)},x.prototype._eachEntry=function(I,U){var H=this._instanceConstructor,G=H.resolve;if(G===R){var ge=void 0,Lr=void 0,Hi=!1;try{ge=I.then}catch(Oo){Hi=!0,Lr=Oo}if(ge===L&&I._state!==xe)this._settledAt(I._state,U,I._result);else if(typeof ge!="function")this._remaining--,this._result[U]=I;else if(H===De){var No=new H(b);Hi?$(No,Lr):Ee(No,I,ge),this._willSettleAt(No,U)}else this._willSettleAt(new H(function(Oo){return Oo(I)}),U)}else this._willSettleAt(G(I),U)},x.prototype._settledAt=function(I,U,H){var G=this.promise;G._state===xe&&(this._remaining--,I===g?$(G,H):this._result[U]=H),this._remaining===0&&Q(G,this._result)},x.prototype._willSettleAt=function(I,U){var H=this;ue(I,void 0,function(G){return H._settledAt(S,U,G)},function(G){return H._settledAt(g,U,G)})},x}();function qw(x){return new Pw(this,x).promise}function kw(x){var B=this;return n(x)?new B(function(I,U){for(var H=x.length,G=0;G<H;G++)B.resolve(x[G]).then(I,U)}):new B(function(I,U){return U(new TypeError("You must pass an array to race."))})}function Nw(x){var B=this,I=new B(b);return $(I,x),I}function Ow(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Rw(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var De=function(){function x(B){this[N]=Tw(),this._result=this._state=void 0,this._subscribers=[],b!==B&&(typeof B!="function"&&Ow(),this instanceof x?Bw(this,B):Rw())}return x.prototype.catch=function(I){return this.then(null,I)},x.prototype.finally=function(I){var U=this,H=U.constructor;return r(I)?U.then(function(G){return H.resolve(I()).then(function(){return G})},function(G){return H.resolve(I()).then(function(){throw G})}):U.then(I,I)},x}();De.prototype.then=L,De.all=qw,De.race=kw,De.resolve=R,De.reject=Nw,De._setScheduler=c,De._setAsap=u,De._asap=s;function Dw(){var x=void 0;if(typeof global<"u")x=global;else if(typeof self<"u")x=self;else try{x=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var B=x.Promise;if(B){var I=null;try{I=Object.prototype.toString.call(B.resolve())}catch{}if(I==="[object Promise]"&&!B.cast)return}x.Promise=De}return De.polyfill=Dw,De.Promise=De,De})});var Ff=d(Yi=>{"use strict";Yi.byteLength=ab;Yi.toByteArray=sb;Yi.fromByteArray=fb;var _t=[],$e=[],ib=typeof Uint8Array<"u"?Uint8Array:Array,Go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(dr=0,wf=Go.length;dr<wf;++dr)_t[dr]=Go[dr],$e[Go.charCodeAt(dr)]=dr;var dr,wf;$e["-".charCodeAt(0)]=62;$e["_".charCodeAt(0)]=63;function bf(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=r);var n=t===r?0:4-t%4;return[t,n]}function ab(e){var r=bf(e),t=r[0],n=r[1];return(t+n)*3/4-n}function ob(e,r,t){return(r+t)*3/4-t}function sb(e){var r,t=bf(e),n=t[0],i=t[1],a=new ib(ob(e,n,i)),o=0,s=i>0?n-4:n,c;for(c=0;c<s;c+=4)r=$e[e.charCodeAt(c)]<<18|$e[e.charCodeAt(c+1)]<<12|$e[e.charCodeAt(c+2)]<<6|$e[e.charCodeAt(c+3)],a[o++]=r>>16&255,a[o++]=r>>8&255,a[o++]=r&255;return i===2&&(r=$e[e.charCodeAt(c)]<<2|$e[e.charCodeAt(c+1)]>>4,a[o++]=r&255),i===1&&(r=$e[e.charCodeAt(c)]<<10|$e[e.charCodeAt(c+1)]<<4|$e[e.charCodeAt(c+2)]>>2,a[o++]=r>>8&255,a[o++]=r&255),a}function ub(e){return _t[e>>18&63]+_t[e>>12&63]+_t[e>>6&63]+_t[e&63]}function cb(e,r,t){for(var n,i=[],a=r;a<t;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(ub(n));return i.join("")}function fb(e){for(var r,t=e.length,n=t%3,i=[],a=16383,o=0,s=t-n;o<s;o+=a)i.push(cb(e,o,o+a>s?s:o+a));return n===1?(r=e[t-1],i.push(_t[r>>2]+_t[r<<4&63]+"==")):n===2&&(r=(e[t-2]<<8)+e[t-1],i.push(_t[r>>10]+_t[r>>4&63]+_t[r<<2&63]+"=")),i.join("")}});var xf=d(zo=>{"use strict";zo.read=function(e,r,t,n,i){var a,o,s=i*8-n-1,c=(1<<s)-1,u=c>>1,f=-7,l=t?i-1:0,p=t?-1:1,h=e[r+l];for(l+=p,a=h&(1<<-f)-1,h>>=-f,f+=s;f>0;a=a*256+e[r+l],l+=p,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=o*256+e[r+l],l+=p,f-=8);if(a===0)a=1-u;else{if(a===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-u}return(h?-1:1)*o*Math.pow(2,a-n)};zo.write=function(e,r,t,n,i,a){var o,s,c,u=a*8-i-1,f=(1<<u)-1,l=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,v=n?1:-1,m=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,o=f):(o=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+l>=1?r+=p/c:r+=p*Math.pow(2,1-l),r*c>=2&&(o++,c/=2),o+l>=f?(s=0,o=f):o+l>=1?(s=(r*c-1)*Math.pow(2,i),o=o+l):(s=r*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[t+h]=s&255,h+=v,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[t+h]=o&255,h+=v,o/=256,u-=8);e[t+h-v]|=m*128}});var Mf=d(Jr=>{"use strict";var Vo=Ff(),Vr=xf(),Af=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Jr.Buffer=F;Jr.SlowBuffer=vb;Jr.INSPECT_MAX_BYTES=50;var Xi=2147483647;Jr.kMaxLength=Xi;F.TYPED_ARRAY_SUPPORT=lb();!F.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function lb(){try{let e=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(e,r),e.foo()===42}catch{return!1}}Object.defineProperty(F.prototype,"parent",{enumerable:!0,get:function(){if(F.isBuffer(this))return this.buffer}});Object.defineProperty(F.prototype,"offset",{enumerable:!0,get:function(){if(F.isBuffer(this))return this.byteOffset}});function Lt(e){if(e>Xi)throw new RangeError('The value "'+e+'" is invalid for option "size"');let r=new Uint8Array(e);return Object.setPrototypeOf(r,F.prototype),r}function F(e,r,t){if(typeof e=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Yo(e)}return Tf(e,r,t)}F.poolSize=8192;function Tf(e,r,t){if(typeof e=="string")return pb(e,r);if(ArrayBuffer.isView(e))return db(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Et(e,ArrayBuffer)||e&&Et(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Et(e,SharedArrayBuffer)||e&&Et(e.buffer,SharedArrayBuffer)))return Jo(e,r,t);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return F.from(n,r,t);let i=gb(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return F.from(e[Symbol.toPrimitive]("string"),r,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}F.from=function(e,r,t){return Tf(e,r,t)};Object.setPrototypeOf(F.prototype,Uint8Array.prototype);Object.setPrototypeOf(F,Uint8Array);function If(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function hb(e,r,t){return If(e),e<=0?Lt(e):r!==void 0?typeof t=="string"?Lt(e).fill(r,t):Lt(e).fill(r):Lt(e)}F.alloc=function(e,r,t){return hb(e,r,t)};function Yo(e){return If(e),Lt(e<0?0:Xo(e)|0)}F.allocUnsafe=function(e){return Yo(e)};F.allocUnsafeSlow=function(e){return Yo(e)};function pb(e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!F.isEncoding(r))throw new TypeError("Unknown encoding: "+r);let t=Pf(e,r)|0,n=Lt(t),i=n.write(e,r);return i!==t&&(n=n.slice(0,i)),n}function Wo(e){let r=e.length<0?0:Xo(e.length)|0,t=Lt(r);for(let n=0;n<r;n+=1)t[n]=e[n]&255;return t}function db(e){if(Et(e,Uint8Array)){let r=new Uint8Array(e);return Jo(r.buffer,r.byteOffset,r.byteLength)}return Wo(e)}function Jo(e,r,t){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return r===void 0&&t===void 0?n=new Uint8Array(e):t===void 0?n=new Uint8Array(e,r):n=new Uint8Array(e,r,t),Object.setPrototypeOf(n,F.prototype),n}function gb(e){if(F.isBuffer(e)){let r=Xo(e.length)|0,t=Lt(r);return t.length===0||e.copy(t,0,0,r),t}if(e.length!==void 0)return typeof e.length!="number"||$o(e.length)?Lt(0):Wo(e);if(e.type==="Buffer"&&Array.isArray(e.data))return Wo(e.data)}function Xo(e){if(e>=Xi)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Xi.toString(16)+" bytes");return e|0}function vb(e){return+e!=e&&(e=0),F.alloc(+e)}F.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==F.prototype};F.compare=function(r,t){if(Et(r,Uint8Array)&&(r=F.from(r,r.offset,r.byteLength)),Et(t,Uint8Array)&&(t=F.from(t,t.offset,t.byteLength)),!F.isBuffer(r)||!F.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===t)return 0;let n=r.length,i=t.length;for(let a=0,o=Math.min(n,i);a<o;++a)if(r[a]!==t[a]){n=r[a],i=t[a];break}return n<i?-1:i<n?1:0};F.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};F.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return F.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<r.length;++n)t+=r[n].length;let i=F.allocUnsafe(t),a=0;for(n=0;n<r.length;++n){let o=r[n];if(Et(o,Uint8Array))a+o.length>i.length?(F.isBuffer(o)||(o=F.from(o)),o.copy(i,a)):Uint8Array.prototype.set.call(i,o,a);else if(F.isBuffer(o))o.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=o.length}return i};function Pf(e,r){if(F.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Et(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let t=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Zo(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Kf(e).length;default:if(i)return n?-1:Zo(e).length;r=(""+r).toLowerCase(),i=!0}}F.byteLength=Pf;function yb(e,r,t){let n=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,r>>>=0,t<=r))return"";for(e||(e="utf8");;)switch(e){case"hex":return Cb(this,r,t);case"utf8":case"utf-8":return kf(this,r,t);case"ascii":return Ab(this,r,t);case"latin1":case"binary":return Sb(this,r,t);case"base64":return Fb(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bb(this,r,t);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}F.prototype._isBuffer=!0;function gr(e,r,t){let n=e[r];e[r]=e[t],e[t]=n}F.prototype.swap16=function(){let r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<r;t+=2)gr(this,t,t+1);return this};F.prototype.swap32=function(){let r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<r;t+=4)gr(this,t,t+3),gr(this,t+1,t+2);return this};F.prototype.swap64=function(){let r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<r;t+=8)gr(this,t,t+7),gr(this,t+1,t+6),gr(this,t+2,t+5),gr(this,t+3,t+4);return this};F.prototype.toString=function(){let r=this.length;return r===0?"":arguments.length===0?kf(this,0,r):yb.apply(this,arguments)};F.prototype.toLocaleString=F.prototype.toString;F.prototype.equals=function(r){if(!F.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:F.compare(this,r)===0};F.prototype.inspect=function(){let r="",t=Jr.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"};Af&&(F.prototype[Af]=F.prototype.inspect);F.prototype.compare=function(r,t,n,i,a){if(Et(r,Uint8Array)&&(r=F.from(r,r.offset,r.byteLength)),!F.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(t===void 0&&(t=0),n===void 0&&(n=r?r.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),t<0||n>r.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&t>=n)return 0;if(i>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,a>>>=0,this===r)return 0;let o=a-i,s=n-t,c=Math.min(o,s),u=this.slice(i,a),f=r.slice(t,n);for(let l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],s=f[l];break}return o<s?-1:s<o?1:0};function qf(e,r,t,n,i){if(e.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,$o(t)&&(t=i?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(i)return-1;t=e.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof r=="string"&&(r=F.from(r,n)),F.isBuffer(r))return r.length===0?-1:Sf(e,r,t,n,i);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):Sf(e,[r],t,n,i);throw new TypeError("val must be string, number or Buffer")}function Sf(e,r,t,n,i){let a=1,o=e.length,s=r.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||r.length<2)return-1;a=2,o/=2,s/=2,t/=2}function c(f,l){return a===1?f[l]:f.readUInt16BE(l*a)}let u;if(i){let f=-1;for(u=t;u<o;u++)if(c(e,u)===c(r,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===s)return f*a}else f!==-1&&(u-=u-f),f=-1}else for(t+s>o&&(t=o-s),u=t;u>=0;u--){let f=!0;for(let l=0;l<s;l++)if(c(e,u+l)!==c(r,l)){f=!1;break}if(f)return u}return-1}F.prototype.includes=function(r,t,n){return this.indexOf(r,t,n)!==-1};F.prototype.indexOf=function(r,t,n){return qf(this,r,t,n,!0)};F.prototype.lastIndexOf=function(r,t,n){return qf(this,r,t,n,!1)};function mb(e,r,t,n){t=Number(t)||0;let i=e.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let a=r.length;n>a/2&&(n=a/2);let o;for(o=0;o<n;++o){let s=parseInt(r.substr(o*2,2),16);if($o(s))return o;e[t+o]=s}return o}function _b(e,r,t,n){return Qi(Zo(r,e.length-t),e,t,n)}function Eb(e,r,t,n){return Qi(qb(r),e,t,n)}function wb(e,r,t,n){return Qi(Kf(r),e,t,n)}function bb(e,r,t,n){return Qi(kb(r,e.length-t),e,t,n)}F.prototype.write=function(r,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-t;if((n===void 0||n>a)&&(n=a),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return mb(this,r,t,n);case"utf8":case"utf-8":return _b(this,r,t,n);case"ascii":case"latin1":case"binary":return Eb(this,r,t,n);case"base64":return wb(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bb(this,r,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fb(e,r,t){return r===0&&t===e.length?Vo.fromByteArray(e):Vo.fromByteArray(e.slice(r,t))}function kf(e,r,t){t=Math.min(e.length,t);let n=[],i=r;for(;i<t;){let a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=t){let c,u,f,l;switch(s){case 1:a<128&&(o=a);break;case 2:c=e[i+1],(c&192)===128&&(l=(a&31)<<6|c&63,l>127&&(o=l));break;case 3:c=e[i+1],u=e[i+2],(c&192)===128&&(u&192)===128&&(l=(a&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=e[i+1],u=e[i+2],f=e[i+3],(c&192)===128&&(u&192)===128&&(f&192)===128&&(l=(a&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=s}return xb(n)}var Cf=4096;function xb(e){let r=e.length;if(r<=Cf)return String.fromCharCode.apply(String,e);let t="",n=0;for(;n<r;)t+=String.fromCharCode.apply(String,e.slice(n,n+=Cf));return t}function Ab(e,r,t){let n="";t=Math.min(e.length,t);for(let i=r;i<t;++i)n+=String.fromCharCode(e[i]&127);return n}function Sb(e,r,t){let n="";t=Math.min(e.length,t);for(let i=r;i<t;++i)n+=String.fromCharCode(e[i]);return n}function Cb(e,r,t){let n=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>n)&&(t=n);let i="";for(let a=r;a<t;++a)i+=Nb[e[a]];return i}function Bb(e,r,t){let n=e.slice(r,t),i="";for(let a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}F.prototype.slice=function(r,t){let n=this.length;r=~~r,t=t===void 0?n:~~t,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<r&&(t=r);let i=this.subarray(r,t);return Object.setPrototypeOf(i,F.prototype),i};function ye(e,r,t){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUintLE=F.prototype.readUIntLE=function(r,t,n){r=r>>>0,t=t>>>0,n||ye(r,t,this.length);let i=this[r],a=1,o=0;for(;++o<t&&(a*=256);)i+=this[r+o]*a;return i};F.prototype.readUintBE=F.prototype.readUIntBE=function(r,t,n){r=r>>>0,t=t>>>0,n||ye(r,t,this.length);let i=this[r+--t],a=1;for(;t>0&&(a*=256);)i+=this[r+--t]*a;return i};F.prototype.readUint8=F.prototype.readUInt8=function(r,t){return r=r>>>0,t||ye(r,1,this.length),this[r]};F.prototype.readUint16LE=F.prototype.readUInt16LE=function(r,t){return r=r>>>0,t||ye(r,2,this.length),this[r]|this[r+1]<<8};F.prototype.readUint16BE=F.prototype.readUInt16BE=function(r,t){return r=r>>>0,t||ye(r,2,this.length),this[r]<<8|this[r+1]};F.prototype.readUint32LE=F.prototype.readUInt32LE=function(r,t){return r=r>>>0,t||ye(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};F.prototype.readUint32BE=F.prototype.readUInt32BE=function(r,t){return r=r>>>0,t||ye(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};F.prototype.readBigUInt64LE=Qt(function(r){r=r>>>0,Wr(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&Dn(r,this.length-8);let i=t+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24,a=this[++r]+this[++r]*2**8+this[++r]*2**16+n*2**24;return BigInt(i)+(BigInt(a)<<BigInt(32))});F.prototype.readBigUInt64BE=Qt(function(r){r=r>>>0,Wr(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&Dn(r,this.length-8);let i=t*2**24+this[++r]*2**16+this[++r]*2**8+this[++r],a=this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(a)});F.prototype.readIntLE=function(r,t,n){r=r>>>0,t=t>>>0,n||ye(r,t,this.length);let i=this[r],a=1,o=0;for(;++o<t&&(a*=256);)i+=this[r+o]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i};F.prototype.readIntBE=function(r,t,n){r=r>>>0,t=t>>>0,n||ye(r,t,this.length);let i=t,a=1,o=this[r+--i];for(;i>0&&(a*=256);)o+=this[r+--i]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*t)),o};F.prototype.readInt8=function(r,t){return r=r>>>0,t||ye(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};F.prototype.readInt16LE=function(r,t){r=r>>>0,t||ye(r,2,this.length);let n=this[r]|this[r+1]<<8;return n&32768?n|4294901760:n};F.prototype.readInt16BE=function(r,t){r=r>>>0,t||ye(r,2,this.length);let n=this[r+1]|this[r]<<8;return n&32768?n|4294901760:n};F.prototype.readInt32LE=function(r,t){return r=r>>>0,t||ye(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};F.prototype.readInt32BE=function(r,t){return r=r>>>0,t||ye(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};F.prototype.readBigInt64LE=Qt(function(r){r=r>>>0,Wr(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&Dn(r,this.length-8);let i=this[r+4]+this[r+5]*2**8+this[r+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++r]*2**8+this[++r]*2**16+this[++r]*2**24)});F.prototype.readBigInt64BE=Qt(function(r){r=r>>>0,Wr(r,"offset");let t=this[r],n=this[r+7];(t===void 0||n===void 0)&&Dn(r,this.length-8);let i=(t<<24)+this[++r]*2**16+this[++r]*2**8+this[++r];return(BigInt(i)<<BigInt(32))+BigInt(this[++r]*2**24+this[++r]*2**16+this[++r]*2**8+n)});F.prototype.readFloatLE=function(r,t){return r=r>>>0,t||ye(r,4,this.length),Vr.read(this,r,!0,23,4)};F.prototype.readFloatBE=function(r,t){return r=r>>>0,t||ye(r,4,this.length),Vr.read(this,r,!1,23,4)};F.prototype.readDoubleLE=function(r,t){return r=r>>>0,t||ye(r,8,this.length),Vr.read(this,r,!0,52,8)};F.prototype.readDoubleBE=function(r,t){return r=r>>>0,t||ye(r,8,this.length),Vr.read(this,r,!1,52,8)};function Ue(e,r,t,n,i,a){if(!F.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<a)throw new RangeError('"value" argument is out of bounds');if(t+n>e.length)throw new RangeError("Index out of range")}F.prototype.writeUintLE=F.prototype.writeUIntLE=function(r,t,n,i){if(r=+r,t=t>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Ue(this,r,t,n,s,0)}let a=1,o=0;for(this[t]=r&255;++o<n&&(a*=256);)this[t+o]=r/a&255;return t+n};F.prototype.writeUintBE=F.prototype.writeUIntBE=function(r,t,n,i){if(r=+r,t=t>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Ue(this,r,t,n,s,0)}let a=n-1,o=1;for(this[t+a]=r&255;--a>=0&&(o*=256);)this[t+a]=r/o&255;return t+n};F.prototype.writeUint8=F.prototype.writeUInt8=function(r,t,n){return r=+r,t=t>>>0,n||Ue(this,r,t,1,255,0),this[t]=r&255,t+1};F.prototype.writeUint16LE=F.prototype.writeUInt16LE=function(r,t,n){return r=+r,t=t>>>0,n||Ue(this,r,t,2,65535,0),this[t]=r&255,this[t+1]=r>>>8,t+2};F.prototype.writeUint16BE=F.prototype.writeUInt16BE=function(r,t,n){return r=+r,t=t>>>0,n||Ue(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=r&255,t+2};F.prototype.writeUint32LE=F.prototype.writeUInt32LE=function(r,t,n){return r=+r,t=t>>>0,n||Ue(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255,t+4};F.prototype.writeUint32BE=F.prototype.writeUInt32BE=function(r,t,n){return r=+r,t=t>>>0,n||Ue(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};function Nf(e,r,t,n,i){Uf(r,n,i,e,t,7);let a=Number(r&BigInt(4294967295));e[t++]=a,a=a>>8,e[t++]=a,a=a>>8,e[t++]=a,a=a>>8,e[t++]=a;let o=Number(r>>BigInt(32)&BigInt(4294967295));return e[t++]=o,o=o>>8,e[t++]=o,o=o>>8,e[t++]=o,o=o>>8,e[t++]=o,t}function Of(e,r,t,n,i){Uf(r,n,i,e,t,7);let a=Number(r&BigInt(4294967295));e[t+7]=a,a=a>>8,e[t+6]=a,a=a>>8,e[t+5]=a,a=a>>8,e[t+4]=a;let o=Number(r>>BigInt(32)&BigInt(4294967295));return e[t+3]=o,o=o>>8,e[t+2]=o,o=o>>8,e[t+1]=o,o=o>>8,e[t]=o,t+8}F.prototype.writeBigUInt64LE=Qt(function(r,t=0){return Nf(this,r,t,BigInt(0),BigInt("0xffffffffffffffff"))});F.prototype.writeBigUInt64BE=Qt(function(r,t=0){return Of(this,r,t,BigInt(0),BigInt("0xffffffffffffffff"))});F.prototype.writeIntLE=function(r,t,n,i){if(r=+r,t=t>>>0,!i){let c=Math.pow(2,8*n-1);Ue(this,r,t,n,c-1,-c)}let a=0,o=1,s=0;for(this[t]=r&255;++a<n&&(o*=256);)r<0&&s===0&&this[t+a-1]!==0&&(s=1),this[t+a]=(r/o>>0)-s&255;return t+n};F.prototype.writeIntBE=function(r,t,n,i){if(r=+r,t=t>>>0,!i){let c=Math.pow(2,8*n-1);Ue(this,r,t,n,c-1,-c)}let a=n-1,o=1,s=0;for(this[t+a]=r&255;--a>=0&&(o*=256);)r<0&&s===0&&this[t+a+1]!==0&&(s=1),this[t+a]=(r/o>>0)-s&255;return t+n};F.prototype.writeInt8=function(r,t,n){return r=+r,t=t>>>0,n||Ue(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=r&255,t+1};F.prototype.writeInt16LE=function(r,t,n){return r=+r,t=t>>>0,n||Ue(this,r,t,2,32767,-32768),this[t]=r&255,this[t+1]=r>>>8,t+2};F.prototype.writeInt16BE=function(r,t,n){return r=+r,t=t>>>0,n||Ue(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=r&255,t+2};F.prototype.writeInt32LE=function(r,t,n){return r=+r,t=t>>>0,n||Ue(this,r,t,4,2147483647,-2147483648),this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4};F.prototype.writeInt32BE=function(r,t,n){return r=+r,t=t>>>0,n||Ue(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};F.prototype.writeBigInt64LE=Qt(function(r,t=0){return Nf(this,r,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});F.prototype.writeBigInt64BE=Qt(function(r,t=0){return Of(this,r,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Rf(e,r,t,n,i,a){if(t+n>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Df(e,r,t,n,i){return r=+r,t=t>>>0,i||Rf(e,r,t,4,34028234663852886e22,-34028234663852886e22),Vr.write(e,r,t,n,23,4),t+4}F.prototype.writeFloatLE=function(r,t,n){return Df(this,r,t,!0,n)};F.prototype.writeFloatBE=function(r,t,n){return Df(this,r,t,!1,n)};function Lf(e,r,t,n,i){return r=+r,t=t>>>0,i||Rf(e,r,t,8,17976931348623157e292,-17976931348623157e292),Vr.write(e,r,t,n,52,8),t+8}F.prototype.writeDoubleLE=function(r,t,n){return Lf(this,r,t,!0,n)};F.prototype.writeDoubleBE=function(r,t,n){return Lf(this,r,t,!1,n)};F.prototype.copy=function(r,t,n,i){if(!F.isBuffer(r))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=r.length&&(t=r.length),t||(t=0),i>0&&i<n&&(i=n),i===n||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),r.length-t<i-n&&(i=r.length-t+n);let a=i-n;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(r,this.subarray(n,i),t),a};F.prototype.fill=function(r,t,n,i){if(typeof r=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!F.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(r.length===1){let o=r.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(r=o)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,r||(r=0);let a;if(typeof r=="number")for(a=t;a<n;++a)this[a]=r;else{let o=F.isBuffer(r)?r:F.from(r,i),s=o.length;if(s===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var zr={};function Qo(e,r,t){zr[e]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}Qo("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Qo("ERR_INVALID_ARG_TYPE",function(e,r){return`The "${e}" argument must be of type number. Received type ${typeof r}`},TypeError);Qo("ERR_OUT_OF_RANGE",function(e,r,t){let n=`The value of "${e}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=Bf(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=Bf(i)),i+="n"),n+=` It must be ${r}. Received ${i}`,n},RangeError);function Bf(e){let r="",t=e.length,n=e[0]==="-"?1:0;for(;t>=n+4;t-=3)r=`_${e.slice(t-3,t)}${r}`;return`${e.slice(0,t)}${r}`}function Tb(e,r,t){Wr(r,"offset"),(e[r]===void 0||e[r+t]===void 0)&&Dn(r,e.length-(t+1))}function Uf(e,r,t,n,i,a){if(e>t||e<r){let o=typeof r=="bigint"?"n":"",s;throw a>3?r===0||r===BigInt(0)?s=`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:s=`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:s=`>= ${r}${o} and <= ${t}${o}`,new zr.ERR_OUT_OF_RANGE("value",s,e)}Tb(n,i,a)}function Wr(e,r){if(typeof e!="number")throw new zr.ERR_INVALID_ARG_TYPE(r,"number",e)}function Dn(e,r,t){throw Math.floor(e)!==e?(Wr(e,t),new zr.ERR_OUT_OF_RANGE(t||"offset","an integer",e)):r<0?new zr.ERR_BUFFER_OUT_OF_BOUNDS:new zr.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${r}`,e)}var Ib=/[^+/0-9A-Za-z-_]/g;function Pb(e){if(e=e.split("=")[0],e=e.trim().replace(Ib,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Zo(e,r){r=r||1/0;let t,n=e.length,i=null,a=[];for(let o=0;o<n;++o){if(t=e.charCodeAt(o),t>55295&&t<57344){if(!i){if(t>56319){(r-=3)>-1&&a.push(239,191,189);continue}else if(o+1===n){(r-=3)>-1&&a.push(239,191,189);continue}i=t;continue}if(t<56320){(r-=3)>-1&&a.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(r-=3)>-1&&a.push(239,191,189);if(i=null,t<128){if((r-=1)<0)break;a.push(t)}else if(t<2048){if((r-=2)<0)break;a.push(t>>6|192,t&63|128)}else if(t<65536){if((r-=3)<0)break;a.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((r-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return a}function qb(e){let r=[];for(let t=0;t<e.length;++t)r.push(e.charCodeAt(t)&255);return r}function kb(e,r){let t,n,i,a=[];for(let o=0;o<e.length&&!((r-=2)<0);++o)t=e.charCodeAt(o),n=t>>8,i=t%256,a.push(i),a.push(n);return a}function Kf(e){return Vo.toByteArray(Pb(e))}function Qi(e,r,t,n){let i;for(i=0;i<n&&!(i+t>=r.length||i>=e.length);++i)r[i+t]=e[i];return i}function Et(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function $o(e){return e!==e}var Nb=function(){let e="0123456789abcdef",r=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<16;++i)r[n+i]=e[t]+e[i]}return r}();function Qt(e){return typeof BigInt>"u"?Ob:e}function Ob(){throw new Error("BigInt not supported")}});var Vf=d((hL,zf)=>{"use strict";var le=zf.exports={},wt,bt;function es(){throw new Error("setTimeout has not been defined")}function ts(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?wt=setTimeout:wt=es}catch{wt=es}try{typeof clearTimeout=="function"?bt=clearTimeout:bt=ts}catch{bt=ts}})();function Hf(e){if(wt===setTimeout)return setTimeout(e,0);if((wt===es||!wt)&&setTimeout)return wt=setTimeout,setTimeout(e,0);try{return wt(e,0)}catch{try{return wt.call(null,e,0)}catch{return wt.call(this,e,0)}}}function Rb(e){if(bt===clearTimeout)return clearTimeout(e);if((bt===ts||!bt)&&clearTimeout)return bt=clearTimeout,clearTimeout(e);try{return bt(e)}catch{try{return bt.call(null,e)}catch{return bt.call(this,e)}}}var Ut=[],Zr=!1,vr,$i=-1;function Db(){!Zr||!vr||(Zr=!1,vr.length?Ut=vr.concat(Ut):$i=-1,Ut.length&&jf())}function jf(){if(!Zr){var e=Hf(Db);Zr=!0;for(var r=Ut.length;r;){for(vr=Ut,Ut=[];++$i<r;)vr&&vr[$i].run();$i=-1,r=Ut.length}vr=null,Zr=!1,Rb(e)}}le.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];Ut.push(new Gf(e,r)),Ut.length===1&&!Zr&&Hf(jf)};function Gf(e,r){this.fun=e,this.array=r}Gf.prototype.run=function(){this.fun.apply(null,this.array)};le.title="browser";le.browser=!0;le.env={};le.argv=[];le.version="";le.versions={};function Kt(){}le.on=Kt;le.addListener=Kt;le.once=Kt;le.off=Kt;le.removeListener=Kt;le.removeAllListeners=Kt;le.emit=Kt;le.prependListener=Kt;le.prependOnceListener=Kt;le.listeners=function(e){return[]};le.binding=function(e){throw new Error("process.binding is not supported")};le.cwd=function(){return"/"};le.chdir=function(e){throw new Error("process.chdir is not supported")};le.umask=function(){return 0}});var ea=d((pL,Wf)=>{"use strict";function Lb(e){return e}Wf.exports=Lb});var ta=d((dL,Jf)=>{"use strict";function Ub(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}Jf.exports=Ub});var rs=d((gL,Yf)=>{"use strict";var Kb=ta(),Zf=Math.max;function Mb(e,r,t){return r=Zf(r===void 0?e.length-1:r,0),function(){for(var n=arguments,i=-1,a=Zf(n.length-r,0),o=Array(a);++i<a;)o[i]=n[r+i];i=-1;for(var s=Array(r+1);++i<r;)s[i]=n[i];return s[r]=t(o),Kb(e,this,s)}}Yf.exports=Mb});var Qf=d((vL,Xf)=>{"use strict";function Hb(e){return function(){return e}}Xf.exports=Hb});var ns=d((yL,$f)=>{"use strict";var jb=typeof global=="object"&&global&&global.Object===Object&&global;$f.exports=jb});var qe=d((mL,el)=>{"use strict";var Gb=ns(),zb=typeof self=="object"&&self&&self.Object===Object&&self,Vb=Gb||zb||Function("return this")();el.exports=Vb});var Yr=d((_L,tl)=>{"use strict";var Wb=qe(),Jb=Wb.Symbol;tl.exports=Jb});var al=d((EL,il)=>{"use strict";var rl=Yr(),nl=Object.prototype,Zb=nl.hasOwnProperty,Yb=nl.toString,Ln=rl?rl.toStringTag:void 0;function Xb(e){var r=Zb.call(e,Ln),t=e[Ln];try{e[Ln]=void 0;var n=!0}catch{}var i=Yb.call(e);return n&&(r?e[Ln]=t:delete e[Ln]),i}il.exports=Xb});var sl=d((wL,ol)=>{"use strict";var Qb=Object.prototype,$b=Qb.toString;function e2(e){return $b.call(e)}ol.exports=e2});var yr=d((bL,fl)=>{"use strict";var ul=Yr(),t2=al(),r2=sl(),n2="[object Null]",i2="[object Undefined]",cl=ul?ul.toStringTag:void 0;function a2(e){return e==null?e===void 0?i2:n2:cl&&cl in Object(e)?t2(e):r2(e)}fl.exports=a2});var et=d((FL,ll)=>{"use strict";function o2(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}ll.exports=o2});var ra=d((xL,hl)=>{"use strict";var s2=yr(),u2=et(),c2="[object AsyncFunction]",f2="[object Function]",l2="[object GeneratorFunction]",h2="[object Proxy]";function p2(e){if(!u2(e))return!1;var r=s2(e);return r==f2||r==l2||r==c2||r==h2}hl.exports=p2});var dl=d((AL,pl)=>{"use strict";var d2=qe(),g2=d2["__core-js_shared__"];pl.exports=g2});var yl=d((SL,vl)=>{"use strict";var is=dl(),gl=function(){var e=/[^.]+$/.exec(is&&is.keys&&is.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function v2(e){return!!gl&&gl in e}vl.exports=v2});var as=d((CL,ml)=>{"use strict";var y2=Function.prototype,m2=y2.toString;function _2(e){if(e!=null){try{return m2.call(e)}catch{}try{return e+""}catch{}}return""}ml.exports=_2});var El=d((BL,_l)=>{"use strict";var E2=ra(),w2=yl(),b2=et(),F2=as(),x2=/[\\^$.*+?()[\]{}|]/g,A2=/^\[object .+?Constructor\]$/,S2=Function.prototype,C2=Object.prototype,B2=S2.toString,T2=C2.hasOwnProperty,I2=RegExp("^"+B2.call(T2).replace(x2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function P2(e){if(!b2(e)||w2(e))return!1;var r=E2(e)?I2:A2;return r.test(F2(e))}_l.exports=P2});var bl=d((TL,wl)=>{"use strict";function q2(e,r){return e?.[r]}wl.exports=q2});var $t=d((IL,Fl)=>{"use strict";var k2=El(),N2=bl();function O2(e,r){var t=N2(e,r);return k2(t)?t:void 0}Fl.exports=O2});var os=d((PL,xl)=>{"use strict";var R2=$t(),D2=function(){try{var e=R2(Object,"defineProperty");return e({},"",{}),e}catch{}}();xl.exports=D2});var Cl=d((qL,Sl)=>{"use strict";var L2=Qf(),Al=os(),U2=ea(),K2=Al?function(e,r){return Al(e,"toString",{configurable:!0,enumerable:!1,value:L2(r),writable:!0})}:U2;Sl.exports=K2});var ss=d((kL,Bl)=>{"use strict";var M2=800,H2=16,j2=Date.now;function G2(e){var r=0,t=0;return function(){var n=j2(),i=H2-(n-t);if(t=n,i>0){if(++r>=M2)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}Bl.exports=G2});var na=d((NL,Tl)=>{"use strict";var z2=Cl(),V2=ss(),W2=V2(z2);Tl.exports=W2});var ia=d((OL,Il)=>{"use strict";var J2=ea(),Z2=rs(),Y2=na();function X2(e,r){return Y2(Z2(e,r,J2),e+"")}Il.exports=X2});var us=d((RL,Pl)=>{"use strict";var Q2=$t(),$2=qe(),eF=Q2($2,"WeakMap");Pl.exports=eF});var cs=d((DL,kl)=>{"use strict";var ql=us(),tF=ql&&new ql;kl.exports=tF});var fs=d((LL,Ol)=>{"use strict";var rF=ea(),Nl=cs(),nF=Nl?function(e,r){return Nl.set(e,r),e}:rF;Ol.exports=nF});var Un=d((UL,Dl)=>{"use strict";var iF=et(),Rl=Object.create,aF=function(){function e(){}return function(r){if(!iF(r))return{};if(Rl)return Rl(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();Dl.exports=aF});var Kn=d((KL,Ll)=>{"use strict";var oF=Un(),sF=et();function uF(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var t=oF(e.prototype),n=e.apply(t,r);return sF(n)?n:t}}Ll.exports=uF});var Kl=d((ML,Ul)=>{"use strict";var cF=Kn(),fF=qe(),lF=1;function hF(e,r,t){var n=r&lF,i=cF(e);function a(){var o=this&&this!==fF&&this instanceof a?i:e;return o.apply(n?t:this,arguments)}return a}Ul.exports=hF});var ls=d((HL,Ml)=>{"use strict";var pF=Math.max;function dF(e,r,t,n){for(var i=-1,a=e.length,o=t.length,s=-1,c=r.length,u=pF(a-o,0),f=Array(c+u),l=!n;++s<c;)f[s]=r[s];for(;++i<o;)(l||i<a)&&(f[t[i]]=e[i]);for(;u--;)f[s++]=e[i++];return f}Ml.exports=dF});var hs=d((jL,Hl)=>{"use strict";var gF=Math.max;function vF(e,r,t,n){for(var i=-1,a=e.length,o=-1,s=t.length,c=-1,u=r.length,f=gF(a-s,0),l=Array(f+u),p=!n;++i<f;)l[i]=e[i];for(var h=i;++c<u;)l[h+c]=r[c];for(;++o<s;)(p||i<a)&&(l[h+t[o]]=e[i++]);return l}Hl.exports=vF});var Gl=d((GL,jl)=>{"use strict";function yF(e,r){for(var t=e.length,n=0;t--;)e[t]===r&&++n;return n}jl.exports=yF});var aa=d((zL,zl)=>{"use strict";function mF(){}zl.exports=mF});var sa=d((VL,Vl)=>{"use strict";var _F=Un(),EF=aa(),wF=4294967295;function oa(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=wF,this.__views__=[]}oa.prototype=_F(EF.prototype);oa.prototype.constructor=oa;Vl.exports=oa});var ps=d((WL,Wl)=>{"use strict";function bF(){}Wl.exports=bF});var ds=d((JL,Zl)=>{"use strict";var Jl=cs(),FF=ps(),xF=Jl?function(e){return Jl.get(e)}:FF;Zl.exports=xF});var Xl=d((ZL,Yl)=>{"use strict";var AF={};Yl.exports=AF});var eh=d((YL,$l)=>{"use strict";var Ql=Xl(),SF=Object.prototype,CF=SF.hasOwnProperty;function BF(e){for(var r=e.name+"",t=Ql[r],n=CF.call(Ql,r)?t.length:0;n--;){var i=t[n],a=i.func;if(a==null||a==e)return i.name}return r}$l.exports=BF});var gs=d((XL,th)=>{"use strict";var TF=Un(),IF=aa();function ua(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}ua.prototype=TF(IF.prototype);ua.prototype.constructor=ua;th.exports=ua});var dt=d((QL,rh)=>{"use strict";var PF=Array.isArray;rh.exports=PF});var Ft=d(($L,nh)=>{"use strict";function qF(e){return e!=null&&typeof e=="object"}nh.exports=qF});var Mn=d((eU,ih)=>{"use strict";function kF(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}ih.exports=kF});var oh=d((tU,ah)=>{"use strict";var NF=sa(),OF=gs(),RF=Mn();function DF(e){if(e instanceof NF)return e.clone();var r=new OF(e.__wrapped__,e.__chain__);return r.__actions__=RF(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}ah.exports=DF});var ch=d((rU,uh)=>{"use strict";var LF=sa(),sh=gs(),UF=aa(),KF=dt(),MF=Ft(),HF=oh(),jF=Object.prototype,GF=jF.hasOwnProperty;function ca(e){if(MF(e)&&!KF(e)&&!(e instanceof LF)){if(e instanceof sh)return e;if(GF.call(e,"__wrapped__"))return HF(e)}return new sh(e)}ca.prototype=UF.prototype;ca.prototype.constructor=ca;uh.exports=ca});var lh=d((nU,fh)=>{"use strict";var zF=sa(),VF=ds(),WF=eh(),JF=ch();function ZF(e){var r=WF(e),t=JF[r];if(typeof t!="function"||!(r in zF.prototype))return!1;if(e===t)return!0;var n=VF(t);return!!n&&e===n[0]}fh.exports=ZF});var vs=d((iU,hh)=>{"use strict";var YF=fs(),XF=ss(),QF=XF(YF);hh.exports=QF});var dh=d((aU,ph)=>{"use strict";var $F=/\{\n\/\* \[wrapped with (.+)\] \*/,ex=/,? & /;function tx(e){var r=e.match($F);return r?r[1].split(ex):[]}ph.exports=tx});var vh=d((oU,gh)=>{"use strict";var rx=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function nx(e,r){var t=r.length;if(!t)return e;var n=t-1;return r[n]=(t>1?"& ":"")+r[n],r=r.join(t>2?", ":" "),e.replace(rx,`{
/* [wrapped with `+r+`] */
`)}gh.exports=nx});var ys=d((sU,yh)=>{"use strict";function ix(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}yh.exports=ix});var _h=d((uU,mh)=>{"use strict";function ax(e,r,t,n){for(var i=e.length,a=t+(n?1:-1);n?a--:++a<i;)if(r(e[a],a,e))return a;return-1}mh.exports=ax});var wh=d((cU,Eh)=>{"use strict";function ox(e){return e!==e}Eh.exports=ox});var Fh=d((fU,bh)=>{"use strict";function sx(e,r,t){for(var n=t-1,i=e.length;++n<i;)if(e[n]===r)return n;return-1}bh.exports=sx});var Ah=d((lU,xh)=>{"use strict";var ux=_h(),cx=wh(),fx=Fh();function lx(e,r,t){return r===r?fx(e,r,t):ux(e,cx,t)}xh.exports=lx});var fa=d((hU,Sh)=>{"use strict";var hx=Ah();function px(e,r){var t=e==null?0:e.length;return!!t&&hx(e,r,0)>-1}Sh.exports=px});var Bh=d((pU,Ch)=>{"use strict";var dx=ys(),gx=fa(),vx=1,yx=2,mx=8,_x=16,Ex=32,wx=64,bx=128,Fx=256,xx=512,Ax=[["ary",bx],["bind",vx],["bindKey",yx],["curry",mx],["curryRight",_x],["flip",xx],["partial",Ex],["partialRight",wx],["rearg",Fx]];function Sx(e,r){return dx(Ax,function(t){var n="_."+t[0];r&t[1]&&!gx(e,n)&&e.push(n)}),e.sort()}Ch.exports=Sx});var ms=d((dU,Th)=>{"use strict";var Cx=dh(),Bx=vh(),Tx=na(),Ix=Bh();function Px(e,r,t){var n=r+"";return Tx(e,Bx(n,Ix(Cx(n),t)))}Th.exports=Px});var _s=d((gU,qh)=>{"use strict";var qx=lh(),kx=vs(),Nx=ms(),Ox=1,Rx=2,Dx=4,Lx=8,Ih=32,Ph=64;function Ux(e,r,t,n,i,a,o,s,c,u){var f=r&Lx,l=f?o:void 0,p=f?void 0:o,h=f?a:void 0,v=f?void 0:a;r|=f?Ih:Ph,r&=~(f?Ph:Ih),r&Dx||(r&=~(Ox|Rx));var m=[e,r,i,h,l,v,p,s,c,u],y=t.apply(void 0,m);return qx(e)&&kx(y,m),y.placeholder=n,Nx(y,e,r)}qh.exports=Ux});var la=d((vU,kh)=>{"use strict";function Kx(e){var r=e;return r.placeholder}kh.exports=Kx});var Xr=d((yU,Nh)=>{"use strict";var Mx=9007199254740991,Hx=/^(?:0|[1-9]\d*)$/;function jx(e,r){var t=typeof e;return r=r??Mx,!!r&&(t=="number"||t!="symbol"&&Hx.test(e))&&e>-1&&e%1==0&&e<r}Nh.exports=jx});var Rh=d((mU,Oh)=>{"use strict";var Gx=Mn(),zx=Xr(),Vx=Math.min;function Wx(e,r){for(var t=e.length,n=Vx(r.length,t),i=Gx(e);n--;){var a=r[n];e[n]=zx(a,t)?i[a]:void 0}return e}Oh.exports=Wx});var Hn=d((_U,Lh)=>{"use strict";var Dh="__lodash_placeholder__";function Jx(e,r){for(var t=-1,n=e.length,i=0,a=[];++t<n;){var o=e[t];(o===r||o===Dh)&&(e[t]=Dh,a[i++]=t)}return a}Lh.exports=Jx});var Es=d((EU,Mh)=>{"use strict";var Zx=ls(),Yx=hs(),Xx=Gl(),Uh=Kn(),Qx=_s(),$x=la(),eA=Rh(),tA=Hn(),rA=qe(),nA=1,iA=2,aA=8,oA=16,sA=128,uA=512;function Kh(e,r,t,n,i,a,o,s,c,u){var f=r&sA,l=r&nA,p=r&iA,h=r&(aA|oA),v=r&uA,m=p?void 0:Uh(e);function y(){for(var _=arguments.length,E=Array(_),A=_;A--;)E[A]=arguments[A];if(h)var w=$x(y),T=Xx(E,w);if(n&&(E=Zx(E,n,i,h)),a&&(E=Yx(E,a,o,h)),_-=T,h&&_<u){var M=tA(E,w);return Qx(e,r,Kh,y.placeholder,t,E,M,s,c,u-_)}var C=l?t:this,L=p?C[e]:e;return _=E.length,s?E=eA(E,s):v&&_>1&&E.reverse(),f&&c<_&&(E.length=c),this&&this!==rA&&this instanceof y&&(L=m||Uh(L)),L.apply(C,E)}return y}Mh.exports=Kh});var jh=d((wU,Hh)=>{"use strict";var cA=ta(),fA=Kn(),lA=Es(),hA=_s(),pA=la(),dA=Hn(),gA=qe();function vA(e,r,t){var n=fA(e);function i(){for(var a=arguments.length,o=Array(a),s=a,c=pA(i);s--;)o[s]=arguments[s];var u=a<3&&o[0]!==c&&o[a-1]!==c?[]:dA(o,c);if(a-=u.length,a<t)return hA(e,r,lA,i.placeholder,void 0,o,u,void 0,void 0,t-a);var f=this&&this!==gA&&this instanceof i?n:e;return cA(f,this,o)}return i}Hh.exports=vA});var zh=d((bU,Gh)=>{"use strict";var yA=ta(),mA=Kn(),_A=qe(),EA=1;function wA(e,r,t,n){var i=r&EA,a=mA(e);function o(){for(var s=-1,c=arguments.length,u=-1,f=n.length,l=Array(f+c),p=this&&this!==_A&&this instanceof o?a:e;++u<f;)l[u]=n[u];for(;c--;)l[u++]=arguments[++s];return yA(p,i?t:this,l)}return o}Gh.exports=wA});var Xh=d((FU,Yh)=>{"use strict";var bA=ls(),FA=hs(),Vh=Hn(),Wh="__lodash_placeholder__",ws=1,xA=2,AA=4,Jh=8,jn=128,Zh=256,SA=Math.min;function CA(e,r){var t=e[1],n=r[1],i=t|n,a=i<(ws|xA|jn),o=n==jn&&t==Jh||n==jn&&t==Zh&&e[7].length<=r[8]||n==(jn|Zh)&&r[7].length<=r[8]&&t==Jh;if(!(a||o))return e;n&ws&&(e[2]=r[2],i|=t&ws?0:AA);var s=r[3];if(s){var c=e[3];e[3]=c?bA(c,s,r[4]):s,e[4]=c?Vh(e[3],Wh):r[4]}return s=r[5],s&&(c=e[5],e[5]=c?FA(c,s,r[6]):s,e[6]=c?Vh(e[5],Wh):r[6]),s=r[7],s&&(e[7]=s),n&jn&&(e[8]=e[8]==null?r[8]:SA(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=i,e}Yh.exports=CA});var $h=d((xU,Qh)=>{"use strict";var BA=/\s/;function TA(e){for(var r=e.length;r--&&BA.test(e.charAt(r)););return r}Qh.exports=TA});var tp=d((AU,ep)=>{"use strict";var IA=$h(),PA=/^\s+/;function qA(e){return e&&e.slice(0,IA(e)+1).replace(PA,"")}ep.exports=qA});var Gn=d((SU,rp)=>{"use strict";var kA=yr(),NA=Ft(),OA="[object Symbol]";function RA(e){return typeof e=="symbol"||NA(e)&&kA(e)==OA}rp.exports=RA});var op=d((CU,ap)=>{"use strict";var DA=tp(),np=et(),LA=Gn(),ip=0/0,UA=/^[-+]0x[0-9a-f]+$/i,KA=/^0b[01]+$/i,MA=/^0o[0-7]+$/i,HA=parseInt;function jA(e){if(typeof e=="number")return e;if(LA(e))return ip;if(np(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=np(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=DA(e);var t=KA.test(e);return t||MA.test(e)?HA(e.slice(2),t?2:8):UA.test(e)?ip:+e}ap.exports=jA});var cp=d((BU,up)=>{"use strict";var GA=op(),sp=1/0,zA=17976931348623157e292;function VA(e){if(!e)return e===0?e:0;if(e=GA(e),e===sp||e===-sp){var r=e<0?-1:1;return r*zA}return e===e?e:0}up.exports=VA});var ha=d((TU,fp)=>{"use strict";var WA=cp();function JA(e){var r=WA(e),t=r%1;return r===r?t?r-t:r:0}fp.exports=JA});var vp=d((IU,gp)=>{"use strict";var ZA=fs(),YA=Kl(),XA=jh(),QA=Es(),$A=zh(),eS=ds(),tS=Xh(),rS=vs(),nS=ms(),lp=ha(),iS="Expected a function",hp=1,aS=2,bs=8,Fs=16,xs=32,pp=64,dp=Math.max;function oS(e,r,t,n,i,a,o,s){var c=r&aS;if(!c&&typeof e!="function")throw new TypeError(iS);var u=n?n.length:0;if(u||(r&=~(xs|pp),n=i=void 0),o=o===void 0?o:dp(lp(o),0),s=s===void 0?s:lp(s),u-=i?i.length:0,r&pp){var f=n,l=i;n=i=void 0}var p=c?void 0:eS(e),h=[e,r,t,n,i,f,l,a,o,s];if(p&&tS(h,p),e=h[0],r=h[1],t=h[2],n=h[3],i=h[4],s=h[9]=h[9]===void 0?c?0:e.length:dp(h[9]-u,0),!s&&r&(bs|Fs)&&(r&=~(bs|Fs)),!r||r==hp)var v=YA(e,r,t);else r==bs||r==Fs?v=XA(e,r,s):(r==xs||r==(hp|xs))&&!i.length?v=$A(e,r,t,n):v=QA.apply(void 0,h);var m=p?ZA:rS;return nS(m(v,h),e,r)}gp.exports=oS});var mp=d((PU,yp)=>{"use strict";var sS=ia(),uS=vp(),cS=la(),fS=Hn(),lS=64,As=sS(function(e,r){var t=fS(r,cS(As));return uS(e,lS,void 0,r,t)});As.placeholder={};yp.exports=As});var Ep=d((qU,_p)=>{"use strict";function hS(){this.__data__=[],this.size=0}_p.exports=hS});var zn=d((kU,wp)=>{"use strict";function pS(e,r){return e===r||e!==e&&r!==r}wp.exports=pS});var Vn=d((NU,bp)=>{"use strict";var dS=zn();function gS(e,r){for(var t=e.length;t--;)if(dS(e[t][0],r))return t;return-1}bp.exports=gS});var xp=d((OU,Fp)=>{"use strict";var vS=Vn(),yS=Array.prototype,mS=yS.splice;function _S(e){var r=this.__data__,t=vS(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():mS.call(r,t,1),--this.size,!0}Fp.exports=_S});var Sp=d((RU,Ap)=>{"use strict";var ES=Vn();function wS(e){var r=this.__data__,t=ES(r,e);return t<0?void 0:r[t][1]}Ap.exports=wS});var Bp=d((DU,Cp)=>{"use strict";var bS=Vn();function FS(e){return bS(this.__data__,e)>-1}Cp.exports=FS});var Ip=d((LU,Tp)=>{"use strict";var xS=Vn();function AS(e,r){var t=this.__data__,n=xS(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}Tp.exports=AS});var Wn=d((UU,Pp)=>{"use strict";var SS=Ep(),CS=xp(),BS=Sp(),TS=Bp(),IS=Ip();function Qr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Qr.prototype.clear=SS;Qr.prototype.delete=CS;Qr.prototype.get=BS;Qr.prototype.has=TS;Qr.prototype.set=IS;Pp.exports=Qr});var kp=d((KU,qp)=>{"use strict";var PS=Wn();function qS(){this.__data__=new PS,this.size=0}qp.exports=qS});var Op=d((MU,Np)=>{"use strict";function kS(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}Np.exports=kS});var Dp=d((HU,Rp)=>{"use strict";function NS(e){return this.__data__.get(e)}Rp.exports=NS});var Up=d((jU,Lp)=>{"use strict";function OS(e){return this.__data__.has(e)}Lp.exports=OS});var pa=d((GU,Kp)=>{"use strict";var RS=$t(),DS=qe(),LS=RS(DS,"Map");Kp.exports=LS});var Jn=d((zU,Mp)=>{"use strict";var US=$t(),KS=US(Object,"create");Mp.exports=KS});var Gp=d((VU,jp)=>{"use strict";var Hp=Jn();function MS(){this.__data__=Hp?Hp(null):{},this.size=0}jp.exports=MS});var Vp=d((WU,zp)=>{"use strict";function HS(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}zp.exports=HS});var Jp=d((JU,Wp)=>{"use strict";var jS=Jn(),GS="__lodash_hash_undefined__",zS=Object.prototype,VS=zS.hasOwnProperty;function WS(e){var r=this.__data__;if(jS){var t=r[e];return t===GS?void 0:t}return VS.call(r,e)?r[e]:void 0}Wp.exports=WS});var Yp=d((ZU,Zp)=>{"use strict";var JS=Jn(),ZS=Object.prototype,YS=ZS.hasOwnProperty;function XS(e){var r=this.__data__;return JS?r[e]!==void 0:YS.call(r,e)}Zp.exports=XS});var Qp=d((YU,Xp)=>{"use strict";var QS=Jn(),$S="__lodash_hash_undefined__";function eC(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=QS&&r===void 0?$S:r,this}Xp.exports=eC});var ed=d((XU,$p)=>{"use strict";var tC=Gp(),rC=Vp(),nC=Jp(),iC=Yp(),aC=Qp();function $r(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}$r.prototype.clear=tC;$r.prototype.delete=rC;$r.prototype.get=nC;$r.prototype.has=iC;$r.prototype.set=aC;$p.exports=$r});var nd=d((QU,rd)=>{"use strict";var td=ed(),oC=Wn(),sC=pa();function uC(){this.size=0,this.__data__={hash:new td,map:new(sC||oC),string:new td}}rd.exports=uC});var ad=d(($U,id)=>{"use strict";function cC(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}id.exports=cC});var Zn=d((eK,od)=>{"use strict";var fC=ad();function lC(e,r){var t=e.__data__;return fC(r)?t[typeof r=="string"?"string":"hash"]:t.map}od.exports=lC});var ud=d((tK,sd)=>{"use strict";var hC=Zn();function pC(e){var r=hC(this,e).delete(e);return this.size-=r?1:0,r}sd.exports=pC});var fd=d((rK,cd)=>{"use strict";var dC=Zn();function gC(e){return dC(this,e).get(e)}cd.exports=gC});var hd=d((nK,ld)=>{"use strict";var vC=Zn();function yC(e){return vC(this,e).has(e)}ld.exports=yC});var dd=d((iK,pd)=>{"use strict";var mC=Zn();function _C(e,r){var t=mC(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}pd.exports=_C});var da=d((aK,gd)=>{"use strict";var EC=nd(),wC=ud(),bC=fd(),FC=hd(),xC=dd();function en(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}en.prototype.clear=EC;en.prototype.delete=wC;en.prototype.get=bC;en.prototype.has=FC;en.prototype.set=xC;gd.exports=en});var yd=d((oK,vd)=>{"use strict";var AC=Wn(),SC=pa(),CC=da(),BC=200;function TC(e,r){var t=this.__data__;if(t instanceof AC){var n=t.__data__;if(!SC||n.length<BC-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new CC(n)}return t.set(e,r),this.size=t.size,this}vd.exports=TC});var Ss=d((sK,md)=>{"use strict";var IC=Wn(),PC=kp(),qC=Op(),kC=Dp(),NC=Up(),OC=yd();function tn(e){var r=this.__data__=new IC(e);this.size=r.size}tn.prototype.clear=PC;tn.prototype.delete=qC;tn.prototype.get=kC;tn.prototype.has=NC;tn.prototype.set=OC;md.exports=tn});var ga=d((uK,Ed)=>{"use strict";var _d=os();function RC(e,r,t){r=="__proto__"&&_d?_d(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}Ed.exports=RC});var Cs=d((cK,wd)=>{"use strict";var DC=ga(),LC=zn();function UC(e,r,t){(t!==void 0&&!LC(e[r],t)||t===void 0&&!(r in e))&&DC(e,r,t)}wd.exports=UC});var Fd=d((fK,bd)=>{"use strict";function KC(e){return function(r,t,n){for(var i=-1,a=Object(r),o=n(r),s=o.length;s--;){var c=o[e?s:++i];if(t(a[c],c,a)===!1)break}return r}}bd.exports=KC});var Ad=d((lK,xd)=>{"use strict";var MC=Fd(),HC=MC();xd.exports=HC});var Bs=d((Yn,rn)=>{"use strict";var jC=qe(),Td=typeof Yn=="object"&&Yn&&!Yn.nodeType&&Yn,Sd=Td&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,GC=Sd&&Sd.exports===Td,Cd=GC?jC.Buffer:void 0,Bd=Cd?Cd.allocUnsafe:void 0;function zC(e,r){if(r)return e.slice();var t=e.length,n=Bd?Bd(t):new e.constructor(t);return e.copy(n),n}rn.exports=zC});var Pd=d((hK,Id)=>{"use strict";var VC=qe(),WC=VC.Uint8Array;Id.exports=WC});var va=d((pK,kd)=>{"use strict";var qd=Pd();function JC(e){var r=new e.constructor(e.byteLength);return new qd(r).set(new qd(e)),r}kd.exports=JC});var Ts=d((dK,Nd)=>{"use strict";var ZC=va();function YC(e,r){var t=r?ZC(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}Nd.exports=YC});var Is=d((gK,Od)=>{"use strict";function XC(e,r){return function(t){return e(r(t))}}Od.exports=XC});var ya=d((vK,Rd)=>{"use strict";var QC=Is(),$C=QC(Object.getPrototypeOf,Object);Rd.exports=$C});var Xn=d((yK,Dd)=>{"use strict";var eB=Object.prototype;function tB(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||eB;return e===t}Dd.exports=tB});var Ps=d((mK,Ld)=>{"use strict";var rB=Un(),nB=ya(),iB=Xn();function aB(e){return typeof e.constructor=="function"&&!iB(e)?rB(nB(e)):{}}Ld.exports=aB});var Kd=d((_K,Ud)=>{"use strict";var oB=yr(),sB=Ft(),uB="[object Arguments]";function cB(e){return sB(e)&&oB(e)==uB}Ud.exports=cB});var Qn=d((EK,jd)=>{"use strict";var Md=Kd(),fB=Ft(),Hd=Object.prototype,lB=Hd.hasOwnProperty,hB=Hd.propertyIsEnumerable,pB=Md(function(){return arguments}())?Md:function(e){return fB(e)&&lB.call(e,"callee")&&!hB.call(e,"callee")};jd.exports=pB});var ma=d((wK,Gd)=>{"use strict";var dB=9007199254740991;function gB(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dB}Gd.exports=gB});var nn=d((bK,zd)=>{"use strict";var vB=ra(),yB=ma();function mB(e){return e!=null&&yB(e.length)&&!vB(e)}zd.exports=mB});var qs=d((FK,Vd)=>{"use strict";var _B=nn(),EB=Ft();function wB(e){return EB(e)&&_B(e)}Vd.exports=wB});var Jd=d((xK,Wd)=>{"use strict";function bB(){return!1}Wd.exports=bB});var _a=d(($n,an)=>{"use strict";var FB=qe(),xB=Jd(),Xd=typeof $n=="object"&&$n&&!$n.nodeType&&$n,Zd=Xd&&typeof an=="object"&&an&&!an.nodeType&&an,AB=Zd&&Zd.exports===Xd,Yd=AB?FB.Buffer:void 0,SB=Yd?Yd.isBuffer:void 0,CB=SB||xB;an.exports=CB});var ks=d((AK,$d)=>{"use strict";var BB=yr(),TB=ya(),IB=Ft(),PB="[object Object]",qB=Function.prototype,kB=Object.prototype,Qd=qB.toString,NB=kB.hasOwnProperty,OB=Qd.call(Object);function RB(e){if(!IB(e)||BB(e)!=PB)return!1;var r=TB(e);if(r===null)return!0;var t=NB.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Qd.call(t)==OB}$d.exports=RB});var t0=d((SK,e0)=>{"use strict";var DB=yr(),LB=ma(),UB=Ft(),KB="[object Arguments]",MB="[object Array]",HB="[object Boolean]",jB="[object Date]",GB="[object Error]",zB="[object Function]",VB="[object Map]",WB="[object Number]",JB="[object Object]",ZB="[object RegExp]",YB="[object Set]",XB="[object String]",QB="[object WeakMap]",$B="[object ArrayBuffer]",eT="[object DataView]",tT="[object Float32Array]",rT="[object Float64Array]",nT="[object Int8Array]",iT="[object Int16Array]",aT="[object Int32Array]",oT="[object Uint8Array]",sT="[object Uint8ClampedArray]",uT="[object Uint16Array]",cT="[object Uint32Array]",ie={};ie[tT]=ie[rT]=ie[nT]=ie[iT]=ie[aT]=ie[oT]=ie[sT]=ie[uT]=ie[cT]=!0;ie[KB]=ie[MB]=ie[$B]=ie[HB]=ie[eT]=ie[jB]=ie[GB]=ie[zB]=ie[VB]=ie[WB]=ie[JB]=ie[ZB]=ie[YB]=ie[XB]=ie[QB]=!1;function fT(e){return UB(e)&&LB(e.length)&&!!ie[DB(e)]}e0.exports=fT});var ei=d((CK,r0)=>{"use strict";function lT(e){return function(r){return e(r)}}r0.exports=lT});var Ea=d((ti,on)=>{"use strict";var hT=ns(),n0=typeof ti=="object"&&ti&&!ti.nodeType&&ti,ri=n0&&typeof on=="object"&&on&&!on.nodeType&&on,pT=ri&&ri.exports===n0,Ns=pT&&hT.process,dT=function(){try{var e=ri&&ri.require&&ri.require("util").types;return e||Ns&&Ns.binding&&Ns.binding("util")}catch{}}();on.exports=dT});var Os=d((BK,o0)=>{"use strict";var gT=t0(),vT=ei(),i0=Ea(),a0=i0&&i0.isTypedArray,yT=a0?vT(a0):gT;o0.exports=yT});var Rs=d((TK,s0)=>{"use strict";function mT(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}s0.exports=mT});var ni=d((IK,u0)=>{"use strict";var _T=ga(),ET=zn(),wT=Object.prototype,bT=wT.hasOwnProperty;function FT(e,r,t){var n=e[r];(!(bT.call(e,r)&&ET(n,t))||t===void 0&&!(r in e))&&_T(e,r,t)}u0.exports=FT});var er=d((PK,c0)=>{"use strict";var xT=ni(),AT=ga();function ST(e,r,t,n){var i=!t;t||(t={});for(var a=-1,o=r.length;++a<o;){var s=r[a],c=n?n(t[s],e[s],s,t,e):void 0;c===void 0&&(c=e[s]),i?AT(t,s,c):xT(t,s,c)}return t}c0.exports=ST});var l0=d((qK,f0)=>{"use strict";function CT(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}f0.exports=CT});var Ds=d((kK,h0)=>{"use strict";var BT=l0(),TT=Qn(),IT=dt(),PT=_a(),qT=Xr(),kT=Os(),NT=Object.prototype,OT=NT.hasOwnProperty;function RT(e,r){var t=IT(e),n=!t&&TT(e),i=!t&&!n&&PT(e),a=!t&&!n&&!i&&kT(e),o=t||n||i||a,s=o?BT(e.length,String):[],c=s.length;for(var u in e)(r||OT.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qT(u,c)))&&s.push(u);return s}h0.exports=RT});var d0=d((NK,p0)=>{"use strict";function DT(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}p0.exports=DT});var v0=d((OK,g0)=>{"use strict";var LT=et(),UT=Xn(),KT=d0(),MT=Object.prototype,HT=MT.hasOwnProperty;function jT(e){if(!LT(e))return KT(e);var r=UT(e),t=[];for(var n in e)n=="constructor"&&(r||!HT.call(e,n))||t.push(n);return t}g0.exports=jT});var sn=d((RK,y0)=>{"use strict";var GT=Ds(),zT=v0(),VT=nn();function WT(e){return VT(e)?GT(e,!0):zT(e)}y0.exports=WT});var _0=d((DK,m0)=>{"use strict";var JT=er(),ZT=sn();function YT(e){return JT(e,ZT(e))}m0.exports=YT});var A0=d((LK,x0)=>{"use strict";var E0=Cs(),XT=Bs(),QT=Ts(),$T=Mn(),e3=Ps(),w0=Qn(),b0=dt(),t3=qs(),r3=_a(),n3=ra(),i3=et(),a3=ks(),o3=Os(),F0=Rs(),s3=_0();function u3(e,r,t,n,i,a,o){var s=F0(e,t),c=F0(r,t),u=o.get(c);if(u){E0(e,t,u);return}var f=a?a(s,c,t+"",e,r,o):void 0,l=f===void 0;if(l){var p=b0(c),h=!p&&r3(c),v=!p&&!h&&o3(c);f=c,p||h||v?b0(s)?f=s:t3(s)?f=$T(s):h?(l=!1,f=XT(c,!0)):v?(l=!1,f=QT(c,!0)):f=[]:a3(c)||w0(c)?(f=s,w0(s)?f=s3(s):(!i3(s)||n3(s))&&(f=e3(c))):l=!1}l&&(o.set(c,f),i(f,c,n,a,o),o.delete(c)),E0(e,t,f)}x0.exports=u3});var B0=d((UK,C0)=>{"use strict";var c3=Ss(),f3=Cs(),l3=Ad(),h3=A0(),p3=et(),d3=sn(),g3=Rs();function S0(e,r,t,n,i){e!==r&&l3(r,function(a,o){if(i||(i=new c3),p3(a))h3(e,r,o,t,S0,n,i);else{var s=n?n(g3(e,o),a,o+"",e,r,i):void 0;s===void 0&&(s=a),f3(e,o,s)}},d3)}C0.exports=S0});var Ls=d((KK,T0)=>{"use strict";var v3=zn(),y3=nn(),m3=Xr(),_3=et();function E3(e,r,t){if(!_3(t))return!1;var n=typeof r;return(n=="number"?y3(t)&&m3(r,t.length):n=="string"&&r in t)?v3(t[r],e):!1}T0.exports=E3});var Us=d((MK,I0)=>{"use strict";var w3=ia(),b3=Ls();function F3(e){return w3(function(r,t){var n=-1,i=t.length,a=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&b3(t[0],t[1],o)&&(a=i<3?void 0:a,i=1),r=Object(r);++n<i;){var s=t[n];s&&e(r,s,n,a)}return r})}I0.exports=F3});var q0=d((HK,P0)=>{"use strict";var x3=B0(),A3=Us(),S3=A3(function(e,r,t){x3(e,r,t)});P0.exports=S3});var Mt=d((jK,k0)=>{"use strict";var C3=mp(),B3=q0(),Ks=function(){var e=[];return typeof Uint8ClampedArray<"u"&&e.push(Uint8ClampedArray),typeof Uint8Array<"u"&&e.push(Uint8Array),typeof Uint16Array<"u"&&e.push(Uint16Array),typeof Uint32Array<"u"&&e.push(Uint32Array),typeof Float32Array<"u"&&e.push(Float32Array),typeof Float64Array<"u"&&e.push(Float64Array),e}();function T3(e){for(var r,t=0;!r&&Ks.length>t;t++)e instanceof Ks[t]&&(r=Ks[t]);return r}function I3(e,r){if(Buffer.isBuffer(r))r=Buffer.from(r);else{var t=T3(r);r=t?new t(r,r.byteOffset,r.byteLength):void 0}return e=r,r}k0.exports=C3(B3,I3)});var he=d((GK,N0)=>{"use strict";var ii=Lw();Mw();Hw();Kw();jw();Gw();Vw();Ww();Qw();tb();rb();eb();Zw();$w();Yw();Xw();Jw();nb();Uw();function wa(e){e=e||{},this.name="",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks)}wa.prototype.start=function(){};wa.prototype.encrypt=function(e,r,t){if(e.length()<this.blockSize&&!(t&&e.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)r.putInt32(this._outBlock[n])};wa.prototype.decrypt=function(e,r,t){if(e.length()<this.blockSize&&!(t&&e.length()>0))return!0;var n;for(n=0;n<this._blocks;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._blocks;++n)r.putInt32(this._outBlock[n])};(function(){var e="AES",r=wa,t;t=function(){return new ii.aes.Algorithm(e,r)},ii.cipher.registerAlgorithm(e,t)})();var P3=ii.jsbn.BigInteger.prototype.modInverse,q3=function(e){return P3.apply(this,[e]).mod(e)};ii.jsbn.BigInteger.prototype.modInverse=q3;N0.exports=ii});var O0=d(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});function k3(e){var r=4,t=e.length,n=t%r;if(!n)return e;var i=t,a=r-n,o=t+a,s=Buffer.alloc(o);for(s.write(e);a--;)s.write("=",i++);return s.toString()}Ms.default=k3});var D0=d(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var N3=O0();function R0(e,r){return r===void 0&&(r="utf8"),Buffer.isBuffer(e)?Hs(e.toString("base64")):Hs(Buffer.from(e,r).toString("base64"))}function O3(e,r){return r===void 0&&(r="utf8"),Buffer.from(js(e),"base64").toString(r)}function js(e){return e=e.toString(),N3.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function Hs(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R3(e){return Buffer.from(js(e),"base64")}var un=R0;un.encode=R0;un.decode=O3;un.toBase64=js;un.fromBase64=Hs;un.toBuffer=R3;Gs.default=un});var L0=d((WK,ba)=>{"use strict";ba.exports=D0().default;ba.exports.default=ba.exports});var ai=d((JK,K0)=>{"use strict";var U0=L0(),D3={encode:function(r,t){return r instanceof ArrayBuffer&&(r=new Uint8Array(r)),Buffer.isBuffer(r)||(r=Buffer.from(r,t)),U0.encode(r)},decode:U0.toBuffer};K0.exports=D3});var j0=d(H0=>{"use strict";var M0=H0;M0.encode=function(e){var r=encodeURIComponent(e||"");return r=r.replace(/%([0-9a-fA-F]{2})/g,function(t,n){return n=parseInt(n,16),String.fromCharCode(n)}),r};M0.decode=function(e){var r=(e||"").replace(/[\u0080-\u00ff]/g,function(t){var n=(256|t.charCodeAt(0)).toString(16).substring(1);return"%"+n});return r=decodeURIComponent(r),r}});var Ae=d((YK,G0)=>{"use strict";var zs=he(),Vs;function L3(e,r){if(Buffer.isBuffer(e))return e;if(typeof e=="string")return r=r||"binary",r==="base64url"?Vs.base64url.decode(e):Buffer.from(e,r);zs.util.isArrayBufferView(e)?e=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteOffset+e.byteLength):zs.util.isArrayBuffer(e)&&(e=new Uint8Array(e));var t;return t=Buffer.from(e),t}function U3(e){return Buffer.from(zs.random.getBytes(e),"binary")}Vs={base64url:ai(),utf8:j0(),asBuffer:L3,randomBytes:U3};G0.exports=Vs});var V0=d((XK,z0)=>{"use strict";var K3=Is(),M3=K3(Object.keys,Object);z0.exports=M3});var J0=d((QK,W0)=>{"use strict";var H3=Xn(),j3=V0(),G3=Object.prototype,z3=G3.hasOwnProperty;function V3(e){if(!H3(e))return j3(e);var r=[];for(var t in Object(e))z3.call(e,t)&&t!="constructor"&&r.push(t);return r}W0.exports=V3});var oi=d(($K,Z0)=>{"use strict";var W3=Ds(),J3=J0(),Z3=nn();function Y3(e){return Z3(e)?W3(e):J3(e)}Z0.exports=Y3});var X0=d((eM,Y0)=>{"use strict";var X3=er(),Q3=oi();function $3(e,r){return e&&X3(r,Q3(r),e)}Y0.exports=$3});var $0=d((tM,Q0)=>{"use strict";var eI=er(),tI=sn();function rI(e,r){return e&&eI(r,tI(r),e)}Q0.exports=rI});var tg=d((rM,eg)=>{"use strict";function nI(e,r){for(var t=-1,n=e==null?0:e.length,i=0,a=[];++t<n;){var o=e[t];r(o,t,e)&&(a[i++]=o)}return a}eg.exports=nI});var Ws=d((nM,rg)=>{"use strict";function iI(){return[]}rg.exports=iI});var Fa=d((iM,ig)=>{"use strict";var aI=tg(),oI=Ws(),sI=Object.prototype,uI=sI.propertyIsEnumerable,ng=Object.getOwnPropertySymbols,cI=ng?function(e){return e==null?[]:(e=Object(e),aI(ng(e),function(r){return uI.call(e,r)}))}:oI;ig.exports=cI});var og=d((aM,ag)=>{"use strict";var fI=er(),lI=Fa();function hI(e,r){return fI(e,lI(e),r)}ag.exports=hI});var xa=d((oM,sg)=>{"use strict";function pI(e,r){for(var t=-1,n=r.length,i=e.length;++t<n;)e[i+t]=r[t];return e}sg.exports=pI});var Js=d((sM,ug)=>{"use strict";var dI=xa(),gI=ya(),vI=Fa(),yI=Ws(),mI=Object.getOwnPropertySymbols,_I=mI?function(e){for(var r=[];e;)dI(r,vI(e)),e=gI(e);return r}:yI;ug.exports=_I});var fg=d((uM,cg)=>{"use strict";var EI=er(),wI=Js();function bI(e,r){return EI(e,wI(e),r)}cg.exports=bI});var Zs=d((cM,lg)=>{"use strict";var FI=xa(),xI=dt();function AI(e,r,t){var n=r(e);return xI(e)?n:FI(n,t(e))}lg.exports=AI});var pg=d((fM,hg)=>{"use strict";var SI=Zs(),CI=Fa(),BI=oi();function TI(e){return SI(e,BI,CI)}hg.exports=TI});var Ys=d((lM,dg)=>{"use strict";var II=Zs(),PI=Js(),qI=sn();function kI(e){return II(e,qI,PI)}dg.exports=kI});var vg=d((hM,gg)=>{"use strict";var NI=$t(),OI=qe(),RI=NI(OI,"DataView");gg.exports=RI});var mg=d((pM,yg)=>{"use strict";var DI=$t(),LI=qe(),UI=DI(LI,"Promise");yg.exports=UI});var Xs=d((dM,_g)=>{"use strict";var KI=$t(),MI=qe(),HI=KI(MI,"Set");_g.exports=HI});var Aa=d((gM,Sg)=>{"use strict";var Qs=vg(),$s=pa(),eu=mg(),tu=Xs(),ru=us(),Ag=yr(),cn=as(),Eg="[object Map]",jI="[object Object]",wg="[object Promise]",bg="[object Set]",Fg="[object WeakMap]",xg="[object DataView]",GI=cn(Qs),zI=cn($s),VI=cn(eu),WI=cn(tu),JI=cn(ru),mr=Ag;(Qs&&mr(new Qs(new ArrayBuffer(1)))!=xg||$s&&mr(new $s)!=Eg||eu&&mr(eu.resolve())!=wg||tu&&mr(new tu)!=bg||ru&&mr(new ru)!=Fg)&&(mr=function(e){var r=Ag(e),t=r==jI?e.constructor:void 0,n=t?cn(t):"";if(n)switch(n){case GI:return xg;case zI:return Eg;case VI:return wg;case WI:return bg;case JI:return Fg}return r});Sg.exports=mr});var Bg=d((vM,Cg)=>{"use strict";var ZI=Object.prototype,YI=ZI.hasOwnProperty;function XI(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&YI.call(e,"index")&&(t.index=e.index,t.input=e.input),t}Cg.exports=XI});var Ig=d((yM,Tg)=>{"use strict";var QI=va();function $I(e,r){var t=r?QI(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}Tg.exports=$I});var qg=d((mM,Pg)=>{"use strict";var e6=/\w*$/;function t6(e){var r=new e.constructor(e.source,e6.exec(e));return r.lastIndex=e.lastIndex,r}Pg.exports=t6});var Dg=d((_M,Rg)=>{"use strict";var kg=Yr(),Ng=kg?kg.prototype:void 0,Og=Ng?Ng.valueOf:void 0;function r6(e){return Og?Object(Og.call(e)):{}}Rg.exports=r6});var Ug=d((EM,Lg)=>{"use strict";var n6=va(),i6=Ig(),a6=qg(),o6=Dg(),s6=Ts(),u6="[object Boolean]",c6="[object Date]",f6="[object Map]",l6="[object Number]",h6="[object RegExp]",p6="[object Set]",d6="[object String]",g6="[object Symbol]",v6="[object ArrayBuffer]",y6="[object DataView]",m6="[object Float32Array]",_6="[object Float64Array]",E6="[object Int8Array]",w6="[object Int16Array]",b6="[object Int32Array]",F6="[object Uint8Array]",x6="[object Uint8ClampedArray]",A6="[object Uint16Array]",S6="[object Uint32Array]";function C6(e,r,t){var n=e.constructor;switch(r){case v6:return n6(e);case u6:case c6:return new n(+e);case y6:return i6(e,t);case m6:case _6:case E6:case w6:case b6:case F6:case x6:case A6:case S6:return s6(e,t);case f6:return new n;case l6:case d6:return new n(e);case h6:return a6(e);case p6:return new n;case g6:return o6(e)}}Lg.exports=C6});var Mg=d((wM,Kg)=>{"use strict";var B6=Aa(),T6=Ft(),I6="[object Map]";function P6(e){return T6(e)&&B6(e)==I6}Kg.exports=P6});var zg=d((bM,Gg)=>{"use strict";var q6=Mg(),k6=ei(),Hg=Ea(),jg=Hg&&Hg.isMap,N6=jg?k6(jg):q6;Gg.exports=N6});var Wg=d((FM,Vg)=>{"use strict";var O6=Aa(),R6=Ft(),D6="[object Set]";function L6(e){return R6(e)&&O6(e)==D6}Vg.exports=L6});var Xg=d((xM,Yg)=>{"use strict";var U6=Wg(),K6=ei(),Jg=Ea(),Zg=Jg&&Jg.isSet,M6=Zg?K6(Zg):U6;Yg.exports=M6});var nu=d((AM,tv)=>{"use strict";var H6=Ss(),j6=ys(),G6=ni(),z6=X0(),V6=$0(),W6=Bs(),J6=Mn(),Z6=og(),Y6=fg(),X6=pg(),Q6=Ys(),$6=Aa(),eP=Bg(),tP=Ug(),rP=Ps(),nP=dt(),iP=_a(),aP=zg(),oP=et(),sP=Xg(),uP=oi(),cP=sn(),fP=1,lP=2,hP=4,Qg="[object Arguments]",pP="[object Array]",dP="[object Boolean]",gP="[object Date]",vP="[object Error]",$g="[object Function]",yP="[object GeneratorFunction]",mP="[object Map]",_P="[object Number]",ev="[object Object]",EP="[object RegExp]",wP="[object Set]",bP="[object String]",FP="[object Symbol]",xP="[object WeakMap]",AP="[object ArrayBuffer]",SP="[object DataView]",CP="[object Float32Array]",BP="[object Float64Array]",TP="[object Int8Array]",IP="[object Int16Array]",PP="[object Int32Array]",qP="[object Uint8Array]",kP="[object Uint8ClampedArray]",NP="[object Uint16Array]",OP="[object Uint32Array]",re={};re[Qg]=re[pP]=re[AP]=re[SP]=re[dP]=re[gP]=re[CP]=re[BP]=re[TP]=re[IP]=re[PP]=re[mP]=re[_P]=re[ev]=re[EP]=re[wP]=re[bP]=re[FP]=re[qP]=re[kP]=re[NP]=re[OP]=!0;re[vP]=re[$g]=re[xP]=!1;function Sa(e,r,t,n,i,a){var o,s=r&fP,c=r&lP,u=r&hP;if(t&&(o=i?t(e,n,i,a):t(e)),o!==void 0)return o;if(!oP(e))return e;var f=nP(e);if(f){if(o=eP(e),!s)return J6(e,o)}else{var l=$6(e),p=l==$g||l==yP;if(iP(e))return W6(e,s);if(l==ev||l==Qg||p&&!i){if(o=c||p?{}:rP(e),!s)return c?Y6(e,V6(o,e)):Z6(e,z6(o,e))}else{if(!re[l])return i?e:{};o=tP(e,l,s)}}a||(a=new H6);var h=a.get(e);if(h)return h;a.set(e,o),sP(e)?e.forEach(function(y){o.add(Sa(y,r,t,y,e,a))}):aP(e)&&e.forEach(function(y,_){o.set(_,Sa(y,r,t,_,e,a))});var v=u?c?Q6:X6:c?cP:uP,m=f?void 0:v(e);return j6(m||e,function(y,_){m&&(_=y,y=e[_]),G6(o,_,Sa(y,r,t,_,e,a))}),o}tv.exports=Sa});var xt=d((SM,rv)=>{"use strict";var RP=nu(),DP=4;function LP(e){return RP(e,DP)}rv.exports=LP});var au=d(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.default=KP;var Ca,UP=new Uint8Array(16);function KP(){if(!Ca&&(Ca=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ca))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ca(UP)}});var nv=d(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.default=void 0;var MP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Ba.default=MP});var si=d(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.default=void 0;var HP=jP(nv());function jP(e){return e&&e.__esModule?e:{default:e}}function GP(e){return typeof e=="string"&&HP.default.test(e)}var zP=GP;Ta.default=zP});var ci=d(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.default=void 0;ui.unsafeStringify=iv;var VP=WP(si());function WP(e){return e&&e.__esModule?e:{default:e}}var be=[];for(let e=0;e<256;++e)be.push((e+256).toString(16).slice(1));function iv(e,r=0){return be[e[r+0]]+be[e[r+1]]+be[e[r+2]]+be[e[r+3]]+"-"+be[e[r+4]]+be[e[r+5]]+"-"+be[e[r+6]]+be[e[r+7]]+"-"+be[e[r+8]]+be[e[r+9]]+"-"+be[e[r+10]]+be[e[r+11]]+be[e[r+12]]+be[e[r+13]]+be[e[r+14]]+be[e[r+15]]}function JP(e,r=0){let t=iv(e,r);if(!(0,VP.default)(t))throw TypeError("Stringified UUID is invalid");return t}var ZP=JP;ui.default=ZP});var ov=d(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.default=void 0;var YP=QP(au()),XP=ci();function QP(e){return e&&e.__esModule?e:{default:e}}var av,ou,su=0,uu=0;function $P(e,r,t){let n=r&&t||0,i=r||new Array(16);e=e||{};let a=e.node||av,o=e.clockseq!==void 0?e.clockseq:ou;if(a==null||o==null){let p=e.random||(e.rng||YP.default)();a==null&&(a=av=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),o==null&&(o=ou=(p[6]<<8|p[7])&16383)}let s=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:uu+1,u=s-su+(c-uu)/1e4;if(u<0&&e.clockseq===void 0&&(o=o+1&16383),(u<0||s>su)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");su=s,uu=c,ou=o,s+=122192928e5;let f=((s&268435455)*1e4+c)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=f&255;let l=s/4294967296*1e4&268435455;i[n++]=l>>>8&255,i[n++]=l&255,i[n++]=l>>>24&15|16,i[n++]=l>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let p=0;p<6;++p)i[n+p]=a[p];return r||(0,XP.unsafeStringify)(i)}var e8=$P;Ia.default=e8});var cu=d(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.default=void 0;var t8=r8(si());function r8(e){return e&&e.__esModule?e:{default:e}}function n8(e){if(!(0,t8.default)(e))throw TypeError("Invalid UUID");let r,t=new Uint8Array(16);return t[0]=(r=parseInt(e.slice(0,8),16))>>>24,t[1]=r>>>16&255,t[2]=r>>>8&255,t[3]=r&255,t[4]=(r=parseInt(e.slice(9,13),16))>>>8,t[5]=r&255,t[6]=(r=parseInt(e.slice(14,18),16))>>>8,t[7]=r&255,t[8]=(r=parseInt(e.slice(19,23),16))>>>8,t[9]=r&255,t[10]=(r=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=r/4294967296&255,t[12]=r>>>24&255,t[13]=r>>>16&255,t[14]=r>>>8&255,t[15]=r&255,t}var i8=n8;Pa.default=i8});var fu=d(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.URL=_r.DNS=void 0;_r.default=c8;var a8=ci(),o8=s8(cu());function s8(e){return e&&e.__esModule?e:{default:e}}function u8(e){e=unescape(encodeURIComponent(e));let r=[];for(let t=0;t<e.length;++t)r.push(e.charCodeAt(t));return r}var sv="6ba7b810-9dad-11d1-80b4-00c04fd430c8";_r.DNS=sv;var uv="6ba7b811-9dad-11d1-80b4-00c04fd430c8";_r.URL=uv;function c8(e,r,t){function n(i,a,o,s){var c;if(typeof i=="string"&&(i=u8(i)),typeof a=="string"&&(a=(0,o8.default)(a)),((c=a)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=t(u),u[6]=u[6]&15|r,u[8]=u[8]&63|128,o){s=s||0;for(let f=0;f<16;++f)o[s+f]=u[f];return o}return(0,a8.unsafeStringify)(u)}try{n.name=e}catch{}return n.DNS=sv,n.URL=uv,n}});var fv=d(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.default=void 0;function f8(e){if(typeof e=="string"){let r=unescape(encodeURIComponent(e));e=new Uint8Array(r.length);for(let t=0;t<r.length;++t)e[t]=r.charCodeAt(t)}return l8(h8(p8(e),e.length*8))}function l8(e){let r=[],t=e.length*32,n="0123456789abcdef";for(let i=0;i<t;i+=8){let a=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);r.push(o)}return r}function cv(e){return(e+64>>>9<<4)+14+1}function h8(e,r){e[r>>5]|=128<<r%32,e[cv(r)-1]=r;let t=1732584193,n=-271733879,i=-1732584194,a=271733878;for(let o=0;o<e.length;o+=16){let s=t,c=n,u=i,f=a;t=Se(t,n,i,a,e[o],7,-680876936),a=Se(a,t,n,i,e[o+1],12,-389564586),i=Se(i,a,t,n,e[o+2],17,606105819),n=Se(n,i,a,t,e[o+3],22,-1044525330),t=Se(t,n,i,a,e[o+4],7,-176418897),a=Se(a,t,n,i,e[o+5],12,1200080426),i=Se(i,a,t,n,e[o+6],17,-1473231341),n=Se(n,i,a,t,e[o+7],22,-45705983),t=Se(t,n,i,a,e[o+8],7,1770035416),a=Se(a,t,n,i,e[o+9],12,-1958414417),i=Se(i,a,t,n,e[o+10],17,-42063),n=Se(n,i,a,t,e[o+11],22,-1990404162),t=Se(t,n,i,a,e[o+12],7,1804603682),a=Se(a,t,n,i,e[o+13],12,-40341101),i=Se(i,a,t,n,e[o+14],17,-1502002290),n=Se(n,i,a,t,e[o+15],22,1236535329),t=Ce(t,n,i,a,e[o+1],5,-165796510),a=Ce(a,t,n,i,e[o+6],9,-1069501632),i=Ce(i,a,t,n,e[o+11],14,643717713),n=Ce(n,i,a,t,e[o],20,-373897302),t=Ce(t,n,i,a,e[o+5],5,-701558691),a=Ce(a,t,n,i,e[o+10],9,38016083),i=Ce(i,a,t,n,e[o+15],14,-660478335),n=Ce(n,i,a,t,e[o+4],20,-405537848),t=Ce(t,n,i,a,e[o+9],5,568446438),a=Ce(a,t,n,i,e[o+14],9,-1019803690),i=Ce(i,a,t,n,e[o+3],14,-187363961),n=Ce(n,i,a,t,e[o+8],20,1163531501),t=Ce(t,n,i,a,e[o+13],5,-1444681467),a=Ce(a,t,n,i,e[o+2],9,-51403784),i=Ce(i,a,t,n,e[o+7],14,1735328473),n=Ce(n,i,a,t,e[o+12],20,-1926607734),t=Be(t,n,i,a,e[o+5],4,-378558),a=Be(a,t,n,i,e[o+8],11,-2022574463),i=Be(i,a,t,n,e[o+11],16,1839030562),n=Be(n,i,a,t,e[o+14],23,-35309556),t=Be(t,n,i,a,e[o+1],4,-1530992060),a=Be(a,t,n,i,e[o+4],11,1272893353),i=Be(i,a,t,n,e[o+7],16,-155497632),n=Be(n,i,a,t,e[o+10],23,-1094730640),t=Be(t,n,i,a,e[o+13],4,681279174),a=Be(a,t,n,i,e[o],11,-358537222),i=Be(i,a,t,n,e[o+3],16,-722521979),n=Be(n,i,a,t,e[o+6],23,76029189),t=Be(t,n,i,a,e[o+9],4,-640364487),a=Be(a,t,n,i,e[o+12],11,-421815835),i=Be(i,a,t,n,e[o+15],16,530742520),n=Be(n,i,a,t,e[o+2],23,-995338651),t=Te(t,n,i,a,e[o],6,-198630844),a=Te(a,t,n,i,e[o+7],10,1126891415),i=Te(i,a,t,n,e[o+14],15,-1416354905),n=Te(n,i,a,t,e[o+5],21,-57434055),t=Te(t,n,i,a,e[o+12],6,1700485571),a=Te(a,t,n,i,e[o+3],10,-1894986606),i=Te(i,a,t,n,e[o+10],15,-1051523),n=Te(n,i,a,t,e[o+1],21,-2054922799),t=Te(t,n,i,a,e[o+8],6,1873313359),a=Te(a,t,n,i,e[o+15],10,-30611744),i=Te(i,a,t,n,e[o+6],15,-1560198380),n=Te(n,i,a,t,e[o+13],21,1309151649),t=Te(t,n,i,a,e[o+4],6,-145523070),a=Te(a,t,n,i,e[o+11],10,-1120210379),i=Te(i,a,t,n,e[o+2],15,718787259),n=Te(n,i,a,t,e[o+9],21,-343485551),t=tr(t,s),n=tr(n,c),i=tr(i,u),a=tr(a,f)}return[t,n,i,a]}function p8(e){if(e.length===0)return[];let r=e.length*8,t=new Uint32Array(cv(r));for(let n=0;n<r;n+=8)t[n>>5]|=(e[n/8]&255)<<n%32;return t}function tr(e,r){let t=(e&65535)+(r&65535);return(e>>16)+(r>>16)+(t>>16)<<16|t&65535}function d8(e,r){return e<<r|e>>>32-r}function qa(e,r,t,n,i,a){return tr(d8(tr(tr(r,e),tr(n,a)),i),t)}function Se(e,r,t,n,i,a,o){return qa(r&t|~r&n,e,r,i,a,o)}function Ce(e,r,t,n,i,a,o){return qa(r&n|t&~n,e,r,i,a,o)}function Be(e,r,t,n,i,a,o){return qa(r^t^n,e,r,i,a,o)}function Te(e,r,t,n,i,a,o){return qa(t^(r|~n),e,r,i,a,o)}var g8=f8;ka.default=g8});var hv=d(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.default=void 0;var v8=lv(fu()),y8=lv(fv());function lv(e){return e&&e.__esModule?e:{default:e}}var m8=(0,v8.default)("v3",48,y8.default),_8=m8;Na.default=_8});var pv=d(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.default=void 0;var E8=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),w8={randomUUID:E8};Oa.default=w8});var vv=d(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.default=void 0;var dv=gv(pv()),b8=gv(au()),F8=ci();function gv(e){return e&&e.__esModule?e:{default:e}}function x8(e,r,t){if(dv.default.randomUUID&&!r&&!e)return dv.default.randomUUID();e=e||{};let n=e.random||(e.rng||b8.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(let i=0;i<16;++i)r[t+i]=n[i];return r}return(0,F8.unsafeStringify)(n)}var A8=x8;Ra.default=A8});var yv=d(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.default=void 0;function S8(e,r,t,n){switch(e){case 0:return r&t^~r&n;case 1:return r^t^n;case 2:return r&t^r&n^t&n;case 3:return r^t^n}}function lu(e,r){return e<<r|e>>>32-r}function C8(e){let r=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){let o=unescape(encodeURIComponent(e));e=[];for(let s=0;s<o.length;++s)e.push(o.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let n=e.length/4+2,i=Math.ceil(n/16),a=new Array(i);for(let o=0;o<i;++o){let s=new Uint32Array(16);for(let c=0;c<16;++c)s[c]=e[o*64+c*4]<<24|e[o*64+c*4+1]<<16|e[o*64+c*4+2]<<8|e[o*64+c*4+3];a[o]=s}a[i-1][14]=(e.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(e.length-1)*8&4294967295;for(let o=0;o<i;++o){let s=new Uint32Array(80);for(let h=0;h<16;++h)s[h]=a[o][h];for(let h=16;h<80;++h)s[h]=lu(s[h-3]^s[h-8]^s[h-14]^s[h-16],1);let c=t[0],u=t[1],f=t[2],l=t[3],p=t[4];for(let h=0;h<80;++h){let v=Math.floor(h/20),m=lu(c,5)+S8(v,u,f,l)+p+r[v]+s[h]>>>0;p=l,l=f,f=lu(u,30)>>>0,u=c,c=m}t[0]=t[0]+c>>>0,t[1]=t[1]+u>>>0,t[2]=t[2]+f>>>0,t[3]=t[3]+l>>>0,t[4]=t[4]+p>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var B8=C8;Da.default=B8});var _v=d(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.default=void 0;var T8=mv(fu()),I8=mv(yv());function mv(e){return e&&e.__esModule?e:{default:e}}var P8=(0,T8.default)("v5",80,I8.default),q8=P8;La.default=q8});var Ev=d(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.default=void 0;var k8="00000000-0000-0000-0000-000000000000";Ua.default=k8});var wv=d(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.default=void 0;var N8=O8(si());function O8(e){return e&&e.__esModule?e:{default:e}}function R8(e){if(!(0,N8.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var D8=R8;Ka.default=D8});var bv=d(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});Object.defineProperty(gt,"NIL",{enumerable:!0,get:function(){return H8.default}});Object.defineProperty(gt,"parse",{enumerable:!0,get:function(){return V8.default}});Object.defineProperty(gt,"stringify",{enumerable:!0,get:function(){return z8.default}});Object.defineProperty(gt,"v1",{enumerable:!0,get:function(){return L8.default}});Object.defineProperty(gt,"v3",{enumerable:!0,get:function(){return U8.default}});Object.defineProperty(gt,"v4",{enumerable:!0,get:function(){return K8.default}});Object.defineProperty(gt,"v5",{enumerable:!0,get:function(){return M8.default}});Object.defineProperty(gt,"validate",{enumerable:!0,get:function(){return G8.default}});Object.defineProperty(gt,"version",{enumerable:!0,get:function(){return j8.default}});var L8=Ht(ov()),U8=Ht(hv()),K8=Ht(vv()),M8=Ht(_v()),H8=Ht(Ev()),j8=Ht(wv()),G8=Ht(si()),z8=Ht(ci()),V8=Ht(cu());function Ht(e){return e&&e.__esModule?e:{default:e}}});var hu=d((jM,Fv)=>{"use strict";var W8=ni(),J8=er(),Z8=Us(),Y8=nn(),X8=Xn(),Q8=oi(),$8=Object.prototype,eq=$8.hasOwnProperty,tq=Z8(function(e,r){if(X8(r)||Y8(r)){J8(r,Q8(r),e);return}for(var t in r)eq.call(r,t)&&W8(e,t,r[t])});Fv.exports=tq});var Cv=d((GM,Sv)=>{"use strict";var xv=Yr(),rq=Qn(),nq=dt(),Av=xv?xv.isConcatSpreadable:void 0;function iq(e){return nq(e)||rq(e)||!!(Av&&e&&e[Av])}Sv.exports=iq});var Iv=d((zM,Tv)=>{"use strict";var aq=xa(),oq=Cv();function Bv(e,r,t,n,i){var a=-1,o=e.length;for(t||(t=oq),i||(i=[]);++a<o;){var s=e[a];r>0&&t(s)?r>1?Bv(s,r-1,t,n,i):aq(i,s):n||(i[i.length]=s)}return i}Tv.exports=Bv});var pu=d((VM,Pv)=>{"use strict";var sq=Iv();function uq(e){var r=e==null?0:e.length;return r?sq(e,1):[]}Pv.exports=uq});var fi=d((WM,qv)=>{"use strict";function cq(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}qv.exports=cq});var Nv=d((JM,kv)=>{"use strict";var fq="__lodash_hash_undefined__";function lq(e){return this.__data__.set(e,fq),this}kv.exports=lq});var Rv=d((ZM,Ov)=>{"use strict";function hq(e){return this.__data__.has(e)}Ov.exports=hq});var du=d((YM,Dv)=>{"use strict";var pq=da(),dq=Nv(),gq=Rv();function Ma(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new pq;++r<t;)this.add(e[r])}Ma.prototype.add=Ma.prototype.push=dq;Ma.prototype.has=gq;Dv.exports=Ma});var gu=d((XM,Lv)=>{"use strict";function vq(e,r,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(r,e[n]))return!0;return!1}Lv.exports=vq});var vu=d((QM,Uv)=>{"use strict";function yq(e,r){return e.has(r)}Uv.exports=yq});var Hv=d(($M,Mv)=>{"use strict";var mq=du(),_q=fa(),Eq=gu(),wq=fi(),bq=ei(),Kv=vu(),Fq=Math.min;function xq(e,r,t){for(var n=t?Eq:_q,i=e[0].length,a=e.length,o=a,s=Array(a),c=1/0,u=[];o--;){var f=e[o];o&&r&&(f=wq(f,bq(r))),c=Fq(f.length,c),s[o]=!t&&(r||i>=120&&f.length>=120)?new mq(o&&f):void 0}f=e[0];var l=-1,p=s[0];e:for(;++l<i&&u.length<c;){var h=f[l],v=r?r(h):h;if(h=t||h!==0?h:0,!(p?Kv(p,v):n(u,v,t))){for(o=a;--o;){var m=s[o];if(!(m?Kv(m,v):n(e[o],v,t)))continue e}p&&p.push(v),u.push(h)}}return u}Mv.exports=xq});var Gv=d((eH,jv)=>{"use strict";var Aq=qs();function Sq(e){return Aq(e)?e:[]}jv.exports=Sq});var Vv=d((tH,zv)=>{"use strict";var Cq=fi(),Bq=Hv(),Tq=ia(),Iq=Gv(),Pq=Tq(function(e){var r=Cq(e,Iq);return r.length&&r[0]===e[0]?Bq(r):[]});zv.exports=Pq});var Jv=d((rH,Wv)=>{"use strict";var qq=dt(),kq=Gn(),Nq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oq=/^\w*$/;function Rq(e,r){if(qq(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||kq(e)?!0:Oq.test(e)||!Nq.test(e)||r!=null&&e in Object(r)}Wv.exports=Rq});var Xv=d((nH,Yv)=>{"use strict";var Zv=da(),Dq="Expected a function";function yu(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Dq);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],a=t.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return t.cache=a.set(i,o)||a,o};return t.cache=new(yu.Cache||Zv),t}yu.Cache=Zv;Yv.exports=yu});var $v=d((iH,Qv)=>{"use strict";var Lq=Xv(),Uq=500;function Kq(e){var r=Lq(e,function(n){return t.size===Uq&&t.clear(),n}),t=r.cache;return r}Qv.exports=Kq});var ty=d((aH,ey)=>{"use strict";var Mq=$v(),Hq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jq=/\\(\\)?/g,Gq=Mq(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Hq,function(t,n,i,a){r.push(i?a.replace(jq,"$1"):n||t)}),r});ey.exports=Gq});var sy=d((oH,oy)=>{"use strict";var ry=Yr(),zq=fi(),Vq=dt(),Wq=Gn(),Jq=1/0,ny=ry?ry.prototype:void 0,iy=ny?ny.toString:void 0;function ay(e){if(typeof e=="string")return e;if(Vq(e))return zq(e,ay)+"";if(Wq(e))return iy?iy.call(e):"";var r=e+"";return r=="0"&&1/e==-Jq?"-0":r}oy.exports=ay});var cy=d((sH,uy)=>{"use strict";var Zq=sy();function Yq(e){return e==null?"":Zq(e)}uy.exports=Yq});var Er=d((uH,fy)=>{"use strict";var Xq=dt(),Qq=Jv(),$q=ty(),ek=cy();function tk(e,r){return Xq(e)?e:Qq(e,r)?[e]:$q(ek(e))}fy.exports=tk});var hy=d((cH,ly)=>{"use strict";function rk(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}ly.exports=rk});var li=d((fH,py)=>{"use strict";var nk=Gn(),ik=1/0;function ak(e){if(typeof e=="string"||nk(e))return e;var r=e+"";return r=="0"&&1/e==-ik?"-0":r}py.exports=ak});var mu=d((lH,dy)=>{"use strict";var ok=Er(),sk=li();function uk(e,r){r=ok(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[sk(r[t++])];return t&&t==n?e:void 0}dy.exports=uk});var vy=d((hH,gy)=>{"use strict";function ck(e,r,t){var n=-1,i=e.length;r<0&&(r=-r>i?0:i+r),t=t>i?i:t,t<0&&(t+=i),i=r>t?0:t-r>>>0,r>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+r];return a}gy.exports=ck});var my=d((pH,yy)=>{"use strict";var fk=mu(),lk=vy();function hk(e,r){return r.length<2?e:fk(e,lk(r,0,-1))}yy.exports=hk});var Ey=d((dH,_y)=>{"use strict";var pk=Er(),dk=hy(),gk=my(),vk=li();function yk(e,r){return r=pk(r,e),e=gk(e,r),e==null||delete e[vk(dk(r))]}_y.exports=yk});var by=d((gH,wy)=>{"use strict";var mk=ks();function _k(e){return mk(e)?void 0:e}wy.exports=_k});var _u=d((vH,Fy)=>{"use strict";var Ek=pu(),wk=rs(),bk=na();function Fk(e){return bk(wk(e,void 0,Ek),e+"")}Fy.exports=Fk});var Eu=d((yH,xy)=>{"use strict";var xk=fi(),Ak=nu(),Sk=Ey(),Ck=Er(),Bk=er(),Tk=by(),Ik=_u(),Pk=Ys(),qk=1,kk=2,Nk=4,Ok=Ik(function(e,r){var t={};if(e==null)return t;var n=!1;r=xk(r,function(a){return a=Ck(a,e),n||(n=a.length>1),a}),Bk(e,Pk(e),t),n&&(t=Ak(t,qk|kk|Nk,Tk));for(var i=r.length;i--;)Sk(t,r[i]);return t});xy.exports=Ok});var Cy=d((mH,Sy)=>{"use strict";var Rk=ni(),Dk=Er(),Lk=Xr(),Ay=et(),Uk=li();function Kk(e,r,t,n){if(!Ay(e))return e;r=Dk(r,e);for(var i=-1,a=r.length,o=a-1,s=e;s!=null&&++i<a;){var c=Uk(r[i]),u=t;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=o){var f=s[c];u=n?n(f,c,s):void 0,u===void 0&&(u=Ay(f)?f:Lk(r[i+1])?[]:{})}Rk(s,c,u),s=s[c]}return e}Sy.exports=Kk});var Ty=d((_H,By)=>{"use strict";var Mk=mu(),Hk=Cy(),jk=Er();function Gk(e,r,t){for(var n=-1,i=r.length,a={};++n<i;){var o=r[n],s=Mk(e,o);t(s,o)&&Hk(a,jk(o,e),s)}return a}By.exports=Gk});var Py=d((EH,Iy)=>{"use strict";function zk(e,r){return e!=null&&r in Object(e)}Iy.exports=zk});var ky=d((wH,qy)=>{"use strict";var Vk=Er(),Wk=Qn(),Jk=dt(),Zk=Xr(),Yk=ma(),Xk=li();function Qk(e,r,t){r=Vk(r,e);for(var n=-1,i=r.length,a=!1;++n<i;){var o=Xk(r[n]);if(!(a=e!=null&&t(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Yk(i)&&Zk(o,i)&&(Jk(e)||Wk(e)))}qy.exports=Qk});var Oy=d((bH,Ny)=>{"use strict";var $k=Py(),eN=ky();function tN(e,r){return e!=null&&eN(e,r,$k)}Ny.exports=tN});var Dy=d((FH,Ry)=>{"use strict";var rN=Ty(),nN=Oy();function iN(e,r){return rN(e,r,function(t,n){return nN(e,n)})}Ry.exports=iN});var wu=d((xH,Ly)=>{"use strict";var aN=Dy(),oN=_u(),sN=oN(function(e,r){return e==null?{}:aN(e,r)});Ly.exports=sN});var bu=d((AH,Uy)=>{"use strict";function uN(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}Uy.exports=uN});var My=d((SH,Ky)=>{"use strict";var Fu=Xs(),cN=ps(),fN=bu(),lN=1/0,hN=Fu&&1/fN(new Fu([,-0]))[1]==lN?function(e){return new Fu(e)}:cN;Ky.exports=hN});var jy=d((CH,Hy)=>{"use strict";var pN=du(),dN=fa(),gN=gu(),vN=vu(),yN=My(),mN=bu(),_N=200;function EN(e,r,t){var n=-1,i=dN,a=e.length,o=!0,s=[],c=s;if(t)o=!1,i=gN;else if(a>=_N){var u=r?null:yN(e);if(u)return mN(u);o=!1,i=vN,c=new pN}else c=r?[]:s;e:for(;++n<a;){var f=e[n],l=r?r(f):f;if(f=t||f!==0?f:0,o&&l===l){for(var p=c.length;p--;)if(c[p]===l)continue e;r&&c.push(l),s.push(f)}else i(c,l,t)||(c!==s&&c.push(l),s.push(f))}return s}Hy.exports=EN});var xu=d((BH,Gy)=>{"use strict";var wN=jy();function bN(e){return e&&e.length?wN(e):[]}Gy.exports=bN});var tt=d(At=>{"use strict";typeof Promise>"u"&&jo().polyfill();At.int32ToBuffer=function(e,r){return r=r||Buffer.alloc(4),r[0]=e>>>24&255,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r};var zy=Math.pow(2,32);At.int64ToBuffer=function(e,r){r=r||Buffer.alloc(8);var t=Math.floor(e/zy),n=e%zy;return t=At.int32ToBuffer(t),n=At.int32ToBuffer(n),r=Buffer.concat([t,n]),r};function FN(){if(typeof crypto<"u"&&typeof crypto.subtle<"u")return crypto.subtle}function xN(){var e;try{e=zw()}catch{return}if(Object.keys(e).length)return e}var fn={};Object.defineProperty(At,"subtleCrypto",{get:function(){var e;return"subtleCrypto"in fn?e=fn.subtleCrypto:e=fn.subtleCrypto=FN(),e},enumerable:!0});Object.defineProperty(At,"nodeCrypto",{get:function(){var e;return"nodeCrypto"in fn?e=fn.nodeCrypto:e=fn.nodeCrypto=xN(),e},enumerable:!0});At.setupFallback=function(e,r,t){var n;return e&&At.nodeCrypto?n=function(){var a=arguments,o;function s(c){return c.message.indexOf("unsupported algorithm:")===0?(n=t,n.apply(null,a)):Promise.reject(c)}try{o=Promise.resolve(e.apply(null,a))}catch(c){o=s(c)}return o}:r&&At.subtleCrypto?n=function(){var a=arguments,o;function s(c){return c.code===DOMException.NOT_SUPPORTED_ERR||c.message==="Only ArrayBuffer and ArrayBufferView objects can be passed as CryptoOperationData"||!(c instanceof Error)?(n=t,n.apply(null,a)):Promise.reject(c)}try{o=r.apply(null,a),o=o.catch(s)}catch(c){o=s(c)}return o}:n=t,n}});var St=d((IH,Vy)=>{"use strict";Vy.exports={CHUNK_SIZE:1024,HASHLENGTH:{"SHA-1":160,"SHA-256":256,"SHA-384":384,"SHA-512":512},ENCLENGTH:{"AES-128-CBC":128,"AES-192-CBC":192,"AES-256-CBC":256,"AES-128-KW":128,"AES-192-KW":192,"AES-256-KW":256},KEYLENGTH:{"A128CBC-HS256":256,"A192CBC-HS384":384,"A256CBC-HS512":512,"A128CBC+HS256":256,"A192CBC+HS384":384,"A256CBC+HS512":512,A128GCM:128,A192GCM:192,A256GCM:256,A128KW:128,A192KW:192,A256KW:256,"ECDH-ES+A128KW":128,"ECDH-ES+A192KW":192,"ECDH-ES+A256KW":256},NONCELENGTH:{"A128CBC-HS256":128,"A192CBC-HS384":128,"A256CBC-HS512":128,"A128CBC+HS256":128,"A192CBC+HS384":128,"A256CBC+HS512":128,A128GCM:96,A192GCM:96,A256GCM:96}}});var ln=d((PH,Jy)=>{"use strict";var hi=he(),Wy=ai();function D(e,r){r=r||{},Buffer.isBuffer(e)?this.data=e:hi.util.isArrayBuffer(e)?(e=new Uint8Array(e),this.data=Buffer.from(e)):hi.util.isArrayBufferView(e)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),this.data=Buffer.from(e)),this.data&&(this.write=this.data.length,e=void 0),this.growSize=r.growSize||D.DEFAULT_GROW_SIZE,this.write=this.write||0,this.read=this.read||0,e?this.putBytes(e):this.data||this.accommodate(0),r.readOffset="readOffset"in r?r.readOffset:this.read,this.write="writeOffset"in r?r.writeOffset:this.write,this.read=Math.min(r.readOffset,this.write)}D.DEFAULT_GROW_SIZE=16;D.prototype.length=function(){return this.write-this.read};D.prototype.available=function(){return this.data.length-this.write};D.prototype.isEmpty=function(){return this.length()<=0};D.prototype.accommodate=function(e){if(!this.data)e=Math.max(this.write+e,this.growSize),this.data=Buffer.alloc(e);else if(this.available()<e){e=Math.max(e,this.growSize);var r=this.data,t=Buffer.alloc(r.length+e);r.copy(t,0),this.data=t}return this.data.fill(0,this.write),this};D.prototype.clear=function(){return this.read=this.write=0,this.data=Buffer.alloc(0),this};D.prototype.truncate=function(e){return this.write=this.read+Math.max(0,this.length()-e),this.data.fill(0,this.write),this};D.prototype.compact=function(){return this.read>0&&(this.write===this.read?this.read=this.write=0:(this.data.copy(this.data,0,this.read,this.write),this.write=this.write-this.read,this.read=0),this.data.fill(0,this.write)),this};D.prototype.copy=function(){return new D(this,{readOffset:this.read,writeOffset:this.write,growSize:this.growSize})};D.prototype.equals=function(e){if(!D.isBuffer(e)||e.length()!==this.length())return!1;for(var r=!0,t=this.read-e.read,n=e.read;e.write>n;n++)r=r&&this.data[n+t]===e.data[n];return r};D.prototype.at=function(e){return this.data[this.read+e]};D.prototype.setAt=function(e,r){return this.data[this.read+e]=r,this};D.prototype.last=function(){return this.data[this.write-1]};D.prototype.bytes=function(e){var r;if(e===void 0?e=this.length():e&&(e=Math.min(e,this.length())),e===0)r="";else{var t=this.read,n=t+e,i=this.data.slice(t,n);r=String.fromCharCode.apply(null,i)}return r};D.prototype.buffer=function(e){var r;if(e===void 0?e=this.length():e&&(e=Math.min(e,this.length())),e===0)r=new ArrayBuffer(0);else{var t=this.read,n=t+e,i=this.data.slice(t,n);r=new Uint8Array(n-t),r.set(i)}return r};D.prototype.native=function(e){var r;if(typeof e>"u"?e=this.length():e&&(e=Math.min(e,this.length())),e===0)r=Buffer.alloc(0);else{var t=this.read,n=t+e;r=this.data.slice(t,n)}return r};D.prototype.toHex=function(){return this.toString("hex")};D.prototype.toString=function(e){if(this.length()===0)return"";var r=this.data.slice(this.read,this.write);switch(e=e||"utf8",e){case"raw":return r.toString("binary");case"base64url":return Wy.encode(r);case"utf16":return r.toString("ucs2");default:return r.toString(e)}};D.prototype.fillWithByte=function(e,r){return r||(r=this.available()),this.accommodate(r),this.data.fill(e,this.write,this.write+r),this.write+=r,this};D.prototype.getBuffer=function(e){var r=this.buffer(e);return this.read+=r.byteLength,r};D.prototype.putBuffer=function(e){return this.putBytes(e)};D.prototype.getBytes=function(e){var r=this.bytes(e);return this.read+=r.length,r};D.prototype.putBytes=function(e,r){if(typeof e=="string"){switch(r=r||"binary",r){case"utf16":r="ucs-2";break;case"raw":r="binary";break;case"base64url":e=Wy.decode(e);break}Buffer.isBuffer(e)||(e=Buffer.from(e,r))}var t,n;if(e instanceof D){var i=e;e=i.data.slice(i.read,i.write),i.read=i.write}else e instanceof hi.util.ByteStringBuffer&&(e=e.getBytes());if(Buffer.isBuffer(e))t=e;else if(Array.isArray(e))t=Buffer.from(e);else if(hi.util.isArrayBuffer(e))t=new Uint8Array(e),t=Buffer.from(t);else if(hi.util.isArrayBufferView(e))t=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t=Buffer.from(t);else throw new TypeError("invalid source type");return this.accommodate(t.length),n=this.data,t.copy(n,this.write),this.write+=t.length,this};D.prototype.getNative=function(e){var r=this.native(e);return this.read+=r.length,r};D.prototype.putNative=D.prototype.putBuffer;D.prototype.getByte=function(){var e=this.data[this.read];return this.read=Math.min(this.read+1,this.write),e};D.prototype.putByte=function(e){return this.accommodate(1),this.data[this.write]=e&255,this.write++,this};D.prototype.getInt16=function(){var e=this.data[this.read]<<8^this.data[this.read+1];return this.read=Math.min(this.read+2,this.write),e};D.prototype.putInt16=function(e){return this.accommodate(2),this.data[this.write]=e>>>8&255,this.data[this.write+1]=e&255,this.write+=2,this};D.prototype.getInt24=function(){var e=this.data[this.read]<<16^this.data[this.read+1]<<8^this.data[this.read+2];return this.read=Math.min(this.read+3,this.write),e};D.prototype.putInt24=function(e){return this.accommodate(3),this.data[this.write]=e>>>16&255,this.data[this.write+1]=e>>>8&255,this.data[this.write+2]=e&255,this.write+=3,this};D.prototype.getInt32=function(){var e=this.data[this.read]<<24^this.data[this.read+1]<<16^this.data[this.read+2]<<8^this.data[this.read+3];return this.read=Math.min(this.read+4,this.write),e};D.prototype.putInt32=function(e){return this.accommodate(4),this.data[this.write]=e>>>24&255,this.data[this.write+1]=e>>>16&255,this.data[this.write+2]=e>>>8&255,this.data[this.write+3]=e&255,this.write+=4,this};D.prototype.getInt16Le=function(){var e=this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+2,this.write),e};D.prototype.putInt16Le=function(e){return this.accommodate(2),this.data[this.write+1]=e>>>8&255,this.data[this.write]=e&255,this.write+=2,this};D.prototype.getInt24Le=function(){var e=this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+3,this.write),e};D.prototype.putInt24Le=function(e){return this.accommodate(3),this.data[this.write+2]=e>>>16&255,this.data[this.write+1]=e>>>8&255,this.data[this.write]=e&255,this.write+=3,this};D.prototype.getInt32Le=function(){var e=this.data[this.read+3]<<24^this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+4,this.write),e};D.prototype.putInt32Le=function(e){return this.accommodate(4),this.data[this.write+3]=e>>>24&255,this.data[this.write+2]=e>>>16&255,this.data[this.write+1]=e>>>8&255,this.data[this.write]=e&255,this.write+=4,this};D.prototype.getInt=function(e){var r=0;do r=r<<8|this.getByte(),e-=8;while(e>0);return r};D.prototype.putInt=function(e,r){this.accommodate(Math.ceil(r/8));do r-=8,this.putByte(e>>r&255);while(r>0);return this};D.prototype.putSignedInt=function(e,r){return e<0&&(e+=2<<r-1),this.putInt(e,r)};D.prototype.putString=function(e){return this.putBytes(e,"utf16")};D.isBuffer=function(e){return e instanceof D};D.asBuffer=function(e){return D.isBuffer(e)?e:e?new D(e):new D};Jy.exports=D});var Ha=d((qH,Qy)=>{"use strict";var Zy=St(),Yy=he(),AN=ln(),Ct=tt();function SN(e){var r=e.replace("HS","SHA").toLowerCase(),t=e.replace("HS","SHA-");function n(s,c){return s=(s||Zy.HASHLENGTH[t])/8,s>c.length?Promise.reject(new Error("invalid key length")):Promise.resolve(c)}var i=function(s,c,u){u=u||{};var f;return f=n(u.length,s),f=f.then(function(){var l=Yy.hmac.create();return l.start(r,s.toString("binary")),l.update(c.toString("binary")),l=Buffer.from(l.digest().bytes(),"binary"),{data:c,mac:l}}),f},a=function(s,c,u){u=u||{};var f={name:"HMAC",hash:{name:t}},l;return l=n(u.length,s),l=l.then(function(){return Ct.subtleCrypto.importKey("raw",s,f,!0,["sign"])}),l=l.then(function(p){return Ct.subtleCrypto.sign(f,p,c)}),l=l.then(function(p){var h=Buffer.from(p);return{data:c,mac:h}}),l},o=function(s,c,u){u=u||{};var f;return f=n(u.length,s),f=f.then(function(){var l=Ct.nodeCrypto.createHmac(r,s);l.update(c);var p=l.digest();return{data:c,mac:p}}),f};return Ct.setupFallback(o,a,i)}function CN(e){var r=e.replace("HS","SHA").toLowerCase(),t=e.replace("HS","SHA-");function n(s,c,u){s=(s||Zy.HASHLENGTH[t])/8;for(var f=!0,l=0;s>l;l++)f=f&&c[l]===u[l];return f}var i=function(s,c,u,f){f=f||{};var l=Yy.hmac.create();return l.start(r,new AN(s)),l.update(c.toString("binary")),l=Buffer.from(l.digest().bytes(),"binary"),n(f.length,u,l)?Promise.resolve({data:c,mac:u,valid:!0}):Promise.reject(new Error("verification failed"))},a=function(s,c,u,f){f=f||{};var l={name:"HMAC",hash:{name:t}},p;return f.length?(p=Ct.subtleCrypto.importKey("raw",s,l,!0,["sign"]),p=p.then(function(h){return Ct.subtleCrypto.sign(l,h,c)}),p=p.then(function(h){var v=Buffer.from(h);return n(f.length,u,v)})):(p=Ct.subtleCrypto.importKey("raw",s,l,!0,["verify"]),p=p.then(function(h){return Ct.subtleCrypto.verify(l,h,u,c)})),p=p.then(function(h){return h?{data:c,mac:u,valid:!0}:Promise.reject(new Error("verifaction failed"))}),p},o=function(s,c,u,f){f=f||{};var l=Ct.nodeCrypto.createHmac(r,s);l.update(c);var p=l.digest();if(!n(f.length,u,p))throw new Error("verification failed");return{data:c,mac:p,valid:!0}};return Ct.setupFallback(o,a,i)}var Xy={};["HS1","HS256","HS384","HS512"].forEach(function(e){Xy[e]={sign:SN(e),verify:CN(e)}});Qy.exports=Xy});var pi=d((kH,em)=>{"use strict";var BN=he(),Au=tt();function TN(e){var r=e.replace("SHA-","SHA").toLowerCase(),t={name:e},n=function(o){var s=BN.md[r].create();return s.update(o.toString("binary")),s=Buffer.from(s.digest().bytes(),"binary"),Promise.resolve(s)},i=function(o){var s;return s=Au.subtleCrypto.digest(t,o),s=s.then(function(c){return c=Buffer.from(c),c}),s},a=function(o){var s=Au.nodeCrypto.createHash(r);return s.update(o),s.digest()};return Au.setupFallback(a,i,n)}var $y={};["SHA-1","SHA-256","SHA-384","SHA-512"].forEach(function(e){$y[e]={digest:TN(e)}});em.exports=$y});var cm=d((NH,um)=>{"use strict";var me=tt(),Ga=Ha(),tm=pi(),rm=he(),hn=ln(),ja=Ae();function pn(e){if(e.length!==16)throw new Error("invalid iv")}function nm(e){var r=function(i,a,o){try{pn(o)}catch(c){return Promise.reject(c)}var s=Promise.resolve();return s=s.then(function(){var c=rm.cipher.createCipher("AES-CBC",new hn(i));if(c.start({iv:new hn(o)}),c.update(new hn(a)),!c.finish())return Promise.reject(new Error("encryption failed"));var u=Buffer.from(c.output.bytes(),"binary");return u}),s},t=function(i,a,o){try{pn(o)}catch(c){return Promise.reject(c)}var s=Promise.resolve();return s=s.then(function(){var c={name:"AES-CBC"};return me.subtleCrypto.importKey("raw",i,c,!0,["encrypt"])}),s=s.then(function(c){var u={name:"AES-CBC",iv:o};return me.subtleCrypto.encrypt(u,c,a)}),s=s.then(function(c){return c=Buffer.from(c),c}),s},n=function(i,a,o){try{pn(o)}catch(c){return Promise.reject(c)}var s=Promise.resolve(a);return s=s.then(function(c){var u="AES-"+e+"-CBC",f=me.nodeCrypto.createCipheriv(u,i,o),l=Buffer.concat([f.update(c),f.final()]);return l}),s};return me.setupFallback(n,t,r)}function im(e){var r=function(i,a,o){try{pn(o)}catch(c){return Promise.reject(c)}var s=Promise.resolve();return s=s.then(function(){var c=rm.cipher.createDecipher("AES-CBC",new hn(i));if(c.start({iv:new hn(o)}),c.update(new hn(a)),!c.finish())return Promise.reject(new Error("encryption failed"));var u=Buffer.from(c.output.bytes(),"binary");return u}),s},t=function(i,a,o){try{pn(o)}catch(c){return Promise.reject(c)}var s=Promise.resolve();return s=s.then(function(){var c={name:"AES-CBC"};return me.subtleCrypto.importKey("raw",i,c,!0,["decrypt"])}),s=s.then(function(c){var u={name:"AES-CBC",iv:o};return me.subtleCrypto.decrypt(u,c,a)}),s=s.then(function(c){return c=Buffer.from(c),c}),s},n=function(i,a,o){try{pn(o)}catch(c){return Promise.reject(c)}var s=Promise.resolve();return s=s.then(function(){var c="AES-"+e+"-CBC",u=me.nodeCrypto.createDecipheriv(c,i,o),f=Buffer.concat([u.update(a),u.final()]);return f}),s};return me.setupFallback(n,t,r)}function am(e,r){if(r<<1!==e.length<<3)throw new Error("invalid encryption key size")}function IN(e){var r=nm(e);return function(t,n,i){try{am(t,e)}catch(f){return Promise.reject(f)}var a=t.slice(e/8),o=t.slice(0,e/8),s=i.iv||Buffer.alloc(0),c=i.aad||i.adata||Buffer.alloc(0),u=r(a,n,s);return u=u.then(function(f){var l=Buffer.concat([c,s,f,me.int64ToBuffer(c.length*8)]),p;return p=Ga["HS"+e*2].sign(o,l,{length:e}),p=p.then(function(h){var v=h.mac.slice(0,e/8);return{data:f,tag:v}}),p}),u}}function PN(e){var r=im(e);return function(t,n,i){try{am(t,e)}catch(l){return Promise.reject(l)}var a=t.slice(e/8),o=t.slice(0,e/8),s=i.iv||Buffer.alloc(0),c=i.aad||i.adata||Buffer.alloc(0),u=i.tag||i.mac||Buffer.alloc(0),f=Promise.resolve();return f=f.then(function(){var l,p=Buffer.concat([c,s,n,me.int64ToBuffer(c.length*8)]);return l=Ga["HS"+e*2].verify(o,p,u,{length:e}),l=l.then(function(){return n},function(){throw new Error("mac check failed")}),l}),f=f.then(function(){return r(a,n,s)}),f}}var qN=Buffer.from("Encryption","utf8"),kN=Buffer.from("Integrity","utf8"),dn=Buffer.from(".","utf8");function om(e,r,t,n){var i=e.length*8,a=i/2,o=Promise.resolve();return o=o.then(function(){var s=Buffer.concat([me.int32ToBuffer(1),e,me.int32ToBuffer(a),Buffer.from(r,"utf8"),t,n,qN]);return s}),o=o.then(function(s){return tm["SHA-"+i].digest(s).then(function(c){return c.slice(0,a/8)})}),o=Promise.resolve(o),o}function sm(e,r,t,n){var i=e.length*8,a=i,o=Promise.resolve();return o=o.then(function(){var s=Buffer.concat([me.int32ToBuffer(1),e,me.int32ToBuffer(a),Buffer.from(r,"utf8"),t,n,kN]);return s}),o=o.then(function(s){return tm["SHA-"+i].digest(s).then(function(c){return c.slice(0,a/8)})}),o=Promise.resolve(o),o}function NN(e,r){var t=nm(e);return function(n,i,a){var o=a.epu||me.int32ToBuffer(0),s=a.epv||me.int32ToBuffer(0),c=a.iv||Buffer.alloc(0),u=a.aad||a.adata||Buffer.alloc(0),f=a.kdata||Buffer.alloc(0),l=[om(n,r,o,s),sm(n,r,o,s)],p,h,v=Promise.all(l).then(function(m){p=m[0],h=m[1]});return v=v.then(function(){return t(p,i,c)}),v=v.then(function(m){var y=Buffer.concat([u,dn,Buffer.from(f),dn,Buffer.from(ja.base64url.encode(c),"utf8"),dn,Buffer.from(ja.base64url.encode(m),"utf8")]);return Promise.all([Promise.resolve(m),Ga["HS"+e*2].sign(h,y,{length:e})])}),v=v.then(function(m){return{data:m[0],tag:m[1].mac}}),v}}function ON(e,r){var t=im(e);return function(n,i,a){var o=a.epu||me.int32ToBuffer(0),s=a.epv||me.int32ToBuffer(0),c=a.iv||Buffer.alloc(0),u=a.aad||a.adata||Buffer.alloc(0),f=a.kdata||Buffer.alloc(0),l=a.tag||a.mac||Buffer.alloc(0),p=[om(n,r,o,s),sm(n,r,o,s)],h,v,m=Promise.all(p).then(function(y){h=y[0],v=y[1]});return m=m.then(function(){var y=Buffer.concat([u,dn,Buffer.from(f),dn,Buffer.from(ja.base64url.encode(c),"utf8"),dn,Buffer.from(ja.base64url.encode(i),"utf8")]);try{return Ga["HS"+e*2].verify(v,y,l,{loose:!1})}catch{throw new Error("mac check failed")}}),m=m.then(function(){return t(h,i,c)}),m}}var Su={};["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach(function(e){var r=parseInt(/A(\d+)CBC-HS(\d+)?/g.exec(e)[1]);Su[e]={encrypt:IN(r),decrypt:PN(r)}});["A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"].forEach(function(e){var r=parseInt(/A(\d+)CBC\+HS(\d+)?/g.exec(e)[1]);Su[e]={encrypt:NN(r,e),decrypt:ON(r,e)}});um.exports=Su});var za=d((lm,Cu)=>{"use strict";var fm=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(S,g,q){this.low=S|0,this.high=g|0,this.unsigned=!!q}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function n(S){return(S&&S.__isLong__)===!0}function i(S){var g=Math.clz32(S&-S);return S?31-g:g}t.isLong=n;var a={},o={};function s(S,g){var q,J,ae;return g?(S>>>=0,(ae=0<=S&&S<256)&&(J=o[S],J)?J:(q=u(S,0,!0),ae&&(o[S]=q),q)):(S|=0,(ae=-128<=S&&S<128)&&(J=a[S],J)?J:(q=u(S,S<0?-1:0,!1),ae&&(a[S]=q),q))}t.fromInt=s;function c(S,g){if(isNaN(S))return g?w:A;if(g){if(S<0)return w;if(S>=y)return R}else{if(S<=-_)return N;if(S+1>=_)return L}return S<0?c(-S,g).neg():u(S%m|0,S/m|0,g)}t.fromNumber=c;function u(S,g,q){return new t(S,g,q)}t.fromBits=u;var f=Math.pow;function l(S,g,q){if(S.length===0)throw Error("empty string");if(typeof g=="number"?(q=g,g=!1):g=!!g,S==="NaN"||S==="Infinity"||S==="+Infinity"||S==="-Infinity")return g?w:A;if(q=q||10,q<2||36<q)throw RangeError("radix");var J;if((J=S.indexOf("-"))>0)throw Error("interior hyphen");if(J===0)return l(S.substring(1),g,q).neg();for(var ae=c(f(q,8)),ee=A,fe=0;fe<S.length;fe+=8){var Ee=Math.min(8,S.length-fe),pe=parseInt(S.substring(fe,fe+Ee),q);if(Ee<8){var de=c(f(q,Ee));ee=ee.mul(de).add(c(pe))}else ee=ee.mul(ae),ee=ee.add(c(pe))}return ee.unsigned=g,ee}t.fromString=l;function p(S,g){return typeof S=="number"?c(S,g):typeof S=="string"?l(S,g):u(S.low,S.high,typeof g=="boolean"?g:S.unsigned)}t.fromValue=p;var h=65536,v=1<<24,m=h*h,y=m*m,_=y/2,E=s(v),A=s(0);t.ZERO=A;var w=s(0,!0);t.UZERO=w;var T=s(1);t.ONE=T;var M=s(1,!0);t.UONE=M;var C=s(-1);t.NEG_ONE=C;var L=u(-1,2147483647,!1);t.MAX_VALUE=L;var R=u(-1,-1,!0);t.MAX_UNSIGNED_VALUE=R;var N=u(0,-2147483648,!1);t.MIN_VALUE=N;var b=t.prototype;b.toInt=function(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},b.toString=function(g){if(g=g||10,g<2||36<g)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(N)){var q=c(g),J=this.div(q),ae=J.mul(q).sub(this);return J.toString(g)+ae.toInt().toString(g)}else return"-"+this.neg().toString(g);for(var ee=c(f(g,6),this.unsigned),fe=this,Ee="";;){var pe=fe.div(ee),de=fe.sub(pe.mul(ee)).toInt()>>>0,Q=de.toString(g);if(fe=pe,fe.isZero())return Q+Ee;for(;Q.length<6;)Q="0"+Q;Ee=""+Q+Ee}},b.getHighBits=function(){return this.high},b.getHighBitsUnsigned=function(){return this.high>>>0},b.getLowBits=function(){return this.low},b.getLowBitsUnsigned=function(){return this.low>>>0},b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(N)?64:this.neg().getNumBitsAbs();for(var g=this.high!=0?this.high:this.low,q=31;q>0&&!(g&1<<q);q--);return this.high!=0?q+33:q+1},b.isZero=function(){return this.high===0&&this.low===0},b.eqz=b.isZero,b.isNegative=function(){return!this.unsigned&&this.high<0},b.isPositive=function(){return this.unsigned||this.high>=0},b.isOdd=function(){return(this.low&1)===1},b.isEven=function(){return(this.low&1)===0},b.equals=function(g){return n(g)||(g=p(g)),this.unsigned!==g.unsigned&&this.high>>>31===1&&g.high>>>31===1?!1:this.high===g.high&&this.low===g.low},b.eq=b.equals,b.notEquals=function(g){return!this.eq(g)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function(g){return this.comp(g)<0},b.lt=b.lessThan,b.lessThanOrEqual=function(g){return this.comp(g)<=0},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function(g){return this.comp(g)>0},b.gt=b.greaterThan,b.greaterThanOrEqual=function(g){return this.comp(g)>=0},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function(g){if(n(g)||(g=p(g)),this.eq(g))return 0;var q=this.isNegative(),J=g.isNegative();return q&&!J?-1:!q&&J?1:this.unsigned?g.high>>>0>this.high>>>0||g.high===this.high&&g.low>>>0>this.low>>>0?-1:1:this.sub(g).isNegative()?-1:1},b.comp=b.compare,b.negate=function(){return!this.unsigned&&this.eq(N)?N:this.not().add(T)},b.neg=b.negate,b.add=function(g){n(g)||(g=p(g));var q=this.high>>>16,J=this.high&65535,ae=this.low>>>16,ee=this.low&65535,fe=g.high>>>16,Ee=g.high&65535,pe=g.low>>>16,de=g.low&65535,Q=0,$=0,ue=0,we=0;return we+=ee+de,ue+=we>>>16,we&=65535,ue+=ae+pe,$+=ue>>>16,ue&=65535,$+=J+Ee,Q+=$>>>16,$&=65535,Q+=q+fe,Q&=65535,u(ue<<16|we,Q<<16|$,this.unsigned)},b.subtract=function(g){return n(g)||(g=p(g)),this.add(g.neg())},b.sub=b.subtract,b.multiply=function(g){if(this.isZero())return this;if(n(g)||(g=p(g)),r){var q=r.mul(this.low,this.high,g.low,g.high);return u(q,r.get_high(),this.unsigned)}if(g.isZero())return this.unsigned?w:A;if(this.eq(N))return g.isOdd()?N:A;if(g.eq(N))return this.isOdd()?N:A;if(this.isNegative())return g.isNegative()?this.neg().mul(g.neg()):this.neg().mul(g).neg();if(g.isNegative())return this.mul(g.neg()).neg();if(this.lt(E)&&g.lt(E))return c(this.toNumber()*g.toNumber(),this.unsigned);var J=this.high>>>16,ae=this.high&65535,ee=this.low>>>16,fe=this.low&65535,Ee=g.high>>>16,pe=g.high&65535,de=g.low>>>16,Q=g.low&65535,$=0,ue=0,we=0,pr=0;return pr+=fe*Q,we+=pr>>>16,pr&=65535,we+=ee*Q,ue+=we>>>16,we&=65535,we+=fe*de,ue+=we>>>16,we&=65535,ue+=ae*Q,$+=ue>>>16,ue&=65535,ue+=ee*de,$+=ue>>>16,ue&=65535,ue+=fe*pe,$+=ue>>>16,ue&=65535,$+=J*Q+ae*de+ee*pe+fe*Ee,$&=65535,u(we<<16|pr,$<<16|ue,this.unsigned)},b.mul=b.multiply,b.divide=function(g){if(n(g)||(g=p(g)),g.isZero())throw Error("division by zero");if(r){if(!this.unsigned&&this.high===-2147483648&&g.low===-1&&g.high===-1)return this;var q=(this.unsigned?r.div_u:r.div_s)(this.low,this.high,g.low,g.high);return u(q,r.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?w:A;var J,ae,ee;if(this.unsigned){if(g.unsigned||(g=g.toUnsigned()),g.gt(this))return w;if(g.gt(this.shru(1)))return M;ee=w}else{if(this.eq(N)){if(g.eq(T)||g.eq(C))return N;if(g.eq(N))return T;var fe=this.shr(1);return J=fe.div(g).shl(1),J.eq(A)?g.isNegative()?T:C:(ae=this.sub(g.mul(J)),ee=J.add(ae.div(g)),ee)}else if(g.eq(N))return this.unsigned?w:A;if(this.isNegative())return g.isNegative()?this.neg().div(g.neg()):this.neg().div(g).neg();if(g.isNegative())return this.div(g.neg()).neg();ee=A}for(ae=this;ae.gte(g);){J=Math.max(1,Math.floor(ae.toNumber()/g.toNumber()));for(var Ee=Math.ceil(Math.log(J)/Math.LN2),pe=Ee<=48?1:f(2,Ee-48),de=c(J),Q=de.mul(g);Q.isNegative()||Q.gt(ae);)J-=pe,de=c(J,this.unsigned),Q=de.mul(g);de.isZero()&&(de=T),ee=ee.add(de),ae=ae.sub(Q)}return ee},b.div=b.divide,b.modulo=function(g){if(n(g)||(g=p(g)),r){var q=(this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,g.low,g.high);return u(q,r.get_high(),this.unsigned)}return this.sub(this.div(g).mul(g))},b.mod=b.modulo,b.rem=b.modulo,b.not=function(){return u(~this.low,~this.high,this.unsigned)},b.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},b.clz=b.countLeadingZeros,b.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},b.ctz=b.countTrailingZeros,b.and=function(g){return n(g)||(g=p(g)),u(this.low&g.low,this.high&g.high,this.unsigned)},b.or=function(g){return n(g)||(g=p(g)),u(this.low|g.low,this.high|g.high,this.unsigned)},b.xor=function(g){return n(g)||(g=p(g)),u(this.low^g.low,this.high^g.high,this.unsigned)},b.shiftLeft=function(g){return n(g)&&(g=g.toInt()),(g&=63)===0?this:g<32?u(this.low<<g,this.high<<g|this.low>>>32-g,this.unsigned):u(0,this.low<<g-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function(g){return n(g)&&(g=g.toInt()),(g&=63)===0?this:g<32?u(this.low>>>g|this.high<<32-g,this.high>>g,this.unsigned):u(this.high>>g-32,this.high>=0?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function(g){return n(g)&&(g=g.toInt()),(g&=63)===0?this:g<32?u(this.low>>>g|this.high<<32-g,this.high>>>g,this.unsigned):g===32?u(this.high,0,this.unsigned):u(this.high>>>g-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.rotateLeft=function(g){var q;return n(g)&&(g=g.toInt()),(g&=63)===0?this:g===32?u(this.high,this.low,this.unsigned):g<32?(q=32-g,u(this.low<<g|this.high>>>q,this.high<<g|this.low>>>q,this.unsigned)):(g-=32,q=32-g,u(this.high<<g|this.low>>>q,this.low<<g|this.high>>>q,this.unsigned))},b.rotl=b.rotateLeft,b.rotateRight=function(g){var q;return n(g)&&(g=g.toInt()),(g&=63)===0?this:g===32?u(this.high,this.low,this.unsigned):g<32?(q=32-g,u(this.high<<q|this.low>>>g,this.low<<q|this.high>>>g,this.unsigned)):(g-=32,q=32-g,u(this.low<<q|this.high>>>g,this.high<<q|this.low>>>g,this.unsigned))},b.rotr=b.rotateRight,b.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},b.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},b.toBytes=function(g){return g?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function(){var g=this.high,q=this.low;return[q&255,q>>>8&255,q>>>16&255,q>>>24,g&255,g>>>8&255,g>>>16&255,g>>>24]},b.toBytesBE=function(){var g=this.high,q=this.low;return[g>>>24,g>>>16&255,g>>>8&255,g&255,q>>>24,q>>>16&255,q>>>8&255,q&255]},t.fromBytes=function(g,q,J){return J?t.fromBytesLE(g,q):t.fromBytesBE(g,q)},t.fromBytesLE=function(g,q){return new t(g[0]|g[1]<<8|g[2]<<16|g[3]<<24,g[4]|g[5]<<8|g[6]<<16|g[7]<<24,q)},t.fromBytesBE=function(g,q){return new t(g[4]<<24|g[5]<<16|g[6]<<8|g[7],g[0]<<24|g[1]<<16|g[2]<<8|g[3],q)};var xe=t;return e.default=xe,"default"in e?e.default:e}({});typeof define=="function"&&define.amd?define([],function(){return fm}):typeof Cu=="object"&&typeof lm=="object"&&(Cu.exports=fm)});var pm=d((OH,hm)=>{"use strict";function RN(e,r,t){return e===e&&(t!==void 0&&(e=e<=t?e:t),r!==void 0&&(e=e>=r?e:r)),e}hm.exports=RN});var gm=d((RH,dm)=>{"use strict";var DN=pm(),LN=ha(),UN=4294967295;function KN(e){return e?DN(LN(e),0,UN):0}dm.exports=KN});var mm=d((DH,ym)=>{"use strict";var vm=ha(),MN=gm();function HN(e,r,t,n){var i=e.length;for(t=vm(t),t<0&&(t=-t>i?0:i+t),n=n===void 0||n>i?i:vm(n),n<0&&(n+=i),n=t>n?0:MN(n);t<n;)e[t++]=r;return e}ym.exports=HN});var Em=d((LH,_m)=>{"use strict";var jN=mm(),GN=Ls();function zN(e,r,t,n){var i=e==null?0:e.length;return i?(t&&typeof t!="number"&&GN(e,r,t)&&(t=0,n=i),jN(e,r,t,n)):[]}_m.exports=zN});var di=d((UH,wm)=>{"use strict";var VN=za(),rt=wm.exports={intToBigEndian:function(e,r,t){if(typeof e=="number")switch(arguments.length){case 1:r=Buffer.alloc(4),rt.intToBigEndian(e,r,0);break;case 3:r[t]=255&e>>>24,r[++t]=255&e>>>16,r[++t]=255&e>>>8,r[++t]=255&e;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:r=Buffer.alloc(4*e.length),rt.intToBigEndian(e,r,0);break;case 3:for(var n=0;n<e.length;++n)rt.intToBigEndian(e[n],r,t),t+=4;break;default:throw new TypeError("Expected 1 or 3 arguments.")}return r},longToBigEndian:function(e,r,t){if(Array.isArray(e))switch(arguments.length){case 1:r=Buffer.alloc(8*e.length),rt.longToBigEndian(e,r,0);break;case 3:for(var a=0;a<e.length;++a)rt.longToBigEndian(e[a],r,t),t+=8;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:r=Buffer.alloc(8),rt.longToBigEndian(e,r,0);break;case 3:var n=e.low,i=e.high;rt.intToBigEndian(i,r,t),rt.intToBigEndian(n,r,t+4);break;default:throw new TypeError("Expected 1 or 3 arguments.")}return r},bigEndianToInt:function(e,r,t){switch(arguments.length){case 2:var n=e[r]<<24;return n|=(e[++r]&255)<<16,n|=(e[++r]&255)<<8,n|=e[++r]&255,n;case 3:for(var i=0;i<t.length;++i)t[i]=rt.bigEndianToInt(e,r),r+=4;break;default:throw new TypeError("Expected 2 or 3 arguments.")}},bigEndianToLong:function(e,r,t){switch(arguments.length){case 2:var n=rt.bigEndianToInt(e,r),i=rt.bigEndianToInt(e,r+4),a=new VN(i,n);return a;case 3:for(var o=0;o<t.length;++o)t[o]=rt.bigEndianToLong(e,r),r+=8;break;default:throw new TypeError("Expected 2 or 3 arguments.")}}}});var Tu=d((KH,bm)=>{"use strict";var WN=za(),JN=Em(),Va=di(),Bu=3774873600,ZN=225,YN=new WN(Bu>>8);function XN(){for(var e=[],r=0;r<256;++r){for(var t=0,n=7;n>=0;--n)r&1<<n&&(t^=Bu>>>7-n);e.push(t)}return e}var nt=bm.exports={E1:Bu,E1B:ZN,E1L:YN,LOOKUP:XN(),arrayCopy:function(e,r,t,n,i){if(r<0||n<0||i<0)throw new TypeError("Invalid input.");if(t instanceof Uint8Array){if(n>=t.length||n+i>t.length)throw new TypeError("Invalid input.");(r!==0||i<e.length)&&(e instanceof Uint8Array?e=e.subarray(r,r+i):e=e.slice(r,r+i)),t.set(e,n)}else for(var a=0;a<i;++a)t[n+a]=e[r+a]},arrayEqual:function(e,r){e=e||[],r=r||[];for(var t=Math.min(e.length,r.length),n=e.length===r.length,i=0;i<t;i++)n=n&&typeof e[i]<"u"&&typeof r[i]<"u"&&e[i]===r[i];return n},asBytes:function(e,r){switch(arguments.length){case 1:return r=Buffer.alloc(16),Va.intToBigEndian(e,r,0),r;case 2:Va.intToBigEndian(e,r,0);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},asInts:function(e,r){switch(arguments.length){case 1:return r=[],JN(r,0,0,4),Va.bigEndianToInt(e,0,r),r;case 2:Va.bigEndianToInt(e,0,r);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},oneAsInts:function(){for(var e=[],r=0;r<4;++r)e.push(1<<31);return e},shiftRight:function(e,r){var t,n;switch(arguments.length){case 1:return t=e[0],e[0]=t>>>1,n=t<<31,t=e[1],e[1]=t>>>1|n,n=t<<31,t=e[2],e[2]=t>>>1|n,n=t<<31,t=e[3],e[3]=t>>>1|n,t<<31&4294967295;case 2:return t=e[0],r[0]=t>>>1,n=t<<31,t=e[1],r[1]=t>>>1|n,n=t<<31,t=e[2],r[2]=t>>>1|n,n=t<<31,t=e[3],r[3]=t>>>1|n,t<<31&4294967295;default:throw new TypeError("Expected 1 or 2 arguments.")}},shiftRightN:function(e,r,t){var n,i,a;switch(arguments.length){case 2:return i=e[0],n=32-r,e[0]=i>>>r,a=i<<n,i=e[1],e[1]=i>>>r|a,a=i<<n,i=e[2],e[2]=i>>>r|a,a=i<<n,i=e[3],e[3]=i>>>r|a,i<<n;case 3:return i=e[0],n=32-r,t[0]=i>>>r,a=i<<n,i=e[1],t[1]=i>>>r|a,a=i<<n,i=e[2],t[2]=i>>>r|a,a=i<<n,i=e[3],t[3]=i>>>r|a,i<<n;default:throw new TypeError("Expected 2 or 3 arguments.")}},xor:function(e,r,t){switch(arguments.length){case 2:e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3];break;case 3:t[0]=e[0]^r[0],t[1]=e[1]^r[1],t[2]=e[2]^r[2],t[3]=e[3]^r[3];break;default:throw new TypeError("Expected 2 or 3 arguments.")}},multiply:function(e,r){for(var t=e.slice(),n=[],i=0;i<4;++i)for(var a=r[i],o=31;o>=0;--o)a&1<<o&&nt.xor(n,t),nt.shiftRight(t)!==0&&(t[0]^=nt.E1);nt.arrayCopy(n,0,e,0,4)},multiplyP:function(e,r){switch(arguments.length){case 1:nt.shiftRight(e)!==0&&(e[0]^=nt.E1);break;case 2:nt.shiftRight(e,r)!==0&&(r[0]^=nt.E1);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},multiplyP8:function(e,r){var t;switch(arguments.length){case 1:t=nt.shiftRightN(e,8),e[0]^=nt.LOOKUP[t>>>24];break;case 2:t=nt.shiftRightN(e,8,r),r[0]^=nt.LOOKUP[t>>>24];break;default:throw new TypeError("Expected 1 or 2 arguments.")}}}});var xm=d((MH,Fm)=>{"use strict";var wr=Tu(),QN=di();function Iu(){this.H=[],this.M=null}Iu.prototype.init=function(e){var r,t,n;if(this.M==null)for(this.M=[],r=0;r<32;++r)for(this.M[r]=[],t=0;t<16;++t)for(this.M[r][t]=[],n=0;n<4;++n)this.M[r][t][n]=0;else if(wr.arrayEqual(this.H,e))return;for(this.H=e.slice(),wr.asInts(e,this.M[1][8]),t=4;t>=1;t>>=1)wr.multiplyP(this.M[1][t+t],this.M[1][t]);for(wr.multiplyP(this.M[1][1],this.M[0][8]),t=4;t>=1;t>>=1)wr.multiplyP(this.M[0][t+t],this.M[0][t]);for(r=0;;){for(t=2;t<16;t+=t)for(n=1;n<t;++n)wr.xor(this.M[r][t],this.M[r][n],this.M[r][t+n]);if(++r===32)return;if(r>1)for(t=8;t>0;t>>=1)wr.multiplyP8(this.M[r-2][t],this.M[r][t])}};Iu.prototype.multiplyH=function(e){for(var r=[],t=15;t>=0;--t){var n=this.M[t+t][e[t]&15];r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3],n=this.M[t+t+1][(e[t]&240)>>>4],r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]}QN.intToBigEndian(r,e,0)};Fm.exports={"8k":Iu}});var Cm=d((HH,Sm)=>{"use strict";var Am=di();function $N(e,r,t,n,i){var a=new Array(4),o=new Array(4);Am.bigEndianToInt(r,t,a),e.encrypt(a,o),Am.intToBigEndian(o,n,i)}Sm.exports={encrypt:$N}});var Pm=d((jH,Im)=>{"use strict";var br=za(),Bm=he(),e4=xm(),t4=Tu(),Pu=di(),Tm=ln(),qu=Cm(),r4=16;function ke(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=this.blockSize||16}Im.exports={createCipher:function(e){var r=new Bm.aes.Algorithm("AES-GCM",ke);return r.initialize({key:new Tm(e.key)}),r.mode.start(e),r.mode},createDecipher:function(e){var r=new Bm.aes.Algorithm("AES-GCM",ke);return r.initialize({key:new Tm(e.key)}),r.mode._decrypt=!0,r.mode.start(e),r.mode}};ke.prototype.start=function(e){if(this.tag=null,e=e||{},!("iv"in e))throw new Error("Gcm needs ParametersWithIV or AEADParameters");if(this.nonce=e.iv,this.nonce==null||this.nonce.length<1)throw new Error("IV must be at least 1 byte");this.tagLength=16,"tag"in e&&(this.tag=Buffer.from(e.tag));var r=this._decrypt?this.blockSize+this.tagLength:this.blockSize;this.bufBlock=Buffer.alloc(r);var t=e.multiplier;if(t==null&&(t=new e4["8k"]),this.multiplier=t,this.H=this.zeroBlock(),qu.encrypt(this.cipher,this.H,0,this.H,0),this.multiplier.init(this.H),this.exp=null,this.J0=this.zeroBlock(),this.nonce.length===12)this.nonce.copy(this.J0,0,0,this.nonce.length),this.J0[this.blockSize-1]=1;else{this.gHASH(this.J0,this.nonce,this.nonce.length);var n=this.zeroBlock();Pu.longToBigEndian(new br(this.nonce.length).multiply(8),n,8),this.gHASHBlock(this.J0,n)}this.S=this.zeroBlock(),this.SAt=this.zeroBlock(),this.SAtPre=this.zeroBlock(),this.atBlock=this.zeroBlock(),this.atBlockPos=0,this.atLength=br.ZERO,this.atLengthPre=br.ZERO,this.counter=Buffer.from(this.J0),this.bufOff=0,this.totalLength=br.ZERO,"additionalData"in e&&this.processAADBytes(e.additionalData,0,e.additionalData.length)};ke.prototype.update=function(e,r,t,n,i){for(var a=0;t>0;){var o=Math.min(t,this.bufBlock.length-this.bufOff);e.copy(this.bufBlock,this.bufOff,r,r+o),t-=o,r+=o,this.bufOff+=o,this.bufOff===this.bufBlock.length&&(this.outputBlock(n,i+a),a+=this.blockSize)}return a};ke.prototype.finish=function(e,r){var t=0;this._decrypt&&(t+=this.update(this.tag,0,this.tag.length,e,r)),this.totalLength.isZero()&&this.initCipher();var n=this.bufOff;if(this._decrypt){if(n<this.tagLength)throw new Error("data too short");n-=this.tagLength}n>0&&(this.gCTRPartial(this.bufBlock,0,n,e,r+t),t+=n),this.atLength=this.atLength.add(this.atBlockPos);var i=this.zeroBlock();Pu.longToBigEndian(this.atLength.multiply(8),i,0),Pu.longToBigEndian(this.totalLength.multiply(8),i,8),this.gHASHBlock(this.S,i);var a=Buffer.alloc(this.blockSize);if(qu.encrypt(this.cipher,this.J0,0,a,0),this.xor(a,this.S),this._decrypt){if(!t4.arrayEqual(this.tag,a))throw new Error("mac check in Gcm failed")}else this.tag=Buffer.alloc(this.tagLength),a.copy(this.tag,0,0,this.tagLength);return t};ke.prototype.initCipher=function(){this.atLength.greaterThan(br.ZERO)&&(this.SAt.copy(this.SAtPre,0,0,this.blockSize),this.atLengthPre=this.atLength.add(br.ZERO)),this.atBlockPos>0&&(this.gHASHPartial(this.SAtPre,this.atBlock,0,this.atBlockPos),this.atLengthPre=this.atLengthPre.add(this.atBlockPos)),this.atLengthPre.greaterThan(br.ZERO)&&this.SAtPre.copy(this.S,0,0,this.blockSize)};ke.prototype.outputBlock=function(e,r){this.totalLength.isZero()&&this.initCipher(),this.gCTRBlock(this.bufBlock,e,r),this._decrypt?(this.bufBlock.copy(this.bufBlock,0,this.blockSize,this.blockSize+this.tagLength),this.bufOff=this.tagLength):this.bufOff=0};ke.prototype.processAADBytes=function(e,r,t){for(var n=0;n<t;++n)this.atBlock[this.atBlockPos]=e[r+n],++this.atBlockPos===this.blockSize&&(this.gHASHBlock(this.SAt,this.atBlock),this.atBlockPos=0,this.atLength=this.atLength.add(this.blockSize))};ke.prototype.getNextCounterBlock=function(){for(var e=15;e>=12;--e){var r=this.counter[e]+1&255;if(this.counter[e]=r,r!==0)break}var t=Buffer.alloc(this.blockSize);return qu.encrypt(this.cipher,this.counter,0,t,0),t};ke.prototype.gCTRBlock=function(e,r,t){var n=this.getNextCounterBlock();this.xor(n,e),n.copy(r,t,0,this.blockSize),this.gHASHBlock(this.S,this._decrypt?e:n),this.totalLength=this.totalLength.add(this.blockSize)};ke.prototype.gCTRPartial=function(e,r,t,n,i){var a=this.getNextCounterBlock();this.xor(a,e,r,t),a.copy(n,i,0,t),this.gHASHPartial(this.S,this._decrypt?e:a,0,t),this.totalLength=this.totalLength.add(t)};ke.prototype.gHASHBlock=function(e,r){this.xor(e,r),this.multiplier.multiplyH(e)};ke.prototype.gHASHPartial=function(e,r,t,n){this.xor(e,r,t,n),this.multiplier.multiplyH(e)};ke.prototype.xor=function(e,r,t,n){switch(arguments.length){case 2:for(var i=15;i>=0;--i)e[i]^=r[i];break;case 4:for(;n-- >0;)e[n]^=r[t+n];break;default:throw new TypeError("Expected 2 or 4 arguments.")}return e};ke.prototype.zeroBlock=function(){var e=Buffer.alloc(r4);return e}});var Rm=d((GH,Om)=>{"use strict";var rr=tt(),gi=Ae(),qm=St(),km=Pm();function n4(e,r){function t(s,c){if(e!==s.length<<3)throw new Error("invalid key size");if(!c&&!r)throw new Error("invalid iv");if(c&&c.length!==12)throw new Error("invalid iv")}function n(s){if(r){var c=gi.base64url.encode(s.iv),u=gi.base64url.encode(s.tag);s={data:s.data,header:{iv:c,tag:u}}}return s}var i=function(s,c,u){var f=u.iv,l=u.aad||u.adata||Buffer.alloc(0),p,h;try{t(s,f,l)}catch(m){return Promise.reject(m)}f=f||gi.randomBytes(12),p=km.createCipher({key:s,iv:f,additionalData:l}),h=Buffer.alloc(c.length);var v=new Promise(function(m,y){var _=qm.CHUNK_SIZE,E=0,A=0;(function w(){var T=Math.min(_,c.length-A);if(E+=p.update(c,A,T,h,E),A+=T,c.length>A){setTimeout(w,0);return}if(E+=p.finish(h,E),E!==c.length){y(new Error("encryption failed"));return}var M=p.tag;m(n({data:h,iv:f,tag:M}))})()});return v},a=function(s,c,u){var f=u.iv,l=u.aad||u.adata||Buffer.alloc(0);try{t(s,f,l)}catch(v){return Promise.reject(v)}f=f||gi.randomBytes(12);var p={name:"AES-GCM"},h;return h=rr.subtleCrypto.importKey("raw",s,p,!0,["encrypt"]),h=h.then(function(v){return p.iv=f,p.tagLength=128,l.length&&(p.additionalData=l),rr.subtleCrypto.encrypt(p,v,c)}),h=h.then(function(v){var m=v.byteLength-16,y=v.slice(m);y=Buffer.from(y);var _=v.slice(0,m);return _=Buffer.from(_),n({data:_,iv:f,tag:y})}),h},o=function(s,c,u){var f=u.iv,l=u.aad||u.adata||Buffer.alloc(0);try{t(s,f,l)}catch(y){return Promise.reject(y)}f=f||gi.randomBytes(12);var p="aes-"+s.length*8+"-gcm",h;try{h=rr.nodeCrypto.createCipheriv(p,s,f)}catch{throw new Error("unsupported algorithm: "+p)}if(typeof h.setAAD!="function")throw new Error("unsupported algorithm: "+p);l.length&&h.setAAD(l);var v=Buffer.concat([h.update(c),h.final()]),m=h.getAuthTag();return n({data:v,iv:f,tag:m})};return rr.setupFallback(o,a,i)}function i4(e){function r(a,o,s){if(e!==a.length<<3)throw new Error("invalid key size");if(o.length!==12)throw new Error("invalid iv");if(s.length!==16)throw new Error("invalid tag length")}var t=function(a,o,s){var c=s.aad||s.adata||Buffer.alloc(0),u=s.iv||Buffer.alloc(0),f=s.tag||s.mac||Buffer.alloc(0),l,p;try{r(a,u,f)}catch(v){return Promise.reject(v)}l=km.createDecipher({key:a,iv:u,additionalData:c,tag:f}),p=Buffer.alloc(o.length);var h=new Promise(function(v,m){var y=qm.CHUNK_SIZE,_=0,E=0;(function A(){var w=Math.min(y,o.length-E);if(_+=l.update(o,E,w,p,_),E+=w,o.length>E){setTimeout(A,0);return}try{_+=l.finish(p,_)}catch{m(new Error("decryption failed"));return}if(_!==o.length){m(new Error("decryption failed"));return}v(p)})()});return h},n=function(a,o,s){var c=s.aad||s.adata||Buffer.alloc(0),u=s.iv||Buffer.alloc(0),f=s.tag||s.mac||Buffer.alloc(0);try{r(a,u,f)}catch(h){return Promise.reject(h)}var l={name:"AES-GCM"},p;return p=rr.subtleCrypto.importKey("raw",a,l,!0,["decrypt"]),p=p.then(function(h){return l.iv=u,l.tagLength=128,c.length&&(l.additionalData=c),o=Buffer.concat([o,f],o.length+f.length),rr.subtleCrypto.decrypt(l,h,o)}),p=p.then(function(h){return h=Buffer.from(h),h}),p},i=function(a,o,s){var c=s.aad||s.adata||Buffer.alloc(0),u=s.iv||Buffer.alloc(0),f=s.tag||s.mac||Buffer.alloc(0);try{r(a,u,f)}catch(v){return Promise.reject(v)}var l="aes-"+a.length*8+"-gcm",p;try{p=rr.nodeCrypto.createDecipheriv(l,a,u)}catch{throw new Error("unsupported algorithm: "+l)}if(typeof p.setAAD!="function")throw new Error("unsupported algorithm: "+l);p.setAuthTag(f),c.length&&p.setAAD(c);try{var h=Buffer.concat([p.update(o),p.final()]);return h}catch{throw new Error("decryption failed")}};return rr.setupFallback(i,n,t)}var Nm={};["A128GCM","A192GCM","A256GCM","A128GCMKW","A192GCMKW","A256GCMKW"].forEach(function(e){var r=/A(\d+)GCM(KW)?/g.exec(e),t=parseInt(r[1]),n=r[2]==="KW";Nm[e]={encrypt:n4(t,n),decrypt:i4(t,n)}});Om.exports=Nm});var Qa=d((zH,Um)=>{"use strict";var Bt=tt(),Dm=he(),Wa=ln(),Ja=Buffer.from("a6a6a6a6a6a6a6a6","hex");function Za(e,r){for(var t=Math.max(e.length,r.length),n=Buffer.alloc(t),i=0;t>i;i++)n[i]=(e[i]||0)^(r[i]||0);return n}function Ya(e,r){for(var t=[],n=0;e.length>n;n+=r)t.push(e.slice(n,n+r));return t}function Xa(e){var r=Math.floor(e/4294967296),t=e%4294967296,n=Buffer.alloc(8);return n[0]=255&r>>>24,n[1]=255&r>>>16,n[2]=255&r>>>8,n[3]=255&r>>>0,n[4]=255&t>>>24,n[5]=255&t>>>16,n[6]=255&t>>>8,n[7]=255&t>>>0,n}function a4(e){function r(a,o){if(e!==a.length<<3)throw new Error("invalid key size");if(0<o.length&&o.length%8!==0)throw new Error("invalid data length")}var t=function(a,o){try{r(a,o)}catch(m){return Promise.reject(m)}var s=Dm.cipher.createCipher("AES",new Wa(a)),c=Ya(o,8),u,f,l;u=Ja;for(var p=0;6>p;p++)for(var h=0;c.length>h;h++)l=c.length*p+h+1,f=Buffer.concat([u,c[h]]),s.start(),s.update(new Wa(f)),s.finish(),f=Buffer.from(s.output.bytes(),"binary"),u=Za(f.slice(0,8),Xa(l)),c[h]=f.slice(8,16);c=[u].concat(c);var v=Buffer.concat(c);return Promise.resolve({data:v})},n=function(a,o){try{r(a,o)}catch(u){return Promise.reject(u)}var s={name:"AES-KW"},c=[Bt.subtleCrypto.importKey("raw",o,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),Bt.subtleCrypto.importKey("raw",a,s,!0,["wrapKey"])];return c=Promise.all(c),c=c.then(function(u){return Bt.subtleCrypto.wrapKey("raw",u[0],u[1],s)}),c=c.then(function(u){return u=Buffer.from(u),{data:u}}),c},i=function(a,o){try{r(a,o)}catch(y){return Promise.reject(y)}var s=Ya(o,8),c=Buffer.alloc(16),u,f,l;u=Ja;for(var p=0;6>p;p++)for(var h=0;s.length>h;h++){l=s.length*p+h+1,f=Buffer.concat([u,s[h]]);var v=Bt.nodeCrypto.createCipheriv("AES"+e,a,c);f=v.update(f),u=Za(f.slice(0,8),Xa(l)),s[h]=f.slice(8,16)}s=[u].concat(s);var m=Buffer.concat(s);return Promise.resolve({data:m})};return Bt.setupFallback(i,n,t)}function o4(e){function r(a,o){if(e!==a.length<<3)throw new Error("invalid key size");if(0<o.length-8&&o.length%8!==0)throw new Error("invalid data length")}var t=function(a,o){try{r(a,o)}catch(m){return Promise.reject(m)}var s=Dm.cipher.createDecipher("AES",new Wa(a)),c=Ya(o,8),u,f,l;u=c[0],c=c.slice(1);for(var p=5;0<=p;--p)for(var h=c.length-1;0<=h;--h)l=c.length*p+h+1,f=Za(u,Xa(l)),f=Buffer.concat([f,c[h]]),s.start(),s.update(new Wa(f)),s.finish(),f=Buffer.from(s.output.bytes(),"binary"),u=f.slice(0,8),c[h]=f.slice(8,16);if(u.toString()!==Ja.toString())return Promise.reject(new Error("decryption failed"));var v=Buffer.concat(c);return Promise.resolve(v)},n=function(a,o){try{r(a,o)}catch(u){return Promise.reject(u)}var s={name:"AES-KW"},c=Bt.subtleCrypto.importKey("raw",a,s,!0,["unwrapKey"]);return c=c.then(function(u){return Bt.subtleCrypto.unwrapKey("raw",o,u,s,{name:"HMAC",hash:"SHA-256"},!0,["sign"])}),c=c.then(function(u){return Bt.subtleCrypto.exportKey("raw",u)}),c=c.then(function(u){return u=Buffer.from(u),u}),c},i=function(a,o){try{r(a,o)}catch(y){return Promise.reject(y)}var s=Ya(o,8),c=Buffer.alloc(16),u,f,l;u=s[0],s=s.slice(1);for(var p=5;0<=p;--p)for(var h=s.length-1;0<=h;--h){l=s.length*p+h+1,f=Za(u,Xa(l)),f=Buffer.concat([f,s[h],c]);var v=Bt.nodeCrypto.createDecipheriv("AES"+e,a,c);f=v.update(f),u=f.slice(0,8),s[h]=f.slice(8,16)}if(u.toString()!==Ja.toString())return Promise.reject(new Error("decryption failed"));var m=Buffer.concat(s);return Promise.resolve(m)};return Bt.setupFallback(i,n,t)}var Lm={};["A128KW","A192KW","A256KW"].forEach(function(e){var r=parseInt(/A(\d+)KW/g.exec(e)[1]);Lm[e]={encrypt:a4(r),decrypt:o4(r)}});Um.exports=Lm});var ku=d((VH,Mm)=>{"use strict";var s4=St(),u4=pi();function c4(e){e=e.replace("CONCAT-","");var r=function(t,n){n=n||{};var i=n.length,a=s4.HASHLENGTH[e];if(!i)return Promise.reject(new Error("invalid key length"));if(!n.otherInfo)return Promise.reject(new Error("invalid otherInfo"));var o=n.otherInfo,s=u4[e].digest,c=Math.ceil(i/a),u=0,f=[];function l(){if(c===u++)return Buffer.concat(f).slice(0,i);var p=Buffer.alloc(4+t.length+o.length);return p.writeUInt32BE(u,0),t.copy(p,4),o.copy(p,4+t.length),s(p).then(function(h){return f.push(h),l()})}return l()};return r}var Km={};["CONCAT-SHA-1","CONCAT-SHA-256","CONCAT-SHA-384","CONCAT-SHA-512"].forEach(function(e){Km[e]={derive:c4(e)}});Mm.exports=Km});var jm=d((WH,Hm)=>{"use strict";function f4(e){return Promise.resolve({data:e,once:!0,direct:!0})}function l4(e){return Promise.resolve(e)}var h4={dir:{encrypt:f4,decrypt:l4}};Hm.exports=h4});var Ou=d((JH,Gm)=>{"use strict";var Ne=he().jsbn.BigInteger;function Nu(){return new Ne(null)}function gn(e){this.r2=Nu(),this.q3=Nu(),Ne.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function p4(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var r=Nu();return e.copyTo(r),this.reduce(r),r}function d4(e){return e}function g4(e){if(e.s<0)throw Error("Barrett reduction on negative input");for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function v4(e,r){e.squareTo(r),this.reduce(r)}function y4(e,r,t){e.multiplyTo(r,t),this.reduce(t)}gn.prototype.convert=p4;gn.prototype.revert=d4;gn.prototype.reduce=g4;gn.prototype.mulTo=y4;gn.prototype.sqrTo=v4;function Ie(e,r){this.x=r,this.p=e}function m4(e){return e===this?!0:this.p.equals(e.p)&&this.x.equals(e.x)}function _4(){return this.x}function E4(){return new Ie(this.p,this.x.negate().mod(this.p))}function w4(e){return new Ie(this.p,this.x.add(e.toBigInteger()).mod(this.p))}function b4(e){return new Ie(this.p,this.x.subtract(e.toBigInteger()).mod(this.p))}function F4(e){return new Ie(this.p,this.x.multiply(e.toBigInteger()).mod(this.p))}function x4(){return new Ie(this.p,this.x.pow(2).mod(this.p))}function A4(e){return new Ie(this.p,this.x.multiply(e.toBigInteger().modInverse(this.p)).mod(this.p))}Ie.prototype.equals=m4;Ie.prototype.toBigInteger=_4;Ie.prototype.negate=E4;Ie.prototype.add=w4;Ie.prototype.subtract=b4;Ie.prototype.multiply=F4;Ie.prototype.square=x4;Ie.prototype.divide=A4;function Oe(e,r,t,n){this.curve=e,this.x=r,this.y=t,n?this.z=n:this.z=Ne.ONE,this.zinv=null}function S4(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var e=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)}function C4(){this.zinv||(this.zinv=this.z.modInverse(this.curve.p));var e=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)}function B4(e){if(e===this)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return this.isInfinity();var r,t;return r=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.p),r.equals(Ne.ZERO)?(t=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.p),t.equals(Ne.ZERO)):!1}function T4(){return this.x==null&&this.y==null?!0:this.z.equals(Ne.ZERO)&&!this.y.toBigInteger().equals(Ne.ZERO)}function I4(){return new Oe(this.curve,this.x,this.y.negate(),this.z)}function P4(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.p),t=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.p);if(Ne.ZERO.equals(t))return Ne.ZERO.equals(r)?this.twice():this.curve.getInfinity();var n=new Ne("3"),i=this.x.toBigInteger(),a=this.y.toBigInteger(),o=t.pow(2),s=o.multiply(t),c=i.multiply(o),u=r.pow(2).multiply(this.z),f=u.subtract(c.shiftLeft(1)).multiply(e.z).subtract(s).multiply(t).mod(this.curve.p),l=c.multiply(n).multiply(r).subtract(a.multiply(s)).subtract(u.multiply(r)).multiply(e.z).add(r.multiply(s)).mod(this.curve.p),p=s.multiply(this.z).multiply(e.z).mod(this.curve.p);return new Oe(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(l),p)}function q4(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()===0)return this.curve.getInfinity();var e=new Ne("3"),r=this.x.toBigInteger(),t=this.y.toBigInteger(),n=t.multiply(this.z),i=n.multiply(t).mod(this.curve.p),a=this.curve.a.toBigInteger(),o=r.pow(2).multiply(e);Ne.ZERO.equals(a)||(o=o.add(this.z.pow(2).multiply(a))),o=o.mod(this.curve.p);var s=o.pow(2).subtract(r.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.p),c=o.multiply(e).multiply(r).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(o.pow(2).multiply(o)).mod(this.curve.p),u=n.pow(2).multiply(n).shiftLeft(3).mod(this.curve.p);return new Oe(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(c),u)}function k4(e){if(this.isInfinity())return this;if(e.signum()===0)return this.curve.getInfinity();var r=e,t=r.multiply(new Ne("3")),n=this.negate(),i=this,a;for(a=t.bitLength()-2;a>0;--a){i=i.twice();var o=t.testBit(a),s=r.testBit(a);o!==s&&(i=i.add(o?this:n))}return i}function N4(e,r,t){var n;e.bitLength()>t.bitLength()?n=e.bitLength()-1:n=t.bitLength()-1;for(var i=this.curve.getInfinity(),a=this.add(r);n>=0;)i=i.twice(),e.testBit(n)?t.testBit(n)?i=i.add(a):i=i.add(this):t.testBit(n)&&(i=i.add(r)),--n;return i}Oe.prototype.getX=S4;Oe.prototype.getY=C4;Oe.prototype.equals=B4;Oe.prototype.isInfinity=T4;Oe.prototype.negate=I4;Oe.prototype.add=P4;Oe.prototype.twice=q4;Oe.prototype.multiply=k4;Oe.prototype.multiplyTwo=N4;function vt(e,r,t){this.p=e,this.a=this.fromBigInteger(r),this.b=this.fromBigInteger(t),this.infinity=new Oe(this,null,null),this.reducer=new gn(this.p)}function O4(){return this.p}function R4(){return this.a}function D4(){return this.b}function L4(e){return e===this?!0:this.p.equals(e.p)&&this.a.equals(e.a)&&this.b.equals(e.b)}function U4(e){var r=e.getX().toBigInteger(),t=e.getY().toBigInteger(),n=this.a.toBigInteger(),i=this.b.toBigInteger(),a=this.p,o=t.pow(2).mod(a),s=r.pow(3).add(n.multiply(r)).add(i).mod(a);return o.equals(s)}function K4(){return this.infinity}function M4(e){return new Ie(this.p,e)}function H4(e){this.reducer.reduce(e)}function j4(e){switch(parseInt(e.substring(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var r=(e.length-2)/2,t=e.substr(2,r),n=e.substr(r+2,r);return new Oe(this,this.fromBigInteger(new Ne(t,16)),this.fromBigInteger(new Ne(n,16)));default:return null}}function G4(e){if(e.isInfinity())return"00";var r=e.getX().toBigInteger().toString(16),t=e.getY().toBigInteger().toString(16),n=this.getP().toString(16).length;for(n%2!==0&&n++;r.length<n;)r="0"+r;for(;t.length<n;)t="0"+t;return"04"+r+t}vt.prototype.getP=O4;vt.prototype.getA=R4;vt.prototype.getB=D4;vt.prototype.equals=L4;vt.prototype.contains=U4;vt.prototype.getInfinity=K4;vt.prototype.fromBigInteger=M4;vt.prototype.reduce=H4;vt.prototype.decodePointHex=j4;vt.prototype.encodePointHex=G4;Gm.exports={ECFieldElementFp:Ie,ECPointFp:Oe,ECCurveFp:vt}});var Vm=d((ZH,zm)=>{"use strict";var $a=he().jsbn.BigInteger,Ru=Ou();function Fr(e,r,t,n){this.curve=e,this.g=r,this.n=t,this.h=n}function z4(){return this.curve}function V4(){return this.g}function W4(){return this.n}function J4(){return this.h}Fr.prototype.getCurve=z4;Fr.prototype.getG=V4;Fr.prototype.getN=W4;Fr.prototype.getH=J4;function it(e){return new $a(e,16)}function Z4(){var e=it("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),r=it("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),t=it("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),n=it("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),i=$a.ONE,a=new Ru.ECCurveFp(e,r,t),o=a.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5");return new Fr(a,o,n,i)}function Y4(){var e=it("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF"),r=it("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC"),t=it("B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF"),n=it("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973"),i=$a.ONE,a=new Ru.ECCurveFp(e,r,t),o=a.decodePointHex("04AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB73617DE4A96262C6F5D9E98BF9292DC29F8F41DBD289A147CE9DA3113B5F0B8C00A60B1CE1D7E819D7A431D7C90EA0E5F");return new Fr(a,o,n,i)}function X4(){var e=it("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"),r=it("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC"),t=it("0051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00"),n=it("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409"),i=$a.ONE,a=new Ru.ECCurveFp(e,r,t),o=a.decodePointHex("0400C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66011839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650");return new Fr(a,o,n,i)}var vn=zm.exports={secp256r1:Z4(),secp384r1:Y4(),secp521r1:X4()};vn["P-256"]=vn.secp256r1;vn["P-384"]=vn.secp384r1;vn["P-521"]=vn.secp521r1});var Uu=d(ro=>{"use strict";var Du=he(),Tt=Du.jsbn.BigInteger,Q4=Ou(),$4=Vm();function eo(e){return new Tt(e,16)}function yn(e,r){r||(r=Math.ceil(e.bitLength()/8)),r=r*2;var t=e.toString(16);for(t=t.substring(Math.max(t.length-r,0));r>t.length;)t="0"+t;return Buffer.from(t,"hex")}function at(e){return typeof e=="string"&&(e=Buffer.from(e,"binary")),eo(e.toString("hex"))}function mn(e){return Math.ceil(e.getN().bitLength()/8)}function Lu(e){var r=$4[e];if(!r)throw new TypeError("unsupported named curve: "+e);return r}function Wm(e,r){var t=e.getN().bitLength(),n=r.length*8,i=at(r);return t<n&&(i=i.shiftRight(n-t)),i}function to(e,r,t){var n=Lu(e),i=n.getCurve(),a=new Q4.ECPointFp(i,i.fromBigInteger(r),i.fromBigInteger(t));this.curve=e,this.params=n,this.point=a;var o=mn(n);this.x=yn(r,o),this.y=yn(t,o)}to.prototype.isValid=function(){return this.params.curve.contains(this.point)};to.prototype.verify=function(e,r){var t=this.params.getN(),n=this.params.getG(),i=at(r.r),a=at(r.s);if(i.compareTo(Tt.ONE)<0||i.compareTo(t)>=0||a.compareTo(Tt.ONE)<0||i.compareTo(t)>=0)return!1;var o=Wm(this.params,e),s=a.modInverse(t),c=o.multiply(s).mod(t),u=i.multiply(s).mod(t),f=n.multiplyTwo(c,this.point,u).getX().toBigInteger();return f=f.mod(t),f.equals(i)};function _n(e,r){var t=Lu(e);this.curve=e,this.params=t;var n=mn(t);this.d=yn(r,n)}_n.prototype.toPublicKey=function(){var e=at(this.d),r=this.params.getG().multiply(e);return new to(this.curve,r.getX().toBigInteger(),r.getY().toBigInteger())};_n.prototype.sign=function(e){var r=mn(this.params),t=this.params.getN(),n=this.params.getG(),i=Wm(this.params,e),a=at(this.d),o,s,c,u,f;do{do{do c=at(Du.random.getBytes(r));while(c.equals(Tt.ZERO)||c.compareTo(t)>=0);u=n.multiply(c).getX().toBigInteger(),o=u.mod(t)}while(o.equals(Tt.ZERO));f=a.multiply(o),f=i.add(f),s=c.modInverse(t).multiply(f).mod(t)}while(s.equals(Tt.ONE));var l=mn(this.params);return o=yn(o,l),s=yn(s,l),{r:o,s}};_n.prototype.isValid=function(){var e=at(this.d),r=this.params.getN().subtract(Tt.ONE);return e.compareTo(Tt.ONE)>=0&&e.compareTo(r)<0};_n.prototype.computeSecret=function(e){var r=at(this.d),t=e.point.multiply(r).getX().toBigInteger();return t=yn(t,mn(this.params)),t};ro.generateKeyPair=function(e){var r=Lu(e),t=r.getN(),n=Du.random.getBytes(mn(r));n=at(n);var i=t.subtract(Tt.ONE),a=n.mod(i).add(Tt.ONE),o=new _n(e,a),s=o.toPublicKey();return{private:o,public:s}};ro.asPublicKey=function(e,r,t){typeof r=="string"?r=eo(r):Buffer.isBuffer(r)&&(r=at(r)),typeof t=="string"?t=eo(t):Buffer.isBuffer(t)&&(t=at(t));var n=new to(e,r,t);return n};ro.asPrivateKey=function(e,r){typeof r=="string"?r=eo(r):Buffer.isBuffer(r)&&(r=at(r));var t=new _n(e,r);return t}});var no=d((XH,$m)=>{"use strict";var Zm=xt(),Ku=Uu(),j=he(),Ym=Ae(),eO={"P-256":256,"P-384":384,"P-521":521};function tO(e,r){var t=r?["x","y"]:["d"];t=t.map(function(i){return new j.jsbn.BigInteger(e[i].toString("hex"),16)}),t=[e.crv].concat(t);var n=r?Ku.asPublicKey:Ku.asPrivateKey;return n.apply(Ku,t)}function rO(e,r){var t=Zm(e),n=r?["x","y"]:["x","y","d"];return n.forEach(function(i){t[i]=Ym.base64url.encode(t[i])}),delete t.key_ops,delete t.use,delete t.alg,r&&delete t.d,t}function Xm(e,r){var t=Zm(e),n=r?["x","y"]:["d"];return n.forEach(function(i){t[i]=Ym.asBuffer(t[i],"base64url")}),t}var nO=Buffer.from([4]);function iO(e,r){e=Xm(e,r);var t=r?Buffer.concat([nO,e.x,e.y]):e.d;return t}function aO(e){return eO[e||""]||NaN}function oO(e){switch(e){case"P-256":return"1.2.840.10045.3.1.7";case"P-384":return"1.3.132.0.34";case"P-521":return"1.3.132.0.35";default:return null}}var Qm="1.2.840.10045.2.1";function sO(e,r){var t=e.crv;t=oO(t),t=j.asn1.oidToDer(t);var n,i,a;r?(n="EC PRIVATE KEY",i=Buffer.concat([Buffer.from([0,4]),e.x,e.y]).toString("binary"),e=e.d.toString("binary"),a=j.asn1.create(j.asn1.Class.UNIVERSAL,j.asn1.Type.SEQUENCE,!0,[j.asn1.create(j.asn1.Class.UNIVERSAL,j.asn1.Type.INTEGER,!1,""),j.asn1.create(j.asn1.Class.UNIVERSAL,j.asn1.Type.OCTETSTRING,!1,e),j.asn1.create(j.asn1.Class.CONTEXT_SPECIFIC,0,!0,[j.asn1.create(j.asn1.Class.UNIVERSAL,j.asn1.Type.OID,!1,t.bytes())]),j.asn1.create(j.asn1.Class.CONTEXT_SPECIFIC,1,!0,[j.asn1.create(j.asn1.Class.UNIVERSAL,j.asn1.Type.BITSTRING,!1,i)])])):(n="PUBLIC KEY",e=Buffer.concat([Buffer.from([0,4]),e.x,e.y]).toString("binary"),a=j.asn1.create(j.asn1.Class.UNIVERSAL,j.asn1.Type.SEQUENCE,!0,[j.asn1.create(j.asn1.Class.UNIVERSAL,j.asn1.Type.SEQUENCE,!0,[j.asn1.create(j.asn1.Class.UNIVERSAL,j.asn1.Type.OID,!1,j.asn1.oidToDer(Qm).bytes()),j.asn1.create(j.asn1.Class.UNIVERSAL,j.asn1.Type.OID,!1,t.bytes())]),j.asn1.create(j.asn1.Class.UNIVERSAL,j.asn1.Type.BITSTRING,!1,e)])),a=j.asn1.toDer(a).bytes();var o=j.pem.encode({type:n,body:a});return o}var jt="Could not extract parameters from DER signature";function uO(e,r){var t=0;if(e[t++]!==48)throw new Error(jt);var n=e[t++];if(n===129&&(n=e[t++]),n>e.length-t)throw new Error(jt);if(e[t++]!==2)throw new Error(jt);var i=e[t++];if(i>e.length-t-2)throw new Error(jt);if(i>r+1)throw new Error(jt);var a=t;if(t+=i,e[t++]!==2)throw new Error(jt);var o=e[t++];if(o!==e.length-t)throw new Error(jt);if(o>r+1)throw new Error(jt);var s=t;if(t+=o,t!==e.length)throw new Error(jt);var c=r-i,u=r-o,f=Buffer.alloc(c+i+u+o);for(t=0;t<c;++t)f[t]=0;var l=Math.max(-c,0);e.copy(f,t,a+l,a+i),t=r;for(var p=t;t<p+u;++t)f[t]=0;var h=Math.max(-u,0);return e.copy(f,t,s+h,s+o),f}function Jm(e,r,t){for(var n=0;r+n<t&&e[r+n]===0;)++n;var i=e[r+n]>=128;return i&&--n,n}function cO(e,r){var t=Jm(e,0,r),n=Jm(e,r,e.length),i=r-t,a=r-n,o=i+a+4,s=o<128,c=Buffer.alloc((s?2:3)+o),u=0;return c[u++]=48,s?c[u++]=o:(c[u++]=129,c[u++]=o&255),c[u++]=2,c[u++]=i,t<0?(c[u++]=0,u+=e.copy(c,u,0,r)):u+=e.copy(c,u,t,r),c[u++]=2,c[u++]=a,n<0?(c[u++]=0,e.copy(c,u,r)):e.copy(c,u,r+n),c}$m.exports={convertToForge:tO,convertToJWK:rO,convertToObj:Xm,convertToBuffer:iO,curveSize:aO,derToConcat:uO,concatToDer:cO,convertToPEM:sO,EC_OID:Qm}});var Mu=d((QH,t1)=>{"use strict";var fO=St(),lO=Ha();function hO(e){var r=e.replace("HKDF-",""),t=e.replace("HKDF-SHA-","HS"),n=function(i,a){var o=fO.HASHLENGTH[r]/8;typeof t=="string"&&(t=lO[t].sign),a=a||{};var s=a.salt;(!s||s.length===0)&&(s=Buffer.alloc(o));var c=a.info||Buffer.alloc(0),u=a.length||o,f,l=Math.ceil(u/o),p=[],h=0;function v(m,y){return l===h++?Buffer.concat(p).slice(0,u):(y||(y=Buffer.alloc(0)),y=Buffer.concat([y,c,Buffer.from([h])]),y=t(m,y),y=y.then(function(_){return y=_.mac,p.push(y),v(m,y)}),y)}return f=t(s,i,{length:s.length*8}),f=f.then(function(m){return v(m.mac)}),f};return n}var e1={};["HKDF-SHA-1","HKDF-SHA-256","HKDF-SHA-384","HKDF-SHA-512"].forEach(function(e){e1[e]={derive:hO(e)}});t1.exports=e1});var c1=d(($H,u1)=>{"use strict";var r1=Mt(),n1=Ae(),Ke=no(),pO=Mu(),dO=ku(),gO=Qa(),nr=tt(),vO=St(),i1=xt(),a1=Eu(),o1=wu();function s1(e){switch(e){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Error("unsupported curve: "+e)}}var xr=u1.exports={};function yO(){var e={name:"ECDH"},r=function(a,o){var s=a&&Ke.convertToForge(a,!0);if(!s||!s.isValid())return Promise.reject(new Error("invalid EC public key"));switch(o){case"jwk":s=Ke.convertToJWK(a,!0);break;case"buffer":s=Ke.convertToBuffer(a,!0);break}return Promise.resolve(s)},t=function(a,o){o=o||{};var s=o.length||0,c=Ke.convertToForge(a,!1),u=r(o.public,"forge");return u=u.then(function(f){var l=c.computeSecret(f);if(s){if(l.length<s)return Promise.reject(new Error("key length too large: "+s));l=l.slice(0,s)}return l}),u},n=function(a,o){a=a||{},o=o||{};var s=o.length||0,c=r1(i1(e),{namedCurve:a.crv});s||(s=a.d.length);var u=Ke.convertToJWK(a,!1);u=nr.subtleCrypto.importKey("jwk",u,c,!1,["deriveBits"]);var f=r(o.public,"jwk");f=f.then(function(p){return nr.subtleCrypto.importKey("jwk",p,c,!1,[])});var l=Promise.all([u,f]);return l=l.then(function(p){var h=p[0],v=p[1],m=r1(i1(e),{public:v});return nr.subtleCrypto.deriveBits(m,h,s*8)}),l=l.then(function(p){return p=Buffer.from(p),p}),l},i=function(a,o){if(typeof nr.nodeCrypto.createECDH!="function")throw new Error("unsupported algorithm: ECDH");o=o||{};var s=o.length||0,c;switch(a.crv){case"P-256":c="prime256v1";break;case"P-384":c="secp384r1";break;case"P-521":c="secp521r1";break;default:return Promise.reject(new Error("invalid curve: "+c))}var u=Ke.convertToBuffer(a,!1),f=r(o.public,"buffer");return f=f.then(function(l){var p=nr.nodeCrypto.createECDH(c);p.setPrivateKey(u);var h=p.computeSecret(l);if(s){if(h.length<s)return Promise.reject(new Error("key length too large: "+s));h=h.slice(0,s)}return h}),f};return nr.setupFallback(i,n,t)}function mO(){var e=function(r,t){t=t||{};var n;try{if(n=t.hash||s1(r.crv),!n)throw new Error("invalid hash: "+n);n.toUpperCase()}catch(o){return Promise.reject(o)}var i=["public"],a=xr.ECDH.derive(r,o1(t,i));return a=a.then(function(o){return dO["CONCAT-"+n].derive(o,a1(t,i))}),a};return e}function _O(){var e=function(r,t){t=t||{};var n;try{if(n=t.hash||s1(r.crv),!n)throw new Error("invalid hash: "+n);n.toUpperCase()}catch(o){return Promise.reject(o)}var i=["public"],a=xr.ECDH.derive(r,o1(t,i));return a=a.then(function(o){return pO["HKDF-"+n].derive(o,a1(t,i))}),a};return e}function io(e,r,t){function n(f){return Buffer.concat([nr.int32ToBuffer(f.length),f])}var i=t.algorithm||"",a=vO.KEYLENGTH[i],o=n1.asBuffer(t.apu||"","base64url"),s=n1.asBuffer(t.apv||"","base64url"),c=Buffer.concat([n(Buffer.from(i,"utf8")),n(o),n(s),nr.int32ToBuffer(a)]),u={public:r,length:a/8,hash:"SHA-256",otherInfo:c};return xr["ECDH-CONCAT"].derive(e,u)}function EO(){var e=function(r,t,n){if(n=n||{},!n.epk||!n.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var i=Ke.convertToObj(n.epk,!1);if(!r||!r.x||!r.y)return Promise.reject(new Error("missing static public key"));var a=Ke.convertToObj(r,!0),o=io(i,a,{algorithm:n.enc,apu:n.apu,apv:n.apv});return o=o.then(function(s){return{data:s,once:!0,direct:!0}}),o};return e}function wO(){var e=function(r,t,n){if(n=n||{},!n.epk||!n.epk.x||!n.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var i=Ke.convertToObj(n.epk,!0);if(!r||!r.d)return Promise.reject(new Error("missing static private key"));var a=Ke.convertToObj(r,!1),o=io(a,i,{algorithm:n.enc,apu:n.apu,apv:n.apv});return o=o.then(function(s){return s}),o};return e}function bO(e){var r=function(t,n,i){if(i=i||{},!i.epk||!i.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var a=Ke.convertToObj(i.epk,!1);if(!t||!t.x||!t.y)return Promise.reject(new Error("missing static public key"));var o=Ke.convertToObj(t,!0),s=io(a,o,{algorithm:i.alg,apu:i.apu,apv:i.apv});return s=s.then(function(c){return e(c,n)}),s};return r}function FO(e){var r=function(t,n,i){if(i=i||{},!i.epk||!i.epk.x||!i.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var a=Ke.convertToObj(i.epk,!0);if(!t||!t.d)return Promise.reject(new Error("missing static private key"));var o=Ke.convertToObj(t,!1),s=io(o,a,{algorithm:i.alg,apu:i.apu,apv:i.apv});return s=s.then(function(c){return e(c,n)}),s};return r}["ECDH","ECDH-HKDF","ECDH-CONCAT"].forEach(function(e){var r=/^ECDH(?:-(\w+))?$/g.exec(e||"")[1],t=xr[e]=xr[e]||{};switch(r||""){case"CONCAT":t.derive=mO();break;case"HKDF":t.derive=_O();break;case"":t.derive=yO();break;default:t.derive=null}});["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach(function(e){var r=/^ECDH-ES(?:\+(.+))?/g.exec(e||"")[1],t=xr[e]=xr[e]||{};r?(r=gO[r],r?(t.encrypt=bO(r.encrypt),t.decrypt=FO(r.decrypt)):t.ecrypt=t.decrypt=null):(t.encrypt=EO(),t.decrypt=wO())})});var d1=d((ej,p1)=>{"use strict";var ir=no(),ot=tt(),f1=pi();function l1(e){switch(e){case"SHA-256":return"P-256";case"SHA-384":return"P-384";case"SHA-512":return"P-521";default:throw new Error("unsupported hash: "+e)}}function xO(e){var r=l1(e),t=function(o,s){if(r!==o.crv)return Promise.reject(new Error("invalid curve"));var c=ir.convertToForge(o,!1),u;return u=f1[e].digest(s),u=u.then(function(f){return f=c.sign(f),f=Buffer.concat([f.r,f.s]),{data:s,mac:f}}),u},n=function(o,s){if(r!==o.crv)return Promise.reject(new Error("invalid curve"));var c=ir.convertToJWK(o,!1),u,f={name:"ECDSA",namedCurve:c.crv,hash:{name:e}};return u=ot.subtleCrypto.importKey("jwk",c,f,!0,["sign"]),u=u.then(function(l){return ot.subtleCrypto.sign(f,l,s)}),u=u.then(function(l){return l=Buffer.from(l),{data:s,mac:l}}),u},i,a=e.toLowerCase().replace("-","");return ot.nodeCrypto&&ot.nodeCrypto.getHashes().indexOf(a)>-1&&(i=function(o,s){if(r!==o.crv)return Promise.reject(new Error("invalid curve"));var c;c=Promise.resolve(ot.nodeCrypto.createSign(a)),c=c.then(function(f){return f.update(s),f});var u;switch(a.slice(-3)){case"384":u=48;break;case"512":u=66;break;default:u=32}return c=c.then(function(f){return ir.derToConcat(f.sign(ir.convertToPEM(o,!0)),u)}),c=c.then(function(f){return{data:s,mac:f}}),c}),ot.setupFallback(i,n,t)}function AO(e){var r=l1(e),t=function(o,s,c){if(r!==o.crv)return Promise.reject(new Error("invalid curve"));var u=ir.convertToForge(o,!0),f;return f=f1[e].digest(s),f=f.then(function(l){var p=c.length/2,h={r:c.slice(0,p),s:c.slice(p)};return u.verify(l,h)?{data:s,mac:c,valid:!0}:Promise.reject(new Error("verification failed"))}),f},n=function(o,s,c){if(r!==o.crv)return Promise.reject(new Error("invalid curve"));var u=ir.convertToJWK(o,!0),f,l={name:"ECDSA",namedCurve:u.crv,hash:{name:e}};return f=ot.subtleCrypto.importKey("jwk",u,l,!0,["verify"]),f=f.then(function(p){return ot.subtleCrypto.verify(l,p,c,s)}),f=f.then(function(p){return p?{data:s,mac:c,valid:!0}:Promise.reject(new Error("verification failed"))}),f},i,a=e.toLowerCase().replace("-","");return ot.nodeCrypto&&ot.nodeCrypto.getHashes().indexOf(a)>-1&&(i=function(o,s,c){if(r!==o.crv)return Promise.reject(new Error("invalid curve"));var u;switch(a.slice(-3)){case"384":u=48;break;case"512":u=66;break;default:u=32}var f;return f=Promise.resolve(ot.nodeCrypto.createVerify(a)),f=f.then(function(l){return l.update(s),l.end(),l.verify(ir.convertToPEM(o,!1),ir.concatToDer(c,u))}),f=f.then(function(l){if(!l)throw new Error("verification failed");return{data:s,mac:c,valid:!0}}),f}),ot.setupFallback(i,n,t)}var h1={};["ES256","ES384","ES512"].forEach(function(e){var r=e.replace(/ES(\d+)/g,function(t,n){return"SHA-"+n});h1[e]={sign:xO(r),verify:AO(r)}});p1.exports=h1});var E1=d((tj,_1)=>{"use strict";var g1=he(),Hu=Mt(),En=Ae(),vi=tt(),v1=St(),y1=Qa(),SO=Buffer.from([0]),CO=8192,BO=16;function m1(e,r,t){var n="PBES2-"+e+"+"+r,i=[Buffer.from(n,"utf8"),SO,t];return Buffer.concat(i)}function TO(e){function r(a){a=a||{};var o=a.length||0,s=En.asBuffer(a.salt||Buffer.alloc(0),"base64u4l"),c=a.iterations||0;if(0>=o)throw new Error("invalid key length");if(0>=c)throw new Error("invalid iteration count");return a.length=o,a.salt=s,a.iterations=c,a}var t=function(a,o){try{o=r(o)}catch(l){return Promise.reject(l)}var s=o.length,c=o.salt,u=o.iterations,f=new Promise(function(l,p){var h=g1.md[e.replace("-","").toLowerCase()].create(),v=function(m,y){m?p(m):(y=Buffer.from(y,"binary"),l(y))};g1.pkcs5.pbkdf2(a.toString("binary"),c.toString("binary"),u,s,h,v)});return f},n=function(a,o){try{o=r(o)}catch(l){return Promise.reject(l)}var s=o.length,c=o.salt,u=o.iterations,f=Promise.resolve(a);return f=f.then(function(l){return vi.subtleCrypto.importKey("raw",l,"PBKDF2",!1,["deriveBits"])}),f=f.then(function(l){var p={name:"PBKDF2",salt:new Uint8Array(c),iterations:u,hash:e};return vi.subtleCrypto.deriveBits(p,l,s*8)}),f=f.then(function(l){return En.asBuffer(l)}),f},i=function(a,o){if(6>vi.nodeCrypto.pbkdf2.length)throw new Error("unsupported algorithm: PBKDF2-"+e);try{o=r(o)}catch(p){return Promise.reject(p)}var s=o.length,c=o.salt,u=o.iterations,f=e.replace("-",""),l=new Promise(function(p,h){function v(m,y){m?h(m):p(y)}vi.nodeCrypto.pbkdf2(a,c,u,s,f,v)});return l};return vi.setupFallback(i,n,t)}function IO(e,r){var t="PBKDF2-"+e.replace("HS","SHA-"),n=v1.KEYLENGTH[r]/8;return function(i,a,o){o=o||{};var s=En.asBuffer(o.p2s||Buffer.alloc(0),"base64url"),c=o.p2c||CO;if(0>=c)throw new Error("invalid iteration count");if(s.length===0)s=En.randomBytes(BO);else if(8>s.length)throw new Error("salt too small");var u={p2s:En.base64url.encode(s),p2c:c};s=m1(e,r,s),o=Hu(o,{salt:s,iterations:c,length:n});var f=Promise.resolve(i);return f=f.then(function(l){return yi[t].derive(l,o)}),f=f.then(function(l){return y1[r].encrypt(l,a)}),f=f.then(function(l){return l.header=Hu(l.header||{},u),l}),f}}function PO(e,r){var t="PBKDF2-"+e.replace("HS","SHA-"),n=v1.KEYLENGTH[r]/8;return function(i,a,o){o=o||{};var s=En.asBuffer(o.p2s||Buffer.alloc(0),"base64url"),c=o.p2c||0;if(0>=c)return Promise.reject(new Error("invalid iteration count"));if(8>s.length)return Promise.reject(new Error("salt too small"));s=m1(e,r,s),o=Hu(o,{salt:s,iterations:c,length:n});var u=Promise.resolve(i);return u=u.then(function(f){return yi[t].derive(f,o)}),u=u.then(function(f){return y1[r].decrypt(f,a)}),u}}var yi={};["PBKDF2-SHA-256","PBKDF2-SHA-384","PBKDF2-SHA-512"].forEach(function(e){var r=e.replace("PBKDF2-","");yi[e]={derive:TO(r)}});["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach(function(e){var r=/PBES2-(HS\d+)\+(A\d+KW)/g.exec(e),t=r[1],n=r[2];yi[e]={encrypt:IO(t,n),decrypt:PO(t,n)}});_1.exports=yi});var ao=d((rj,w1)=>{"use strict";var qO=xt(),wn=he(),kO=Ae();function ju(e,r){var t=r?["n","e"]:["n","e","d","p","q","dp","dq","qi"];t=t.map(function(i){return new wn.jsbn.BigInteger(e[i].toString("hex"),16)});var n=r?wn.pki.rsa.setPublicKey:wn.pki.rsa.setPrivateKey;return n.apply(wn.pki.rsa,t)}function NO(e,r){var t=qO(e),n=r?["n","e"]:["n","e","d","p","q","dp","dq","qi"];return n.forEach(function(i){t[i]=kO.base64url.encode(t[i])}),delete t.key_ops,delete t.use,delete t.alg,r&&(delete t.d,delete t.p,delete t.q,delete t.dp,delete t.dq,delete t.qi),t}function OO(e,r){var t=r?"__cachedPublicPem":"__cachedPrivatePem";if(e[t])return e[t];var n;return r?n=wn.pki.publicKeyToPem(ju(e,r)):n=wn.pki.privateKeyToPem(ju(e,r)),Object.defineProperty(e,t,{value:n}),n}w1.exports={convertToForge:ju,convertToJWK:NO,convertToPem:OO}});var S1=d((nj,A1)=>{"use strict";var b1=he(),Me=tt(),oo=ln(),Ar=ao(),Gu={"RSA-OAEP":"RSA_PKCS1_OAEP_PADDING",RSA1_5:"RSA_PKCS1_PADDING"};function F1(e){return Me.nodeCrypto&&Me.nodeCrypto.constants&&Object.keys(Gu).indexOf(e)!==-1}function RO(e){var r={name:e};e==="RSA-OAEP-256"?(r.name="RSA-OAEP",r.hash={name:"SHA-256"}):e==="RSA-OAEP"?r.hash={name:"SHA-1"}:r.name="RSAES-PKCS1-v1_5";var t=function(a,o){o=new oo(o).bytes();var s=Ar.convertToForge(a,!0),c={};r.name==="RSA-OAEP"&&(c.md=r.hash.name.toLowerCase().replace(/-/g,""),c.md=b1.md[c.md].create());var u=s.encrypt(o,r.name.toUpperCase(),c);return u=new oo(u).native(),Promise.resolve({data:u})},n;r.name!=="RSAES-PKCS1-v1_5"?n=function(a,o){a=Ar.convertToJWK(a,!0);var s;return s=Me.subtleCrypto.importKey("jwk",a,r,!0,["encrypt"]),s=s.then(function(c){return Me.subtleCrypto.encrypt(r,c,o)}),s=s.then(function(c){var u=Buffer.from(c);return{data:u}}),s}:n=null;var i;return F1(e)&&(i=function(a,o){a=Ar.convertToPem(a,!0);var s=Me.nodeCrypto.publicEncrypt({key:a,padding:Me.nodeCrypto.constants[Gu[e]]},o);return{data:s}}),Me.setupFallback(i,n,t)}function DO(e){var r={name:e};e==="RSA-OAEP-256"?(r.name="RSA-OAEP",r.hash={name:"SHA-256"}):e==="RSA-OAEP"?r.hash={name:"SHA-1"}:r.name="RSAES-PKCS1-v1_5";var t=function(a,o){o=new oo(o).bytes();var s=Ar.convertToForge(a,!1),c={};r.name==="RSA-OAEP"&&(c.md=r.hash.name.toLowerCase().replace(/-/g,""),c.md=b1.md[c.md].create());var u=s.decrypt(o,r.name.toUpperCase(),c);return u=new oo(u).native(),Promise.resolve(u)},n;r.name!=="RSAES-PKCS1-v1_5"?n=function(a,o){a=Ar.convertToJWK(a,!1);var s;return s=Me.subtleCrypto.importKey("jwk",a,r,!0,["decrypt"]),s=s.then(function(c){return Me.subtleCrypto.decrypt(r,c,o)}),s=s.then(function(c){var u=Buffer.from(c);return u}),s}:n=null;var i;return F1(e)?i=function(a,o){return a=Ar.convertToPem(a,!1),Me.nodeCrypto.privateDecrypt({key:a,padding:Me.nodeCrypto.constants[Gu[e]]},o)}:Me.nodeCrypto&&e==="RSA-OAEP"&&(i=function(a,o){return a=Ar.convertToPem(a,!1),Me.nodeCrypto.privateDecrypt(a,o)}),Me.setupFallback(i,n,t)}var x1={};["RSA-OAEP","RSA-OAEP-256","RSA1_5"].forEach(function(e){x1[e]={encrypt:RO(e),decrypt:DO(e)}});A1.exports=x1});var T1=d((ij,B1)=>{"use strict";var st=he(),so=St(),te=tt(),ut=ao();function C1(){return te.nodeCrypto&&te.nodeCrypto.constants&&te.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST}function LO(e){var r=e.replace("RS","SHA").toLowerCase(),t=e.replace("RS","SHA-"),n={name:"RSASSA-PKCS1-V1_5",hash:{name:t}},i=function(c,u){var f=st.md[r].create();f.start(),f.update(u);var l=ut.convertToForge(c,!1),p=l.sign(f,"RSASSA-PKCS1-V1_5");return p=Buffer.from(p,"binary"),Promise.resolve({data:u,mac:p})},a=function(c,u){c=ut.convertToJWK(c,!1);var f;return f=te.subtleCrypto.importKey("jwk",c,n,!0,["sign"]),f=f.then(function(l){return te.subtleCrypto.sign(n,l,u)}),f=f.then(function(l){var p=Buffer.from(l);return{data:u,mac:p}}),f},o,s="RSA-"+t.replace("-","");return te.nodeCrypto&&te.nodeCrypto.getHashes().indexOf(s)>-1&&(o=function(c,u){var f=te.nodeCrypto.createSign(s);return f.update(u),{data:u,mac:f.sign(ut.convertToPem(c,!1))}}),te.setupFallback(o,a,i)}function UO(e){var r=e.replace("RS","SHA").toLowerCase(),t=e.replace("RS","SHA-"),n={name:"RSASSA-PKCS1-V1_5",hash:{name:t}},i=function(s,c,u){var f=st.md[r].create();f.start(),f.update(c),f=f.digest().bytes();var l=ut.convertToForge(s,!0),p=u.toString("binary"),h=l.verify(f,p,"RSASSA-PKCS1-V1_5");return h?Promise.resolve({data:c,mac:u,valid:!0}):Promise.reject(new Error("verification failed"))},a=function(s,c,u){s=ut.convertToJWK(s,!0);var f;return f=te.subtleCrypto.importKey("jwk",s,n,!0,["verify"]),f=f.then(function(l){return te.subtleCrypto.verify(n,l,u,c)}),f=f.then(function(l){return l?{data:c,mac:u,valid:!0}:Promise.reject(new Error("verification failed"))}),f},o;return te.nodeCrypto&&te.nodeCrypto.getHashes().indexOf(r)>-1&&(o=function(s,c,u){var f=te.nodeCrypto.createVerify(r);f.update(c),f.end();var l=f.verify(ut.convertToPem(s,!0),u);return l?{data:c,mac:u,valid:!0}:Promise.reject(new Error("verification failed"))}),te.setupFallback(o,a,i)}function KO(e){var r=e.replace("PS","SHA").toLowerCase(),t=e.replace("PS","SHA-"),n={name:"RSA-PSS",hash:{name:t},saltLength:so.HASHLENGTH[t]/8},i=function(c,u){var f=st.md[r].create();f.start(),f.update(u);var l=st.pss.create({md:st.md[r].create(),mgf:st.mgf.mgf1.create(st.md[r].create()),saltLength:so.HASHLENGTH[t]/8}),p=ut.convertToForge(c,!1),h=p.sign(f,l);return h=Buffer.from(h,"binary"),Promise.resolve({data:u,mac:h})},a=function(c,u){c=ut.convertToJWK(c,!1);var f;return f=te.subtleCrypto.importKey("jwk",c,n,!0,["sign"]),f=f.then(function(l){return te.subtleCrypto.sign(n,l,u)}),f=f.then(function(l){var p=Buffer.from(l);return{data:u,mac:p}}),f},o,s="RSA-"+t.replace("-","");return C1()&&(o=function(c,u){var f=te.nodeCrypto.createSign(s);f.update(u);var l=f.sign({key:ut.convertToPem(c,!1),padding:te.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:te.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST});return{data:u,mac:l}}),te.setupFallback(o,a,i)}function MO(e){var r=e.replace("PS","SHA").toLowerCase(),t=e.replace("PS","SHA-"),n={name:"RSA-PSS",hash:{name:t},saltLength:so.HASHLENGTH[t]/8},i=function(s,c,u){var f=st.md[r].create();f.start(),f.update(c),f=f.digest().bytes();var l=st.pss.create({md:st.md[r].create(),mgf:st.mgf.mgf1.create(st.md[r].create()),saltLength:so.HASHLENGTH[t]/8}),p=ut.convertToForge(s,!0),h=u.toString("binary"),v=p.verify(f,h,l);return v?Promise.resolve({data:c,mac:u,valid:!0}):Promise.reject(new Error("verification failed"))},a=function(s,c,u){s=ut.convertToJWK(s,!0);var f;return f=te.subtleCrypto.importKey("jwk",s,n,!0,["verify"]),f=f.then(function(l){return te.subtleCrypto.verify(n,l,u,c)}),f=f.then(function(l){return l?{data:c,mac:u,valid:!0}:Promise.reject(new Error("verification failed"))}),f},o;return C1()&&(o=function(s,c,u){var f=te.nodeCrypto.createVerify(r);f.update(c),f.end();var l=f.verify({key:ut.convertToPem(s,!0),padding:te.nodeCrypto.constants.RSA_PKCS1_PSS_PADDING,saltLength:te.nodeCrypto.constants.RSA_PSS_SALTLEN_DIGEST},u);return l?{data:c,mac:u,valid:!0}:Promise.reject(new Error("verification failed"))}),te.setupFallback(o,a,i)}var zu={};["PS256","PS384","PS512"].forEach(function(e){zu[e]={sign:KO(e),verify:MO(e)}});["RS256","RS384","RS512"].forEach(function(e){zu[e]={sign:LO(e),verify:UO(e)}});B1.exports=zu});var uo=d(Sr=>{"use strict";var HO=[cm(),Rm(),Qa(),ku(),jm(),c1(),d1(),Mu(),Ha(),E1(),S1(),T1(),pi()],I1={},P1={},q1={},k1={},N1={},O1={};HO.forEach(function(e){Object.keys(e).forEach(function(r){var t=e[r];typeof t.encrypt=="function"&&(N1[r]=t.encrypt),typeof t.decrypt=="function"&&(O1[r]=t.decrypt),typeof t.sign=="function"&&(q1[r]=t.sign),typeof t.verify=="function"&&(k1[r]=t.verify),typeof t.digest=="function"&&(I1[r]=t.digest),typeof t.derive=="function"&&(P1[r]=t.derive)})});Sr.digest=function(e,r,t){var n=I1[e];return n?n(r,t):Promise.reject(new Error("unsupported algorithm: "+e))};Sr.derive=function(e,r,t){var n=P1[e];return n?n(r,t):Promise.reject(new Error("unsupported algorithm: "+e))};Sr.sign=function(e,r,t,n){var i=q1[e];return i?i(r,t,n||{}):Promise.reject(new Error("unsupported algorithm: "+e))};Sr.verify=function(e,r,t,n,i){var a=k1[e];return a?a(r,t,n,i||{}):Promise.reject(new Error("unsupported algorithm: "+e))};Sr.encrypt=function(e,r,t,n){var i=N1[e];return i?i(r,t,n||{}):Promise.reject(new Error("unsupported algorithm: "+e))};Sr.decrypt=function(e,r,t,n){var i=O1[e];return i?i(r,t,n||{}):Promise.reject(new Error("unsupported algorithm: "+e))}});var Vu=d((oj,R1)=>{"use strict";R1.exports={MODE_SIGN:"sign",MODE_VERIFY:"verify",MODE_ENCRYPT:"encrypt",MODE_DECRYPT:"decrypt",MODE_WRAP:"wrap",MODE_UNWRAP:"unwrap"}});var bn=d((sj,U1)=>{"use strict";var jO=xt(),Wu=Ae(),O=he(),GO=uo(),zO={name:"PrivateKeyInfo",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.INTEGER,constructed:!1,capture:"keyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"PrivateKeyInfo",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.OCTETSTRING,constructed:!1,capture:"keyValue"}]},L1={name:"SubjectPublicKeyInfo",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.BITSTRING,constructed:!1,capture:"keyValue"}]},VO={name:"Certificate",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:O.asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:O.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},L1,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:O.asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:O.asn1.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:O.asn1.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:O.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:O.asn1.Class.UNIVERSAL,type:O.asn1.Type.BITSTRING,constructed:!1,capture:"certSignature"}]},D1={THUMBPRINT_KEY:"internal\0thumbprint",THUMBPRINT_HASH:"SHA-256"};U1.exports={validators:{privateKey:zO,publicKey:L1,certificate:VO},thumbprint:function(e,r,t){if(typeof e.thumbprint!="function")return Promise.reject(new Error("thumbprint not supported"));t=(t||D1.THUMBPRINT_HASH).toUpperCase();var n=e.thumbprint(r),i=Object.keys(n).sort().map(function(a){var o=n[a];return Buffer.isBuffer(o)&&(o=Wu.base64url.encode(o)),JSON.stringify(a)+":"+JSON.stringify(o)});i="{"+i.join(",")+"}";try{return GO.digest(t,Buffer.from(i,"utf8"))}catch(a){return Promise.reject(a)}},unpackProps:function(e,r){var t;r.forEach(function(i){if(i.name in e){t=t||{};var a=e[i.name];switch(i.type){case"binary":Buffer.isBuffer(a)?e[i.name]=Wu.base64url.encode(a):a=Wu.base64url.decode(a);break;case"string":case"number":case"boolean":break;case"array":a=[].concat(a);break;case"object":a=jO(a);break;default:break}t[i.name]=a}});var n=t||{};return Object.keys(e).forEach(function(i){i in n||delete e[i]}),t},COMMON_PROPS:[{name:"kty",type:"string"},{name:"kid",type:"string"},{name:"use",type:"string"},{name:"alg",type:"string"},{name:"x5c",type:"array"},{name:"x5t",type:"binary"},{name:"x5u",type:"string"},{name:"key_ops",type:"array"}],INTERNALS:D1}});var mi=d((uj,M1)=>{"use strict";var ar=Mt(),{v4:WO}=bv(),JO=hu(),Gt=xt(),ZO=pu(),YO=Vv(),Ju=Eu(),XO=wu(),QO=xu(),Fn=uo(),ct=Vu(),xn=bn(),K1=Ae(),$O=function(e,r,t,n){if(!e)throw new Error("kty cannot be null");if(!r)throw new Error("keystore cannot be null");if(t)typeof t=="string"&&(t=JSON.parse(t));else throw new Error("props cannot be null");if(!n)throw new Error("cfg cannot be null");var i=[],a={},o={},s,c;t=Gt(t),s=JO({},t[xn.INTERNALS.THUMBPRINT_KEY]||{}),delete t[xn.INTERNALS.THUMBPRINT_KEY],Object.keys(s).forEach(function(l){var p=s[l];c||(c=p,Buffer.isBuffer(c)&&(c=K1.base64url.encode(c))),Buffer.isBuffer(p)||(p=K1.base64url.decode(p),s[l]=p)}),t.kty=e,t.kid=t.kid||c||WO();var u=Object.keys(xn.COMMON_PROPS).map(function(l){return xn.COMMON_PROPS[l].name});o.base=XO(t,u),i=i.concat(Object.keys(o.base)),o.public=Gt(t),a.public=n.publicKey(o.public),a.public&&(i=i.concat(Object.keys(o.public))),o.private=Gt(t),a.private=n.privateKey(o.private),a.private&&(i=i.concat(Object.keys(o.private))),o.extra=Ju(t,i);var f;a.public&&"length"in a.public?f=a.public.length:a.private&&"length"in a.private?f=a.private.length:f=NaN,Object.defineProperty(this,"keystore",{value:r,enumerable:!0}),Object.defineProperty(this,"length",{value:f,enumerable:!0}),Object.defineProperty(this,"kty",{value:e,enumerable:!0}),Object.defineProperty(this,"kid",{value:o.base.kid,enumerable:!0}),Object.defineProperty(this,"use",{value:o.base.use||"",enumerable:!0}),Object.defineProperty(this,"alg",{value:o.base.alg||"",enumerable:!0}),Object.defineProperty(this,"thumbprint",{value:function(l){if(l=(l||xn.INTERNALS.THUMBPRINT_HASH).toUpperCase(),s[l])return Promise.resolve(s[l]);var p=xn.thumbprint(n,o,l);return p=p.then(function(h){return h&&(s[l]=h),h}),p}}),Object.defineProperty(this,"algorithms",{value:function(l){var p=[];(!this.use||this.use==="sig")&&((!l||ct.MODE_SIGN===l)&&p.push(ct.MODE_SIGN),(!l||ct.MODE_VERIFY===l)&&p.push(ct.MODE_VERIFY)),(!this.use||this.use==="enc")&&((!l||ct.MODE_ENCRYPT===l)&&p.push(ct.MODE_ENCRYPT),(!l||ct.MODE_DECRYPT===l)&&p.push(ct.MODE_DECRYPT),(!l||ct.MODE_WRAP===l)&&p.push(ct.MODE_WRAP),(!l||ct.MODE_UNWRAP===l)&&p.push(ct.MODE_UNWRAP));var h=this,v=p.map(function(y){return n.algorithms.call(h,a,y)});if(v=ZO(v),v=QO(v),this.alg){var m;e==="oct"?m=[this.alg,"dir"]:m=[this.alg],v=YO(v,m)}return v}}),Object.defineProperty(this,"supports",{value:function(l,p){return this.algorithms(p).indexOf(l)!==-1}}),Object.defineProperty(this,"has",{value:function(l,p){var h=!1;return h=h||!!(o.base&&l in o.base),h=h||!!(a.public&&l in a.public),h=h||!!(o.extra&&l in o.extra),h=h||!!(p&&a.private&&l in a.private),h}}),Object.defineProperty(this,"get",{value:function(l,p){var h;return o.base&&l in o.base?h=o.base:a.public&&l in a.public?h=a.public:o.extra&&l in o.extra?h=o.extra:p&&a.private&&l in a.private&&(h=a.private),h&&h[l]||null}}),Object.defineProperty(this,"toJSON",{value:function(l,p){Array.isArray(l)&&(p=l,l=!1);var h={};return h=ar(h,o.base,o.public,typeof l=="boolean"&&l?o.private:{},o.extra),h=Ju(h,p||[]),h}}),Object.defineProperty(this,"toPEM",{value:function(l){if(l===null&&(l=!1),!n.convertToPEM)throw new Error("Unsupported key type for PEM encoding");var p=l?a.private:a.public;if(!p)throw new Error("Invalid key");return n.convertToPEM.call(this,p,l)}}),Object.defineProperty(this,"toObject",{value:function(l,p){Array.isArray(l)&&(p=l,l=!1);var h={};return h=ar(h,o.base,a.public,typeof l=="boolean"&&l?a.private:{},o.extra),h=Ju(h,(p||[]).concat("length")),h}}),Object.defineProperty(this,"sign",{value:function(l,p,h){if(this.algorithms("sign").indexOf(l)===-1)return Promise.reject(new Error("unsupported algorithm"));var v=n.signKey.call(this,l,a);return v?(h=h?Gt(h):{},n.signProps&&(h=ar(h,n.signProps.call(this,l,h))),Fn.sign(l,v,p,h)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"verify",{value:function(l,p,h,v){if(this.algorithms("verify").indexOf(l)===-1)return Promise.reject(new Error("unsupported algorithm"));var m=n.verifyKey.call(this,l,a);return m?(v=v?Gt(v):{},n.verifyProps&&(v=ar(v,n.verifyProps.call(this,l,v))),Fn.verify(l,m,p,h,v)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"encrypt",{value:function(l,p,h){if(this.algorithms("encrypt").indexOf(l)===-1)return Promise.reject(new Error("unsupported algorithm"));var v=n.encryptKey.call(this,l,a);return v?(h=h?Gt(h):{},n.encryptProps&&(h=ar(h,n.encryptProps.call(this,l,h))),Fn.encrypt(l,v,p,h)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"decrypt",{value:function(l,p,h){if(this.algorithms("decrypt").indexOf(l)===-1)return Promise.reject(new Error("unsupported algorithm"));var v=n.decryptKey.call(this,l,a);return v?(h=h?Gt(h):{},n.decryptProps&&(h=ar(h,n.decryptProps.call(this,l,h))),Fn.decrypt(l,v,p,h)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"wrap",{value:function(l,p,h){if(this.algorithms("wrap").indexOf(l)===-1)return Promise.reject(new Error("unsupported algorithm"));var v=n.wrapKey.call(this,l,a);return v?(h=h?Gt(h):{},n.wrapProps&&(h=ar(h,n.wrapProps.call(this,l,h))),Fn.encrypt(l,v,p,h)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"unwrap",{value:function(l,p,h){if(this.algorithms("unwrap").indexOf(l)===-1)return Promise.reject(new Error("unsupported algorithm"));var v=n.unwrapKey.call(this,l,a);return v?(h=h?Gt(h):{},n.unwrapProps&&(h=ar(h,n.unwrapProps.call(this,l,h))),Fn.decrypt(l,v,p,h)):Promise.reject(new Error("improper key"))}})};M1.exports=$O});var _i=d((cj,G1)=>{"use strict";var H1=xt(),eR=Mt(),It=he(),tR=Ae(),co={BaseKey:mi(),helpers:bn()},j1=function(){var e={};Object.defineProperty(this,"register",{value:function(r){if(!r||typeof r.kty!="string"||!r.kty)throw new Error("invalid Key factory");var t=r.kty;return e[t]=r,this}}),Object.defineProperty(this,"unregister",{value:function(r){if(!r||typeof r.kty!="string"||!r.kty)throw new Error("invalid Key factory");var t=r.kty;return r===e[t]&&delete e[t],this}}),Object.defineProperty(this,"get",{value:function(r){return e[r||""]||void 0}}),Object.defineProperty(this,"all",{value:function(){return Object.keys(e).map(function(r){return e[r]})}})},Zu=new j1;function rR(e){return["certIssuer","certSubject"].forEach(function(r){var t=It.pki.RDNAttributesAsArray(e[r]),n=e[r]={};t.forEach(function(i){n[i.name||i.type]=i.value})}),e}function nR(e){var r={},t=It.pem.decode(e),n=t.some(function(i){switch(i.type){case"CERTIFICATE":r.form="pkix";break;case"PUBLIC KEY":r.form="spki";break;case"PRIVATE KEY":r.form="pkcs8";break;case"EC PRIVATE KEY":case"RSA PRIVATE KEY":r.form="private";break;default:return!1}return r.body=i.body,!0});if(!n)throw new Error("supported PEM type not found");return r}function iR(e,r){var t={},n=[],i,a=r.form,o=r.body,s=null;switch(r=It.asn1.fromDer(o),a){case"private":e.all().some(function(u){if(i||!u.validators)return!1;var f=u.validators.oid,l=u.validators.privateKey;return l?(t={},n=[],i=It.asn1.validate(r,l,t,n),i&&(t.keyOid=It.asn1.oidToDer(f),t.parsed=!0),i):!1}),t.type="private";break;case"pkcs8":i=It.asn1.validate(r,co.helpers.validators.privateKey,t,n),t.type="private";break;case"public":case"spki":i=It.asn1.validate(r,co.helpers.validators.publicKey,t,n),t.type="public";break;case"pkix":case"x509":if(i=It.asn1.validate(r,co.helpers.validators.certificate,t,n),i){t=rR(t);var c=It.md.sha1.create();c.update(o),s=tR.base64url.encode(Buffer.from(c.digest().toHex(),"hex"))}t.type="public";break}return i?(t.keyOid&&(t.keyOid=It.asn1.derToOid(t.keyOid)),i=null,Zu.all().forEach(function(u){i||u&&typeof u.import=="function"&&(i=u.import(t))}),i&&t.certSubject&&t.certSubject.commonName&&(i.kid=t.certSubject.commonName),i&&s&&(i.x5t=s),i):null}var Pe=function(e,r){var t={};Object.defineProperty(this,"generate",{value:function(n,i,a){var o=e.get(n);if(!o)return Promise.reject(new Error("unsupported key type"));a=H1(a||{}),a.kty=n;var s=this,c=o.generate(i);return c.then(function(u){return u=eR(a,u,{kty:n}),s.add(u)})}}),Object.defineProperty(this,"add",{value:function(n,i,a){a=a||{};var o;if(Buffer.isBuffer(n)||typeof n=="string")if(i=(i||"json").toLowerCase(),i==="json")n=JSON.parse(n.toString("utf8"));else try{if(i==="pem"?o=nR(n):o={body:n.toString("binary"),form:i},n=iR(e,o),!n)throw new Error("no importer for key");Object.keys(a).forEach(function(f){n[f]=a[f]})}catch(f){return Promise.reject(f)}else Pe.isKey(n)?n=n.toJSON(!0):n=H1(n);var s=e.get(n.kty);if(!s)return Promise.reject(new Error("unsupported key type"));var c=this,u=s.prepare(n);return u.then(function(f){return new co.BaseKey(n.kty,c,n,f)}).then(function(f){var l=f.kid||"",p=t[l]=t[l]||[];return p.push(f),f})}}),Object.defineProperty(this,"remove",{value:function(n){if(n){var i=t[n.kid];if(i){var a=i.indexOf(n);a!==-1&&(i.splice(a,1),i.length||delete t[n.kid])}}}}),Object.defineProperty(this,"all",{value:function(n,i){n=n||{},n.kid!==void 0&&n.kid!==null&&typeof n.kid!="string"&&(n.kid=String(n.kid));var a=[],o=function(s){return n.kty&&s.kty&&n.kty!==s.kty||n.use&&s.use&&n.use!==s.use?!1:n.alg?n.alg!=="dir"&&s.alg&&n.alg!==s.alg?!1:s.supports(n.alg):!0};return Object.keys(t).forEach(function(s){if(!(n.kid&&n.kid!==s)){var c=t[s].filter(o);c.length&&(a=a.concat(c))}}),!i&&r&&(a=a.concat(r.all(n))),a}}),Object.defineProperty(this,"get",{value:function(n,i,a){typeof n=="boolean"?(a=n,i=n=null):typeof n=="object"&&(a=i,i=n,n=null),i=i||{},n&&(i.kid=n),i.kid!==void 0&&i.kid!==null&&typeof i.kid!="string"&&(i.kid=String(i.kid));var o=this.all(i,!0);return!o.length&&r&&!a&&(o=r.get(i,a)),o[0]||null}}),Object.defineProperty(this,"temp",{value:function(){return new Pe(e,this)}}),Object.defineProperty(this,"toJSON",{value:function(n){var i=[];return Object.keys(t).forEach(function(a){var o=t[a].map(function(s){return s.toJSON(n)});i=i.concat(o)}),{keys:i}}})};Pe.isKeyStore=function(e){return!(!e||typeof e!="object"||typeof e.get!="function"||typeof e.all!="function"||typeof e.generate!="function"||typeof e.add!="function"||typeof e.remove!="function")};Pe.createKeyStore=function(){return new Pe(Zu)};Pe.asKeyStore=function(e){if(Pe.isKeyStore(e))return Promise.resolve(e);var r=Pe.createKeyStore(),t;if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e))t=e;else if("keys"in e)t=e.keys;else return Promise.reject(new Error("invalid keystore"));t=t.map(function(i){return r.add(i)});var n=Promise.all(t);return n=n.then(function(){return r}),n};Pe.isKey=function(e){return!(!e||typeof e!="object"||!Pe.isKeyStore(e.keystore)||typeof e.kty!="string"||typeof e.length!="number"||typeof e.algorithms!="function"||typeof e.supports!="function"||typeof e.encrypt!="function"||typeof e.decrypt!="function"||typeof e.wrap!="function"||typeof e.unwrap!="function"||typeof e.sign!="function"||typeof e.verify!="function")};Pe.createKey=function(e,r,t){var n=Pe.createKeyStore();return n.generate(e,r,t)};Pe.asKey=function(e,r,t){if(Pe.isKey(e))return Promise.resolve(e);var n=Pe.createKeyStore();return e=n.add(e,r,t),e};G1.exports={KeyRegistry:j1,KeyStore:Pe,registry:Zu}});var Y1=d((fj,Z1)=>{"use strict";var Ei=Ae(),Cr={BaseKey:mi(),helpers:bn()},aR=["HS256","HS384","HS512"],oR=["A128GCM","A192GCM","A256GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"],sR=["A128KW","A192KW","A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW","dir"];function z1(e,r){return"iv"in r&&(r.iv=Buffer.isBuffer(r.iv)?r.iv:Ei.base64url.decode(r.iv||"")),"adata"in r&&(r.adata=Buffer.isBuffer(r.adata)?r.adata:Buffer.from(r.adata||"","utf8")),"mac"in r&&(r.mac=Buffer.isBuffer(r.mac)?r.mac:Ei.base64url.decode(r.mac||"")),"tag"in r&&(r.tag=Buffer.isBuffer(r.tag)?r.tag:Ei.base64url.decode(r.tag||"")),r}function V1(e,r){return"iv"in r&&(r.iv=Buffer.isBuffer(r.iv)?r.iv:Ei.base64url.decode(r.iv||"")),"adata"in r&&(r.adata=Buffer.isBuffer(r.adata)?r.adata:Buffer.from(r.adata||"","utf8")),r}var W1={publicKey:function(e){var r=Cr.helpers.COMMON_PROPS.concat([]),t;return t=Cr.helpers.unpackProps(e,r),t},privateKey:function(e){var r=Cr.helpers.COMMON_PROPS.concat([{name:"k",type:"binary"}]),t;return t=Cr.helpers.unpackProps(e,r),t&&t.k?t.length=t.k.length*8:t=void 0,t},thumbprint:function(e){e.private&&(e=e.private);var r;return r={k:e.k||"",kty:"oct"},r},algorithms:function(e,r){var t=e.private&&e.private.k.length*8,n=[256,384,512];if(!t)return[];switch(r){case"encrypt":case"decrypt":return oR.filter(function(i){return i==="A"+t/2+"CBC-HS"+t||i==="A"+t/2+"CBC+HS"+t||i==="A"+t+"GCM"});case"sign":case"verify":return aR.filter(function(i){var a=!1;return n.forEach(function(o){o>t||(a=a|i==="HS"+o)}),a});case"wrap":case"unwrap":return sR.filter(function(i){return i==="A"+t+"KW"||i==="A"+t+"GCMKW"||i.indexOf("PBES2-")===0||i==="dir"})}return[]},encryptKey:function(e,r){return r.private&&r.private.k},encryptProps:V1,decryptKey:function(e,r){return r.private&&r.private.k},decryptProps:z1,wrapKey:function(e,r){return r.private&&r.private.k},wrapProps:V1,unwrapKey:function(e,r){return r.private&&r.private.k},unwrapProps:z1,signKey:function(e,r){return r.private&&r.private.k},verifyKey:function(e,r){return r.private&&r.private.k}},J1={kty:"oct",prepare:function(e){var r=W1,t=Promise.resolve(e);return t=t.then(function(n){return Cr.helpers.thumbprint(r,n)}),t=t.then(function(n){var i={};return i[Cr.helpers.INTERNALS.THUMBPRINT_HASH]=n,e[Cr.helpers.INTERNALS.THUMBPRINT_KEY]=i,r}),t},generate:function(e){var r=Ei.randomBytes(e/8);return Promise.resolve({k:r})}};Z1.exports=Object.freeze({config:W1,factory:J1});(function(e){e.register(J1)})(_i().registry)});var r_=d((lj,t_)=>{"use strict";var Y=he(),uR=ao(),cR=tt().nodeCrypto,Br={BaseKey:mi(),helpers:bn()},X1=["RS256","RS384","RS512","PS256","PS384","PS512"],Q1=["RSA-OAEP","RSA-OAEP-256","RSA1_5"],$1={publicKey:function(e){var r=Br.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"}]),t;return t=Br.helpers.unpackProps(e,r),t&&t.n&&t.e?t.length=t.n.length*8:(delete t.e,delete t.n),t},privateKey:function(e){var r=Br.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"},{name:"d",type:"binary"},{name:"p",type:"binary"},{name:"q",type:"binary"},{name:"dp",type:"binary"},{name:"dq",type:"binary"},{name:"qi",type:"binary"}]),t;return t=Br.helpers.unpackProps(e,r),t&&t.d&&t.n&&t.e&&t.p&&t.q&&t.dp&&t.dq&&t.qi?t.length=t.d.length*8:t=void 0,t},thumbprint:function(e){e.public&&(e=e.public);var r={e:e.e,kty:"RSA",n:e.n};return r},algorithms:function(e,r){switch(r){case"encrypt":case"decrypt":return[];case"wrap":return e.public&&Q1.slice()||[];case"unwrap":return e.private&&Q1.slice()||[];case"sign":return e.private&&X1.slice()||[];case"verify":return e.public&&X1.slice()||[]}return[]},wrapKey:function(e,r){return r.public},unwrapKey:function(e,r){return r.private},signKey:function(e,r){return r.private},verifyKey:function(e,r){return r.public},convertToPEM:function(e,r){var t=uR.convertToForge(e,!r);return r?Y.pki.privateKeyToPem(t):Y.pki.publicKeyToPem(t)}};function fR(e){return e=e.toString(16),e.length%2&&(e="0"+e),Buffer.from(e,"hex")}var fo={oid:"1.2.840.113549.1.1.1",privateKey:{name:"RSAPrivateKey",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"RSAPrivateKey.modulus",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPrivateKey.publicExponent",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"e"},{name:"RSAPrivateKey.privateExponent",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"d"},{name:"RSAPrivateKey.prime1",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"p"},{name:"RSAPrivateKey.prime2",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"q"},{name:"RSAPrivateKey.exponent1",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"dp"},{name:"RSAPrivateKey.exponent2",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"dq"},{name:"RSAPrivateKey.coefficient",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"qi"}]},publicKey:{name:"RSAPublicKey",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPublicKey.exponent",tagClass:Y.asn1.Class.UNIVERSAL,type:Y.asn1.Type.INTEGER,constructed:!1,capture:"e"}]}},e_={kty:"RSA",validators:fo,prepare:function(e){var r=$1,t=Promise.resolve(e);return t=t.then(function(n){return Br.helpers.thumbprint(r,n)}),t=t.then(function(n){var i={};return i[Br.helpers.INTERNALS.THUMBPRINT_HASH]=n,e[Br.helpers.INTERNALS.THUMBPRINT_KEY]=i,r}),t},generate:function(e){var r;if(cR)r=new Promise(function(n,i){Y.pki.rsa.generateKeyPair({bits:e,e:65537},function(a,o){if(a)return i(a);n(o.privateKey)})});else{var t=Y.pki.rsa.generateKeyPair({bits:e,e:65537});r=Promise.resolve(t.privateKey)}return r.then(function(n){var i={};return["e","n","d","p","q",{incoming:"dP",outgoing:"dp"},{incoming:"dQ",outgoing:"dq"},{incoming:"qInv",outgoing:"qi"}].forEach(function(a){var o,s;typeof a=="string"?o=s=a:(o=a.incoming,s=a.outgoing),o in n&&(i[s]=fR(n[o]))}),i})},import:function(e){if(fo.oid!==e.keyOid)return null;if(!e.parsed){typeof e.keyValue=="string"?e.keyValue=Y.asn1.fromDer(e.keyValue):Array.isArray(e.keyValue)&&(e.keyValue=e.keyValue[0]);var r=e.type==="private"?fo.privateKey:fo.publicKey,t={},n=[];if(!Y.asn1.validate(e.keyValue,r,t,n))return null;e=t}var i={kty:"RSA"};return["n","e","d","p","q","dp","dq","qi"].forEach(function(a){if(a in e){var o=Buffer.from(e[a],"binary");o[0]===0&&(o=o.slice(1)),i[a]=o}}),i}};t_.exports=Object.freeze({config:$1,factory:e_});(function(e){e.register(e_)})(_i().registry)});var u_=d((hj,s_)=>{"use strict";var lo=no(),ne=he(),lR=Uu(),Tr={BaseKey:mi(),helpers:bn()},n_=["ES256","ES384","ES512"],i_=["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"],hR=lo.EC_OID;function a_(e){switch(e){case"1.2.840.10045.3.1.7":return"P-256";case"1.3.132.0.34":return"P-384";case"1.3.132.0.35":return"P-521";default:return null}}var Xu={publicKey:function(e){var r=Tr.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"}]),t=Tr.helpers.unpackProps(e,r);return t&&t.crv&&t.x&&t.y?t.length=lo.curveSize(t.crv):(delete t.crv,delete t.x,delete t.y),t},privateKey:function(e){var r=Tr.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"},{name:"d",type:"binary"}]),t=Tr.helpers.unpackProps(e,r);return t&&t.crv&&t.x&&t.y&&t.d?t.length=lo.curveSize(t.crv):t=void 0,t},thumbprint:function(e){e.public&&(e=e.public);var r={crv:e.crv,kty:"EC",x:e.x,y:e.y};return r},algorithms:function(e,r){var t=e.public&&e.public.length||e.private&&e.private.length||0;switch(t===521&&(t=512),r){case"encrypt":case"decrypt":return[];case"wrap":return e.public&&i_||[];case"unwrap":return e.private&&i_||[];case"sign":return e.private?n_.filter(function(n){return n==="ES"+t}):[];case"verify":return e.public?n_.filter(function(n){return n==="ES"+t}):[]}},encryptKey:function(e,r){return r.public},decryptKey:function(e,r){return r.private},wrapKey:function(e,r){return r.public},unwrapKey:function(e,r){return r.private},signKey:function(e,r){return r.private},verifyKey:function(e,r){return r.public}};Xu.convertToPEM=lo.convertToPEM;var Yu={oid:hR,privateKey:{name:"ECPrivateKey",tagClass:ne.asn1.Class.UNIVERSAL,type:ne.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:ne.asn1.Class.UNIVERSAL,type:ne.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:ne.asn1.Class.UNIVERSAL,type:ne.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{tagClass:ne.asn1.Class.CONTEXT_SPECIFIC,name:"ECPrivateKey.parameters",constructed:!0,value:[{name:"ECPrivateKey.namedCurve",tagClass:ne.asn1.Class.UNIVERSAL,type:ne.asn1.Type.OID,constructed:!1,capture:"crv"}]},{name:"ECPrivateKey.publicKey",tagClass:ne.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:ne.asn1.Class.UNIVERSAL,type:ne.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]},embeddedPrivateKey:{name:"ECPrivateKey",tagClass:ne.asn1.Class.UNIVERSAL,type:ne.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:ne.asn1.Class.UNIVERSAL,type:ne.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:ne.asn1.Class.UNIVERSAL,type:ne.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{name:"ECPrivateKey.publicKey",tagClass:ne.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:ne.asn1.Class.UNIVERSAL,type:ne.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]}},o_={kty:"EC",validators:Yu,prepare:function(e){var r=Xu,t=Promise.resolve(e);return t=t.then(function(n){return Tr.helpers.thumbprint(r,n)}),t=t.then(function(n){var i={};return i[Tr.helpers.INTERNALS.THUMBPRINT_HASH]=n,e[Tr.helpers.INTERNALS.THUMBPRINT_KEY]=i,r}),t},generate:function(e){var r=lR.generateKeyPair(e),t={crv:e,x:r.public.x,y:r.public.y,d:r.private.d};return Promise.resolve(t)},import:function(e){if(Yu.oid!==e.keyOid)return null;var r;if(e.keyParams&&ne.asn1.Type.OID===e.keyParams.type?(r=ne.asn1.derToOid(e.keyParams.value),r=a_(r)):e.crv&&(r=ne.asn1.derToOid(e.crv),r=a_(r)),!r)return null;if(!e.parsed){var t={},n=[];if(e.type==="private"){if(typeof e.keyValue=="string"?e.keyValue=ne.asn1.fromDer(e.keyValue):Array.isArray(e.keyValue)&&(e.keyValue=e.keyValue[0]),!ne.asn1.validate(e.keyValue,Yu.embeddedPrivateKey,t,n))return null}else t.point=e.keyValue;e=t}var i={kty:"EC",crv:r};if(e.d&&(i.d=Buffer.from(e.d,"binary")),e.point){var a=Buffer.from(e.point,"binary");if(a.readUInt16BE(0)!==4)return null;a=a.slice(2);var o=a.length/2;i.x=a.slice(0,o),i.y=a.slice(o)}return i}};s_.exports=Object.freeze({config:Xu,factory:o_});(function(e){e.register(o_)})(_i().registry)});var Ir=d(Qu=>{"use strict";var c_=_i();Object.keys(c_.KeyStore).forEach(function(e){Qu[e]=c_.KeyStore[e]});var f_=Vu();Object.keys(f_).forEach(function(e){Qu[e]=f_[e]});Y1();r_();u_()});var h_=d((dj,l_)=>{"use strict";l_.exports={slice:function(e,r){return Array.prototype.slice.call(e,r||0)}}});var d_=d((gj,p_)=>{"use strict";var pR={compact:!1,protect:"*"};p_.exports=pR});var y_=d((vj,v_)=>{"use strict";var $u=Mt(),ho=Ae(),wi=Ir(),dR=h_().slice,ec=xt(),gR=xu(),vR=d_(),g_=function(e,r){var t=!1,n=e.format||"general",i=Buffer.alloc(0);Object.defineProperty(this,"compact",{get:function(){return n==="compact"},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return n},enumerable:!0}),Object.defineProperty(this,"update",{value:function(a,o){if(t)throw new Error("already final");return a!=null&&(a=ho.asBuffer(a,o),i.length?i=Buffer.concat([i,a],i.length+a.length):i=a),this}}),Object.defineProperty(this,"final",{value:function(a,o){if(t)return Promise.reject(new Error("already final"));this.update(a,o),t=!0;var s;switch(s=Promise.all(r),s=s.then(function(c){return i=ho.base64url.encode(i),c=c.map(function(u){var f={},l=0,p=ec(u.header),h=Object.keys(p).length;u.protected.forEach(function(m){m in p&&(f[m]=p[m],l++,delete p[m],h--)}),l>0?(f=JSON.stringify(f),f=ho.base64url.encode(f)):f="";var v=Buffer.from(f+"."+i,"ascii");return u=u.key.sign(u.header.alg,v,u.header),u=u.then(function(m){var y={};return 0<l&&(y.protected=f),0<h&&(y.header=p),y.signature=ho.base64url.encode(m.mac),y}),u}),c=[Promise.resolve(i)].concat(c),Promise.all(c)}),s=s.then(function(c){var u=c[0];return{payload:u,signatures:c.slice(1)}}),n){case"compact":s=s.then(function(c){var u=[c.signatures[0].protected,c.payload,c.signatures[0].signature];return u=u.join("."),u});break;case"flattened":s=s.then(function(c){var u={};u.payload=c.payload;var f=c.signatures[0];return f.protected&&(u.protected=f.protected),f.header&&(u.header=f.header),u.signature=f.signature,u});break}return s}})};function yR(e,r){var t=e,n=1,i=r;if(arguments.length===0)throw new Error("at least one signatory must be provided");arguments.length===1?(i=e,n=0,t={}):wi.isKey(e)||e&&"kty"in e||e&&"key"in e&&(wi.isKey(e.key)||"kty"in e.key)?(i=e,n=0,t={}):t=ec(e),Array.isArray(i)||(i=dR(arguments,n)),t=$u(ec(vR),t);var a=t.fields||{},o=t.format;if(o||(o=t.compact?"compact":"general"),(o==="compact"||o==="flattened")&&1<i.length)throw new Error("too many signatories for compact or flattened JSON serialization");var s=t.protect==="*";t.compact&&(s=!0),i=i.map(function(u,f){var l;return u&&"kty"in u?(l=wi.asKey(u),l=l.then(function(p){return{key:p}})):u?(l=wi.asKey(u.key),l=l.then(function(p){return{header:u.header,reference:u.reference,protect:u.protect,key:p}})):l=Promise.reject(new Error("missing key for signatory "+f)),l=l.then(function(p){var h=p.key,v=p.header||{};v=$u($u({},a),v),p.header=v,v.alg||(v.alg=h.algorithms(wi.MODE_SIGN)[0]||"");var m=p.reference;delete p.reference,m===void 0?(m=["kid","jku","x5c","x5t","x5u"].some(function(E){return E in v}),m=m?null:"kid"):typeof m=="boolean"&&(m=m?"kid":null);var y;if(m)if(y=h.toJSON(),m==="jwk"){if(h.kty==="oct")return Promise.reject(new Error("cannot embed key"));v.jwk=y}else m in y&&(v[m]=y[m]);var _=p.protect;if(s||_==="*")_=Object.keys(v);else if(_==="string")_=[_];else if(Array.isArray(_))_=_.concat();else if(!_)_=[];else return Promise.reject(new Error("protect must be a list of fields"));return _=gR(_),p.protected=_,p=Object.freeze(p),p}),l});var c={format:o};return new g_(c,i)}v_.exports={signer:g_,createSign:yR}});var tc=d((yj,__)=>{"use strict";function m_(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function mR(e,r,t){var n=[];return n.push("^"),e&&(e=m_(e),n.push(e)),r&&n.push(e||t?".*":".+"),t&&(t=m_(t),n.push(t)),n.push("$"),n.join("")}var _R=function(e){e?typeof e=="string"&&(e=e.split(" ")):e=[];var r=[],t=[],n=[],i=[],a=/^(!)?([^*]*)(\*?)([^*]*)$/,o;e.forEach(function(s){if(s){a.lastIndex=0;var c=a.exec(s);c&&(o="("+mR(c[2],c[3],c[4])+")",c[1]?(i.push(o),t.push(c[0])):(n.push(o),r.push(c[0])))}}),n=n.length?new RegExp(n.join("|")):null,i=i.length?new RegExp(i.join("|")):null,r.length||(r=["*"]),Object.defineProperty(this,"spec",{value:r.join(" ")+" "+t.join(" "),enumerable:!0}),Object.defineProperty(this,"match",{value:function(s){var c=!!s;return c&&n&&(n.lastIndex=0,c=n.test(s)),c&&i&&(i.lastIndex=0,c=!i.test(s)),c}})};__.exports=_R});var b_=d((mj,w_)=>{"use strict";var ER=xt(),po=Mt(),rc=ai(),wR=tc(),bi=Ir(),bR={algorithms:"*",allowEmbeddedKey:!1},E_=function(e,r){var t,n;bi.isKey(e)?(t=e,n=t.keystore):bi.isKeyStore(e)?n=e:n=bi.createKeyStore(),r=po(bR,r),Object.defineProperty(this,"defaultKey",{value:t||void 0,enumerable:!0}),Object.defineProperty(this,"keystore",{value:n,enumerable:!0}),Object.defineProperty(this,"verify",{value:function(i,a){a=po({},r,a||{});var o=a.handlers||{},s=Object.keys(o),c=new wR(a.algorithms);if(typeof i=="string")i=i.split("."),i={payload:i[1],signatures:[{protected:i[0],signature:i[2]}]};else if(!i||typeof i!="object")throw new Error("invalid input");i.signature&&(i.signatures=[{protected:i.protected||void 0,header:i.header||void 0,signature:i.signature}]);var u=i.signatures||[{}];u=u.map(function(l){var p=ER(l.header||{}),h=l.protected?JSON.parse(rc.decode(l.protected,"utf8")):{};p=po(p,h);var v=rc.decode(l.signature);if(!c.match(p.alg))return Promise.reject(new Error("Algorithm not allowed: "+p.alg));var m=h.crit;if(m){if(!Array.isArray(m))return Promise.reject(new Error("Invalid 'crit' header"));for(var y=0;m.length>y;y++)if(s.indexOf(m[y])===-1)return Promise.reject(new Error("Critical extension is not supported: "+m[y]))}return h=Object.keys(h),Promise.resolve({protected:h,aad:l.protected||"",header:p,signature:v})});var f=Promise.all(u);return f=f.then(function(l){return new Promise(function(p,h){var v=function(){var m=l.shift();if(!m){h(new Error("no key found"));return}m=po({},m,{payload:i.payload});var y=Promise.resolve(m);y=y.then(function(_){var E;return a.allowEmbeddedKey&&_.header.jwk?E=bi.asKey(_.header.jwk):a.allowEmbeddedKey&&_.header.x5c?(E=_.header.x5c[0],E=Buffer.from(E,"base64"),E=bi.asKey(E,"pkix")):E=Promise.resolve(t||n.get({use:"sig",alg:_.header.alg,kid:_.header.kid})),E.then(function(A){return A?(_.key=A,_):Promise.reject(new Error("key does not match"))})}),y=y.then(function(_){var E=[];return s.forEach(function(A){A=o[A];var w;typeof A=="function"?w=A(_):typeof A=="object"&&typeof A.prepare=="function"&&(w=A.prepare(_)),w&&E.push(Promise.resolve(w))}),Promise.all(E).then(function(){return _})}),y=y.then(function(_){var E=_.aad||"",A=_.payload||"",w=Buffer.alloc(1+E.length+A.length),T=0;return w.write(E,T,"ascii"),T+=E.length,w.write(".",T,"ascii"),T++,Buffer.isBuffer(A)?A.copy(w,T):w.write(A,T,"binary"),_.content=w,_}),y=y.then(function(_){return _.key.verify(_.header.alg,_.content,_.signature)}),y=y.then(function(_){var E=m.payload;return E=rc.decode(E),{protected:m.protected,header:m.header,payload:E,signature:_.mac,key:m.key}}),y=y.then(function(_){var E=[];return s.forEach(function(A){A=o[A];var w;typeof A=="object"&&typeof A.complete=="function"&&(w=A.complete(_)),w&&E.push(Promise.resolve(w))}),Promise.all(E).then(function(){return _})}),y.then(p,v)};v()})}),f}})};function FR(e,r){var t=new E_(e,r);return t}w_.exports={verifier:E_,createVerify:FR}});var go=d((_j,F_)=>{"use strict";var xR={createSign:y_().createSign,createVerify:b_().createVerify};F_.exports=xR});var nc=d((Ej,x_)=>{"use strict";var AR=St(),SR=Ir();x_.exports={slice:function(e,r){return Array.prototype.slice.call(e,r||0)},generateCEK:function(e){var r=SR.createKeyStore(),t=AR.KEYLENGTH[e];if(t)return r.generate("oct",t);throw new Error("unsupported encryption algorithm")}}});var z_=d((wj,Cn)=>{"use strict";function Sn(e){let r=e.length;for(;--r>=0;)e[r]=0}var CR=0,I_=1,BR=2,TR=3,IR=258,fc=29,Bi=256,xi=Bi+1+fc,An=30,lc=19,P_=2*xi+1,Pr=15,ic=16,PR=7,hc=256,q_=16,k_=17,N_=18,uc=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),vo=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),qR=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),O_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kR=512,zt=new Array((xi+2)*2);Sn(zt);var Fi=new Array(An*2);Sn(Fi);var Ai=new Array(kR);Sn(Ai);var Si=new Array(IR-TR+1);Sn(Si);var pc=new Array(fc);Sn(pc);var yo=new Array(An);Sn(yo);function ac(e,r,t,n,i){this.static_tree=e,this.extra_bits=r,this.extra_base=t,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}var R_,D_,L_;function oc(e,r){this.dyn_tree=e,this.max_code=0,this.stat_desc=r}var U_=e=>e<256?Ai[e]:Ai[256+(e>>>7)],Ci=(e,r)=>{e.pending_buf[e.pending++]=r&255,e.pending_buf[e.pending++]=r>>>8&255},He=(e,r,t)=>{e.bi_valid>ic-t?(e.bi_buf|=r<<e.bi_valid&65535,Ci(e,e.bi_buf),e.bi_buf=r>>ic-e.bi_valid,e.bi_valid+=t-ic):(e.bi_buf|=r<<e.bi_valid&65535,e.bi_valid+=t)},Pt=(e,r,t)=>{He(e,t[r*2],t[r*2+1])},K_=(e,r)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--r>0);return t>>>1},NR=e=>{e.bi_valid===16?(Ci(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},OR=(e,r)=>{let t=r.dyn_tree,n=r.max_code,i=r.stat_desc.static_tree,a=r.stat_desc.has_stree,o=r.stat_desc.extra_bits,s=r.stat_desc.extra_base,c=r.stat_desc.max_length,u,f,l,p,h,v,m=0;for(p=0;p<=Pr;p++)e.bl_count[p]=0;for(t[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<P_;u++)f=e.heap[u],p=t[t[f*2+1]*2+1]+1,p>c&&(p=c,m++),t[f*2+1]=p,!(f>n)&&(e.bl_count[p]++,h=0,f>=s&&(h=o[f-s]),v=t[f*2],e.opt_len+=v*(p+h),a&&(e.static_len+=v*(i[f*2+1]+h)));if(m!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(p=c;p!==0;p--)for(f=e.bl_count[p];f!==0;)l=e.heap[--u],!(l>n)&&(t[l*2+1]!==p&&(e.opt_len+=(p-t[l*2+1])*t[l*2],t[l*2+1]=p),f--)}},M_=(e,r,t)=>{let n=new Array(Pr+1),i=0,a,o;for(a=1;a<=Pr;a++)i=i+t[a-1]<<1,n[a]=i;for(o=0;o<=r;o++){let s=e[o*2+1];s!==0&&(e[o*2]=K_(n[s]++,s))}},RR=()=>{let e,r,t,n,i,a=new Array(Pr+1);for(t=0,n=0;n<fc-1;n++)for(pc[n]=t,e=0;e<1<<uc[n];e++)Si[t++]=n;for(Si[t-1]=n,i=0,n=0;n<16;n++)for(yo[n]=i,e=0;e<1<<vo[n];e++)Ai[i++]=n;for(i>>=7;n<An;n++)for(yo[n]=i<<7,e=0;e<1<<vo[n]-7;e++)Ai[256+i++]=n;for(r=0;r<=Pr;r++)a[r]=0;for(e=0;e<=143;)zt[e*2+1]=8,e++,a[8]++;for(;e<=255;)zt[e*2+1]=9,e++,a[9]++;for(;e<=279;)zt[e*2+1]=7,e++,a[7]++;for(;e<=287;)zt[e*2+1]=8,e++,a[8]++;for(M_(zt,xi+1,a),e=0;e<An;e++)Fi[e*2+1]=5,Fi[e*2]=K_(e,5);R_=new ac(zt,uc,Bi+1,xi,Pr),D_=new ac(Fi,vo,0,An,Pr),L_=new ac(new Array(0),qR,0,lc,PR)},H_=e=>{let r;for(r=0;r<xi;r++)e.dyn_ltree[r*2]=0;for(r=0;r<An;r++)e.dyn_dtree[r*2]=0;for(r=0;r<lc;r++)e.bl_tree[r*2]=0;e.dyn_ltree[hc*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},j_=e=>{e.bi_valid>8?Ci(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},A_=(e,r,t,n)=>{let i=r*2,a=t*2;return e[i]<e[a]||e[i]===e[a]&&n[r]<=n[t]},sc=(e,r,t)=>{let n=e.heap[t],i=t<<1;for(;i<=e.heap_len&&(i<e.heap_len&&A_(r,e.heap[i+1],e.heap[i],e.depth)&&i++,!A_(r,n,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=n},S_=(e,r,t)=>{let n,i,a=0,o,s;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+a++]&255,n+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],n===0?Pt(e,i,r):(o=Si[i],Pt(e,o+Bi+1,r),s=uc[o],s!==0&&(i-=pc[o],He(e,i,s)),n--,o=U_(n),Pt(e,o,t),s=vo[o],s!==0&&(n-=yo[o],He(e,n,s)));while(a<e.sym_next);Pt(e,hc,r)},cc=(e,r)=>{let t=r.dyn_tree,n=r.stat_desc.static_tree,i=r.stat_desc.has_stree,a=r.stat_desc.elems,o,s,c=-1,u;for(e.heap_len=0,e.heap_max=P_,o=0;o<a;o++)t[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,t[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(r.max_code=c,o=e.heap_len>>1;o>=1;o--)sc(e,t,o);u=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],sc(e,t,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,t[u*2]=t[o*2]+t[s*2],e.depth[u]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,t[o*2+1]=t[s*2+1]=u,e.heap[1]=u++,sc(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],OR(e,r),M_(t,c,e.bl_count)},C_=(e,r,t)=>{let n,i=-1,a,o=r[0*2+1],s=0,c=7,u=4;for(o===0&&(c=138,u=3),r[(t+1)*2+1]=65535,n=0;n<=t;n++)a=o,o=r[(n+1)*2+1],!(++s<c&&a===o)&&(s<u?e.bl_tree[a*2]+=s:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[q_*2]++):s<=10?e.bl_tree[k_*2]++:e.bl_tree[N_*2]++,s=0,i=a,o===0?(c=138,u=3):a===o?(c=6,u=3):(c=7,u=4))},B_=(e,r,t)=>{let n,i=-1,a,o=r[0*2+1],s=0,c=7,u=4;for(o===0&&(c=138,u=3),n=0;n<=t;n++)if(a=o,o=r[(n+1)*2+1],!(++s<c&&a===o)){if(s<u)do Pt(e,a,e.bl_tree);while(--s!==0);else a!==0?(a!==i&&(Pt(e,a,e.bl_tree),s--),Pt(e,q_,e.bl_tree),He(e,s-3,2)):s<=10?(Pt(e,k_,e.bl_tree),He(e,s-3,3)):(Pt(e,N_,e.bl_tree),He(e,s-11,7));s=0,i=a,o===0?(c=138,u=3):a===o?(c=6,u=3):(c=7,u=4)}},DR=e=>{let r;for(C_(e,e.dyn_ltree,e.l_desc.max_code),C_(e,e.dyn_dtree,e.d_desc.max_code),cc(e,e.bl_desc),r=lc-1;r>=3&&e.bl_tree[O_[r]*2+1]===0;r--);return e.opt_len+=3*(r+1)+5+5+4,r},LR=(e,r,t,n)=>{let i;for(He(e,r-257,5),He(e,t-1,5),He(e,n-4,4),i=0;i<n;i++)He(e,e.bl_tree[O_[i]*2+1],3);B_(e,e.dyn_ltree,r-1),B_(e,e.dyn_dtree,t-1)},UR=e=>{let r=4093624447,t;for(t=0;t<=31;t++,r>>>=1)if(r&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<Bi;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},T_=!1,KR=e=>{T_||(RR(),T_=!0),e.l_desc=new oc(e.dyn_ltree,R_),e.d_desc=new oc(e.dyn_dtree,D_),e.bl_desc=new oc(e.bl_tree,L_),e.bi_buf=0,e.bi_valid=0,H_(e)},G_=(e,r,t,n)=>{He(e,(CR<<1)+(n?1:0),3),j_(e),Ci(e,t),Ci(e,~t),t&&e.pending_buf.set(e.window.subarray(r,r+t),e.pending),e.pending+=t},MR=e=>{He(e,I_<<1,3),Pt(e,hc,zt),NR(e)},HR=(e,r,t,n)=>{let i,a,o=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=UR(e)),cc(e,e.l_desc),cc(e,e.d_desc),o=DR(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=t+5,t+4<=i&&r!==-1?G_(e,r,t,n):e.strategy===4||a===i?(He(e,(I_<<1)+(n?1:0),3),S_(e,zt,Fi)):(He(e,(BR<<1)+(n?1:0),3),LR(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),S_(e,e.dyn_ltree,e.dyn_dtree)),H_(e),n&&j_(e)},jR=(e,r,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=r,e.pending_buf[e.sym_buf+e.sym_next++]=r>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,r===0?e.dyn_ltree[t*2]++:(e.matches++,r--,e.dyn_ltree[(Si[t]+Bi+1)*2]++,e.dyn_dtree[U_(r)*2]++),e.sym_next===e.sym_end);Cn.exports._tr_init=KR;Cn.exports._tr_stored_block=G_;Cn.exports._tr_flush_block=HR;Cn.exports._tr_tally=jR;Cn.exports._tr_align=MR});var dc=d((bj,V_)=>{"use strict";var GR=(e,r,t,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+r[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};V_.exports=GR});var gc=d((Fj,W_)=>{"use strict";var zR=()=>{let e,r=[];for(var t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r},VR=new Uint32Array(zR()),WR=(e,r,t,n)=>{let i=VR,a=n+t;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^r[o])&255];return e^-1};W_.exports=WR});var mo=d((xj,J_)=>{"use strict";J_.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var or=d((Aj,Z_)=>{"use strict";Z_.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var aE=d((Sj,Ot)=>{"use strict";var{_tr_init:JR,_tr_stored_block:mc,_tr_flush_block:ZR,_tr_tally:fr,_tr_align:YR}=z_(),$_=dc(),sr=gc(),XR=mo(),{Z_NO_FLUSH:lr,Z_PARTIAL_FLUSH:QR,Z_FULL_FLUSH:$R,Z_FINISH:ft,Z_BLOCK:Y_,Z_OK:Fe,Z_STREAM_END:X_,Z_STREAM_ERROR:kt,Z_DATA_ERROR:e5,Z_BUF_ERROR:vc,Z_DEFAULT_COMPRESSION:t5,Z_FILTERED:r5,Z_HUFFMAN_ONLY:_o,Z_RLE:n5,Z_FIXED:i5,Z_DEFAULT_STRATEGY:a5,Z_UNKNOWN:o5,Z_DEFLATED:Eo}=or(),s5=9,u5=15,c5=8,f5=29,l5=256,_c=l5+1+f5,h5=30,p5=19,d5=2*_c+1,g5=15,W=3,cr=258,Nt=cr+W+1,v5=32,Tn=42,Ac=57,Ec=69,wc=73,bc=91,Fc=103,qr=113,Ii=666,Re=1,Pn=2,Nr=3,qn=4,y5=3,kr=(e,r)=>(e.msg=XR[r],r),Q_=e=>e*2-(e>4?9:0),ur=e=>{let r=e.length;for(;--r>=0;)e[r]=0},m5=e=>{let r,t,n,i=e.w_size;r=e.hash_size,n=r;do t=e.head[--n],e.head[n]=t>=i?t-i:0;while(--r);r=i,n=r;do t=e.prev[--n],e.prev[n]=t>=i?t-i:0;while(--r)},_5=(e,r,t)=>(r<<e.hash_shift^t)&e.hash_mask,hr=_5,je=e=>{let r=e.state,t=r.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+t),e.next_out),e.next_out+=t,r.pending_out+=t,e.total_out+=t,e.avail_out-=t,r.pending-=t,r.pending===0&&(r.pending_out=0))},Ge=(e,r)=>{ZR(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,r),e.block_start=e.strstart,je(e.strm)},X=(e,r)=>{e.pending_buf[e.pending++]=r},Ti=(e,r)=>{e.pending_buf[e.pending++]=r>>>8&255,e.pending_buf[e.pending++]=r&255},xc=(e,r,t,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,r.set(e.input.subarray(e.next_in,e.next_in+i),t),e.state.wrap===1?e.adler=$_(e.adler,r,i,t):e.state.wrap===2&&(e.adler=sr(e.adler,r,i,t)),e.next_in+=i,e.total_in+=i,i)},eE=(e,r)=>{let t=e.max_chain_length,n=e.strstart,i,a,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-Nt?e.strstart-(e.w_size-Nt):0,u=e.window,f=e.w_mask,l=e.prev,p=e.strstart+cr,h=u[n+o-1],v=u[n+o];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do if(i=r,!(u[i+o]!==v||u[i+o-1]!==h||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<p);if(a=cr-(p-n),n=p-cr,a>o){if(e.match_start=r,o=a,a>=s)break;h=u[n+o-1],v=u[n+o]}}while((r=l[r&f])>c&&--t!==0);return o<=e.lookahead?o:e.lookahead},In=e=>{let r=e.w_size,t,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-Nt)&&(e.window.set(e.window.subarray(r,r+r-n),0),e.match_start-=r,e.strstart-=r,e.block_start-=r,e.insert>e.strstart&&(e.insert=e.strstart),m5(e),n+=r),e.strm.avail_in===0)break;if(t=xc(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=W)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=hr(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=hr(e,e.ins_h,e.window[i+W-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<W)););}while(e.lookahead<Nt&&e.strm.avail_in!==0)},tE=(e,r)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,a,o=0,s=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>a&&(n=a),n<t&&(n===0&&r!==ft||r===lr||n!==i+e.strm.avail_in)))break;o=r===ft&&n===i+e.strm.avail_in?1:0,mc(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,je(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(xc(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?qn:r!==lr&&r!==ft&&e.strm.avail_in===0&&e.strstart===e.block_start?Pn:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(xc(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=t||(i||r===ft)&&r!==lr&&e.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,o=r===ft&&e.strm.avail_in===0&&n===i?1:0,mc(e,e.block_start,n,o),e.block_start+=n,je(e.strm)),o?Nr:Re)},yc=(e,r)=>{let t,n;for(;;){if(e.lookahead<Nt){if(In(e),e.lookahead<Nt&&r===lr)return Re;if(e.lookahead===0)break}if(t=0,e.lookahead>=W&&(e.ins_h=hr(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-Nt&&(e.match_length=eE(e,t)),e.match_length>=W)if(n=fr(e,e.strstart-e.match_start,e.match_length-W),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=W){e.match_length--;do e.strstart++,e.ins_h=hr(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=hr(e,e.ins_h,e.window[e.strstart+1]);else n=fr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Ge(e,!1),e.strm.avail_out===0))return Re}return e.insert=e.strstart<W-1?e.strstart:W-1,r===ft?(Ge(e,!0),e.strm.avail_out===0?Nr:qn):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?Re:Pn},Bn=(e,r)=>{let t,n,i;for(;;){if(e.lookahead<Nt){if(In(e),e.lookahead<Nt&&r===lr)return Re;if(e.lookahead===0)break}if(t=0,e.lookahead>=W&&(e.ins_h=hr(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=W-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-Nt&&(e.match_length=eE(e,t),e.match_length<=5&&(e.strategy===r5||e.match_length===W&&e.strstart-e.match_start>4096)&&(e.match_length=W-1)),e.prev_length>=W&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-W,n=fr(e,e.strstart-1-e.prev_match,e.prev_length-W),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=hr(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=W-1,e.strstart++,n&&(Ge(e,!1),e.strm.avail_out===0))return Re}else if(e.match_available){if(n=fr(e,0,e.window[e.strstart-1]),n&&Ge(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Re}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=fr(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<W-1?e.strstart:W-1,r===ft?(Ge(e,!0),e.strm.avail_out===0?Nr:qn):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?Re:Pn},E5=(e,r)=>{let t,n,i,a,o=e.window;for(;;){if(e.lookahead<=cr){if(In(e),e.lookahead<=cr&&r===lr)return Re;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=W&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){a=e.strstart+cr;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);e.match_length=cr-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=W?(t=fr(e,1,e.match_length-W),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=fr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(Ge(e,!1),e.strm.avail_out===0))return Re}return e.insert=0,r===ft?(Ge(e,!0),e.strm.avail_out===0?Nr:qn):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?Re:Pn},w5=(e,r)=>{let t;for(;;){if(e.lookahead===0&&(In(e),e.lookahead===0)){if(r===lr)return Re;break}if(e.match_length=0,t=fr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(Ge(e,!1),e.strm.avail_out===0))return Re}return e.insert=0,r===ft?(Ge(e,!0),e.strm.avail_out===0?Nr:qn):e.sym_next&&(Ge(e,!1),e.strm.avail_out===0)?Re:Pn};function qt(e,r,t,n,i){this.good_length=e,this.max_lazy=r,this.nice_length=t,this.max_chain=n,this.func=i}var Pi=[new qt(0,0,0,0,tE),new qt(4,4,8,4,yc),new qt(4,5,16,8,yc),new qt(4,6,32,32,yc),new qt(4,4,16,16,Bn),new qt(8,16,32,32,Bn),new qt(8,16,128,128,Bn),new qt(8,32,128,256,Bn),new qt(32,128,258,1024,Bn),new qt(32,258,258,4096,Bn)],b5=e=>{e.window_size=2*e.w_size,ur(e.head),e.max_lazy_match=Pi[e.level].max_lazy,e.good_match=Pi[e.level].good_length,e.nice_match=Pi[e.level].nice_length,e.max_chain_length=Pi[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=W-1,e.match_available=0,e.ins_h=0};function F5(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Eo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(d5*2),this.dyn_dtree=new Uint16Array((2*h5+1)*2),this.bl_tree=new Uint16Array((2*p5+1)*2),ur(this.dyn_ltree),ur(this.dyn_dtree),ur(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(g5+1),this.heap=new Uint16Array(2*_c+1),ur(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*_c+1),ur(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var qi=e=>{if(!e)return 1;let r=e.state;return!r||r.strm!==e||r.status!==Tn&&r.status!==Ac&&r.status!==Ec&&r.status!==wc&&r.status!==bc&&r.status!==Fc&&r.status!==qr&&r.status!==Ii?1:0},rE=e=>{if(qi(e))return kr(e,kt);e.total_in=e.total_out=0,e.data_type=o5;let r=e.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?Ac:r.wrap?Tn:qr,e.adler=r.wrap===2?0:1,r.last_flush=-2,JR(r),Fe},nE=e=>{let r=rE(e);return r===Fe&&b5(e.state),r},x5=(e,r)=>qi(e)||e.state.wrap!==2?kt:(e.state.gzhead=r,Fe),iE=(e,r,t,n,i,a)=>{if(!e)return kt;let o=1;if(r===t5&&(r=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>s5||t!==Eo||n<8||n>15||r<0||r>9||a<0||a>i5||n===8&&o!==1)return kr(e,kt);n===8&&(n=9);let s=new F5;return e.state=s,s.strm=e,s.status=Tn,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+W-1)/W),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=r,s.strategy=a,s.method=t,nE(e)},A5=(e,r)=>iE(e,r,Eo,u5,c5,a5),S5=(e,r)=>{if(qi(e)||r>Y_||r<0)return e?kr(e,kt):kt;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Ii&&r!==ft)return kr(e,e.avail_out===0?vc:kt);let n=t.last_flush;if(t.last_flush=r,t.pending!==0){if(je(e),e.avail_out===0)return t.last_flush=-1,Fe}else if(e.avail_in===0&&Q_(r)<=Q_(n)&&r!==ft)return kr(e,vc);if(t.status===Ii&&e.avail_in!==0)return kr(e,vc);if(t.status===Tn&&t.wrap===0&&(t.status=qr),t.status===Tn){let i=Eo+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=_o||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,i|=a<<6,t.strstart!==0&&(i|=v5),i+=31-i%31,Ti(t,i),t.strstart!==0&&(Ti(t,e.adler>>>16),Ti(t,e.adler&65535)),e.adler=1,t.status=qr,je(e),t.pending!==0)return t.last_flush=-1,Fe}if(t.status===Ac){if(e.adler=0,X(t,31),X(t,139),X(t,8),t.gzhead)X(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),X(t,t.gzhead.time&255),X(t,t.gzhead.time>>8&255),X(t,t.gzhead.time>>16&255),X(t,t.gzhead.time>>24&255),X(t,t.level===9?2:t.strategy>=_o||t.level<2?4:0),X(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(X(t,t.gzhead.extra.length&255),X(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=sr(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=Ec;else if(X(t,0),X(t,0),X(t,0),X(t,0),X(t,0),X(t,t.level===9?2:t.strategy>=_o||t.level<2?4:0),X(t,y5),t.status=qr,je(e),t.pending!==0)return t.last_flush=-1,Fe}if(t.status===Ec){if(t.gzhead.extra){let i=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let s=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(e.adler=sr(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=s,je(e),t.pending!==0)return t.last_flush=-1,Fe;i=0,a-=s}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>i&&(e.adler=sr(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=wc}if(t.status===wc){if(t.gzhead.name){let i=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=sr(e.adler,t.pending_buf,t.pending-i,i)),je(e),t.pending!==0)return t.last_flush=-1,Fe;i=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,X(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=sr(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=bc}if(t.status===bc){if(t.gzhead.comment){let i=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=sr(e.adler,t.pending_buf,t.pending-i,i)),je(e),t.pending!==0)return t.last_flush=-1,Fe;i=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,X(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>i&&(e.adler=sr(e.adler,t.pending_buf,t.pending-i,i))}t.status=Fc}if(t.status===Fc){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(je(e),t.pending!==0))return t.last_flush=-1,Fe;X(t,e.adler&255),X(t,e.adler>>8&255),e.adler=0}if(t.status=qr,je(e),t.pending!==0)return t.last_flush=-1,Fe}if(e.avail_in!==0||t.lookahead!==0||r!==lr&&t.status!==Ii){let i=t.level===0?tE(t,r):t.strategy===_o?w5(t,r):t.strategy===n5?E5(t,r):Pi[t.level].func(t,r);if((i===Nr||i===qn)&&(t.status=Ii),i===Re||i===Nr)return e.avail_out===0&&(t.last_flush=-1),Fe;if(i===Pn&&(r===QR?YR(t):r!==Y_&&(mc(t,0,0,!1),r===$R&&(ur(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),je(e),e.avail_out===0))return t.last_flush=-1,Fe}return r!==ft?Fe:t.wrap<=0?X_:(t.wrap===2?(X(t,e.adler&255),X(t,e.adler>>8&255),X(t,e.adler>>16&255),X(t,e.adler>>24&255),X(t,e.total_in&255),X(t,e.total_in>>8&255),X(t,e.total_in>>16&255),X(t,e.total_in>>24&255)):(Ti(t,e.adler>>>16),Ti(t,e.adler&65535)),je(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Fe:X_)},C5=e=>{if(qi(e))return kt;let r=e.state.status;return e.state=null,r===qr?kr(e,e5):Fe},B5=(e,r)=>{let t=r.length;if(qi(e))return kt;let n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Tn||n.lookahead)return kt;if(i===1&&(e.adler=$_(e.adler,r,t,0)),n.wrap=0,t>=n.w_size){i===0&&(ur(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(r.subarray(t-n.w_size,t),0),r=c,t=n.w_size}let a=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=t,e.next_in=0,e.input=r,In(n);n.lookahead>=W;){let c=n.strstart,u=n.lookahead-(W-1);do n.ins_h=hr(n,n.ins_h,n.window[c+W-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--u);n.strstart=c,n.lookahead=W-1,In(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=W-1,n.match_available=0,e.next_in=o,e.input=s,e.avail_in=a,n.wrap=i,Fe};Ot.exports.deflateInit=A5;Ot.exports.deflateInit2=iE;Ot.exports.deflateReset=nE;Ot.exports.deflateResetKeep=rE;Ot.exports.deflateSetHeader=x5;Ot.exports.deflate=S5;Ot.exports.deflateEnd=C5;Ot.exports.deflateSetDictionary=B5;Ot.exports.deflateInfo="pako deflate (from Nodeca project)"});var Cc=d((Cj,Sc)=>{"use strict";var T5=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);Sc.exports.assign=function(e){let r=Array.prototype.slice.call(arguments,1);for(;r.length;){let t=r.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let n in t)T5(t,n)&&(e[n]=t[n])}}return e};Sc.exports.flattenChunks=e=>{let r=0;for(let n=0,i=e.length;n<i;n++)r+=e[n].length;let t=new Uint8Array(r);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];t.set(o,i),i+=o.length}return t}});var Bc=d((Bj,wo)=>{"use strict";var oE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oE=!1}var ki=new Uint8Array(256);for(let e=0;e<256;e++)ki[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ki[254]=ki[254]=1;wo.exports.string2buf=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let r,t,n,i,a,o=e.length,s=0;for(i=0;i<o;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(s),a=0,i=0;a<s;i++)t=e.charCodeAt(i),(t&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?r[a++]=t:t<2048?(r[a++]=192|t>>>6,r[a++]=128|t&63):t<65536?(r[a++]=224|t>>>12,r[a++]=128|t>>>6&63,r[a++]=128|t&63):(r[a++]=240|t>>>18,r[a++]=128|t>>>12&63,r[a++]=128|t>>>6&63,r[a++]=128|t&63);return r};var I5=(e,r)=>{if(r<65534&&e.subarray&&oE)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let t="";for(let n=0;n<r;n++)t+=String.fromCharCode(e[n]);return t};wo.exports.buf2string=(e,r)=>{let t=r||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,r));let n,i,a=new Array(t*2);for(i=0,n=0;n<t;){let o=e[n++];if(o<128){a[i++]=o;continue}let s=ki[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<t;)o=o<<6|e[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return I5(a,i)};wo.exports.utf8border=(e,r)=>{r=r||e.length,r>e.length&&(r=e.length);let t=r-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+ki[e[t]]>r?t:r}});var Tc=d((Tj,sE)=>{"use strict";function P5(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}sE.exports=P5});var lE=d((Ij,kn)=>{"use strict";var Ni=aE(),uE=Cc(),cE=Bc(),Ic=mo(),q5=Tc(),fE=Object.prototype.toString,{Z_NO_FLUSH:k5,Z_SYNC_FLUSH:N5,Z_FULL_FLUSH:O5,Z_FINISH:R5,Z_OK:bo,Z_STREAM_END:D5,Z_DEFAULT_COMPRESSION:L5,Z_DEFAULT_STRATEGY:U5,Z_DEFLATED:K5}=or();function Oi(e){this.options=uE.assign({level:L5,method:K5,chunkSize:16384,windowBits:15,memLevel:8,strategy:U5},e||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new q5,this.strm.avail_out=0;let t=Ni.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(t!==bo)throw new Error(Ic[t]);if(r.header&&Ni.deflateSetHeader(this.strm,r.header),r.dictionary){let n;if(typeof r.dictionary=="string"?n=cE.string2buf(r.dictionary):fE.call(r.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(r.dictionary):n=r.dictionary,t=Ni.deflateSetDictionary(this.strm,n),t!==bo)throw new Error(Ic[t]);this._dict_set=!0}}Oi.prototype.push=function(e,r){let t=this.strm,n=this.options.chunkSize,i,a;if(this.ended)return!1;for(r===~~r?a=r:a=r===!0?R5:k5,typeof e=="string"?t.input=cE.string2buf(e):fE.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(a===N5||a===O5)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=Ni.deflate(t,a),i===D5)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=Ni.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===bo;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Oi.prototype.onData=function(e){this.chunks.push(e)};Oi.prototype.onEnd=function(e){e===bo&&(this.result=uE.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Pc(e,r){let t=new Oi(r);if(t.push(e,!0),t.err)throw t.msg||Ic[t.err];return t.result}function M5(e,r){return r=r||{},r.raw=!0,Pc(e,r)}function H5(e,r){return r=r||{},r.gzip=!0,Pc(e,r)}kn.exports.Deflate=Oi;kn.exports.deflate=Pc;kn.exports.deflateRaw=M5;kn.exports.gzip=H5;kn.exports.constants=or()});var pE=d((Pj,hE)=>{"use strict";hE.exports=function(r,t){let n,i,a,o,s,c,u,f,l,p,h,v,m,y,_,E,A,w,T,M,C,L,R,N,b=r.state;n=r.next_in,R=r.input,i=n+(r.avail_in-5),a=r.next_out,N=r.output,o=a-(t-r.avail_out),s=a+(r.avail_out-257),c=b.dmax,u=b.wsize,f=b.whave,l=b.wnext,p=b.window,h=b.hold,v=b.bits,m=b.lencode,y=b.distcode,_=(1<<b.lenbits)-1,E=(1<<b.distbits)-1;e:do{v<15&&(h+=R[n++]<<v,v+=8,h+=R[n++]<<v,v+=8),A=m[h&_];t:for(;;){if(w=A>>>24,h>>>=w,v-=w,w=A>>>16&255,w===0)N[a++]=A&65535;else if(w&16){T=A&65535,w&=15,w&&(v<w&&(h+=R[n++]<<v,v+=8),T+=h&(1<<w)-1,h>>>=w,v-=w),v<15&&(h+=R[n++]<<v,v+=8,h+=R[n++]<<v,v+=8),A=y[h&E];r:for(;;){if(w=A>>>24,h>>>=w,v-=w,w=A>>>16&255,w&16){if(M=A&65535,w&=15,v<w&&(h+=R[n++]<<v,v+=8,v<w&&(h+=R[n++]<<v,v+=8)),M+=h&(1<<w)-1,M>c){r.msg="invalid distance too far back",b.mode=16209;break e}if(h>>>=w,v-=w,w=a-o,M>w){if(w=M-w,w>f&&b.sane){r.msg="invalid distance too far back",b.mode=16209;break e}if(C=0,L=p,l===0){if(C+=u-w,w<T){T-=w;do N[a++]=p[C++];while(--w);C=a-M,L=N}}else if(l<w){if(C+=u+l-w,w-=l,w<T){T-=w;do N[a++]=p[C++];while(--w);if(C=0,l<T){w=l,T-=w;do N[a++]=p[C++];while(--w);C=a-M,L=N}}}else if(C+=l-w,w<T){T-=w;do N[a++]=p[C++];while(--w);C=a-M,L=N}for(;T>2;)N[a++]=L[C++],N[a++]=L[C++],N[a++]=L[C++],T-=3;T&&(N[a++]=L[C++],T>1&&(N[a++]=L[C++]))}else{C=a-M;do N[a++]=N[C++],N[a++]=N[C++],N[a++]=N[C++],T-=3;while(T>2);T&&(N[a++]=N[C++],T>1&&(N[a++]=N[C++]))}}else if(w&64){r.msg="invalid distance code",b.mode=16209;break e}else{A=y[(A&65535)+(h&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){b.mode=16191;break e}else{r.msg="invalid literal/length code",b.mode=16209;break e}else{A=m[(A&65535)+(h&(1<<w)-1)];continue t}break}}while(n<i&&a<s);T=v>>3,n-=T,v-=T<<3,h&=(1<<v)-1,r.next_in=n,r.next_out=a,r.avail_in=n<i?5+(i-n):5-(n-i),r.avail_out=a<s?257+(s-a):257-(a-s),b.hold=h,b.bits=v}});var gE=d((qj,dE)=>{"use strict";var j5=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),G5=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),z5=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),V5=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),W5=(e,r,t,n,i,a,o,s)=>{let c=s.bits,u=0,f=0,l=0,p=0,h=0,v=0,m=0,y=0,_=0,E=0,A,w,T,M,C,L=null,R,N=new Uint16Array(15+1),b=new Uint16Array(15+1),xe=null,S,g,q;for(u=0;u<=15;u++)N[u]=0;for(f=0;f<n;f++)N[r[t+f]]++;for(h=c,p=15;p>=1&&N[p]===0;p--);if(h>p&&(h=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(l=1;l<p&&N[l]===0;l++);for(h<l&&(h=l),y=1,u=1;u<=15;u++)if(y<<=1,y-=N[u],y<0)return-1;if(y>0&&(e===0||p!==1))return-1;for(b[1]=0,u=1;u<15;u++)b[u+1]=b[u]+N[u];for(f=0;f<n;f++)r[t+f]!==0&&(o[b[r[t+f]]++]=f);if(e===0?(L=xe=o,R=20):e===1?(L=j5,xe=G5,R=257):(L=z5,xe=V5,R=0),E=0,f=0,u=l,C=a,v=h,m=0,T=-1,_=1<<h,M=_-1,e===1&&_>852||e===2&&_>592)return 1;for(;;){S=u-m,o[f]+1<R?(g=0,q=o[f]):o[f]>=R?(g=xe[o[f]-R],q=L[o[f]-R]):(g=32+64,q=0),A=1<<u-m,w=1<<v,l=w;do w-=A,i[C+(E>>m)+w]=S<<24|g<<16|q|0;while(w!==0);for(A=1<<u-1;E&A;)A>>=1;if(A!==0?(E&=A-1,E+=A):E=0,f++,--N[u]===0){if(u===p)break;u=r[t+o[f]]}if(u>h&&(E&M)!==T){for(m===0&&(m=h),C+=l,v=u-m,y=1<<v;v+m<p&&(y-=N[v+m],!(y<=0));)v++,y<<=1;if(_+=1<<v,e===1&&_>852||e===2&&_>592)return 1;T=E&M,i[T]=h<<24|v<<16|C-a|0}}return E!==0&&(i[C+E]=u-m<<24|64<<16|0),s.bits=h,0};dE.exports=W5});var YE=d((kj,yt)=>{"use strict";var Dc=dc(),Rt=gc(),J5=pE(),Ri=gE(),Z5=0,ME=1,HE=2,{Z_FINISH:vE,Z_BLOCK:Y5,Z_TREES:Fo,Z_OK:Or,Z_STREAM_END:X5,Z_NEED_DICT:Q5,Z_STREAM_ERROR:lt,Z_DATA_ERROR:jE,Z_MEM_ERROR:Lc,Z_BUF_ERROR:$5,Z_DEFLATED:yE}=or(),Co=16180,mE=16181,_E=16182,EE=16183,wE=16184,bE=16185,FE=16186,xE=16187,AE=16188,SE=16189,So=16190,Vt=16191,qc=16192,CE=16193,kc=16194,BE=16195,TE=16196,IE=16197,PE=16198,xo=16199,Ao=16200,qE=16201,kE=16202,NE=16203,OE=16204,RE=16205,Nc=16206,DE=16207,LE=16208,se=16209,Uc=16210,GE=16211,eD=852,tD=592,rD=15,nD=rD,UE=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function iD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Rr=e=>{if(!e)return 1;let r=e.state;return!r||r.strm!==e||r.mode<Co||r.mode>GE?1:0},zE=e=>{if(Rr(e))return lt;let r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=Co,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(eD),r.distcode=r.distdyn=new Int32Array(tD),r.sane=1,r.back=-1,Or},VE=e=>{if(Rr(e))return lt;let r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,zE(e)},WE=(e,r)=>{let t;if(Rr(e))return lt;let n=e.state;return r<0?(t=0,r=-r):(t=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?lt:(n.window!==null&&n.wbits!==r&&(n.window=null),n.wrap=t,n.wbits=r,VE(e))},JE=(e,r)=>{if(!e)return lt;let t=new iD;e.state=t,t.strm=e,t.window=null,t.mode=Co;let n=WE(e,r);return n!==Or&&(e.state=null),n},aD=e=>JE(e,nD),KE=!0,Oc,Rc,oD=e=>{if(KE){Oc=new Int32Array(512),Rc=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(Ri(ME,e.lens,0,288,Oc,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;Ri(HE,e.lens,0,32,Rc,0,e.work,{bits:5}),KE=!1}e.lencode=Oc,e.lenbits=9,e.distcode=Rc,e.distbits=5},ZE=(e,r,t,n)=>{let i,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(r.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(r.subarray(t-n,t-n+i),a.wnext),n-=i,n?(a.window.set(r.subarray(t-n,t),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},sD=(e,r)=>{let t,n,i,a,o,s,c,u,f,l,p,h,v,m,y=0,_,E,A,w,T,M,C,L,R=new Uint8Array(4),N,b,xe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Rr(e)||!e.output||!e.input&&e.avail_in!==0)return lt;t=e.state,t.mode===Vt&&(t.mode=qc),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,u=t.hold,f=t.bits,l=s,p=c,L=Or;e:for(;;)switch(t.mode){case Co:if(t.wrap===0){t.mode=qc;break}for(;f<16;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=u&255,R[1]=u>>>8&255,t.check=Rt(t.check,R,2,0),u=0,f=0,t.mode=mE;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",t.mode=se;break}if((u&15)!==yE){e.msg="unknown compression method",t.mode=se;break}if(u>>>=4,f-=4,C=(u&15)+8,t.wbits===0&&(t.wbits=C),C>15||C>t.wbits){e.msg="invalid window size",t.mode=se;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=u&512?SE:Vt,u=0,f=0;break;case mE:for(;f<16;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(t.flags=u,(t.flags&255)!==yE){e.msg="unknown compression method",t.mode=se;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=se;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,t.check=Rt(t.check,R,2,0)),u=0,f=0,t.mode=_E;case _E:for(;f<32;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,t.check=Rt(t.check,R,4,0)),u=0,f=0,t.mode=EE;case EE:for(;f<16;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,t.check=Rt(t.check,R,2,0)),u=0,f=0,t.mode=wE;case wE:if(t.flags&1024){for(;f<16;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,t.check=Rt(t.check,R,2,0)),u=0,f=0}else t.head&&(t.head.extra=null);t.mode=bE;case bE:if(t.flags&1024&&(h=t.length,h>s&&(h=s),h&&(t.head&&(C=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+h),C)),t.flags&512&&t.wrap&4&&(t.check=Rt(t.check,n,h,a)),s-=h,a+=h,t.length-=h),t.length))break e;t.length=0,t.mode=FE;case FE:if(t.flags&2048){if(s===0)break e;h=0;do C=n[a+h++],t.head&&C&&t.length<65536&&(t.head.name+=String.fromCharCode(C));while(C&&h<s);if(t.flags&512&&t.wrap&4&&(t.check=Rt(t.check,n,h,a)),s-=h,a+=h,C)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=xE;case xE:if(t.flags&4096){if(s===0)break e;h=0;do C=n[a+h++],t.head&&C&&t.length<65536&&(t.head.comment+=String.fromCharCode(C));while(C&&h<s);if(t.flags&512&&t.wrap&4&&(t.check=Rt(t.check,n,h,a)),s-=h,a+=h,C)break e}else t.head&&(t.head.comment=null);t.mode=AE;case AE:if(t.flags&512){for(;f<16;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(t.wrap&4&&u!==(t.check&65535)){e.msg="header crc mismatch",t.mode=se;break}u=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Vt;break;case SE:for(;f<32;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}e.adler=t.check=UE(u),u=0,f=0,t.mode=So;case So:if(t.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,t.hold=u,t.bits=f,Q5;e.adler=t.check=1,t.mode=Vt;case Vt:if(r===Y5||r===Fo)break e;case qc:if(t.last){u>>>=f&7,f-=f&7,t.mode=Nc;break}for(;f<3;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}switch(t.last=u&1,u>>>=1,f-=1,u&3){case 0:t.mode=CE;break;case 1:if(oD(t),t.mode=xo,r===Fo){u>>>=2,f-=2;break e}break;case 2:t.mode=TE;break;case 3:e.msg="invalid block type",t.mode=se}u>>>=2,f-=2;break;case CE:for(u>>>=f&7,f-=f&7;f<32;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",t.mode=se;break}if(t.length=u&65535,u=0,f=0,t.mode=kc,r===Fo)break e;case kc:t.mode=BE;case BE:if(h=t.length,h){if(h>s&&(h=s),h>c&&(h=c),h===0)break e;i.set(n.subarray(a,a+h),o),s-=h,a+=h,c-=h,o+=h,t.length-=h;break}t.mode=Vt;break;case TE:for(;f<14;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(t.nlen=(u&31)+257,u>>>=5,f-=5,t.ndist=(u&31)+1,u>>>=5,f-=5,t.ncode=(u&15)+4,u>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=se;break}t.have=0,t.mode=IE;case IE:for(;t.have<t.ncode;){for(;f<3;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}t.lens[xe[t.have++]]=u&7,u>>>=3,f-=3}for(;t.have<19;)t.lens[xe[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,N={bits:t.lenbits},L=Ri(Z5,t.lens,0,19,t.lencode,0,t.work,N),t.lenbits=N.bits,L){e.msg="invalid code lengths set",t.mode=se;break}t.have=0,t.mode=PE;case PE:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[u&(1<<t.lenbits)-1],_=y>>>24,E=y>>>16&255,A=y&65535,!(_<=f);){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(A<16)u>>>=_,f-=_,t.lens[t.have++]=A;else{if(A===16){for(b=_+2;f<b;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(u>>>=_,f-=_,t.have===0){e.msg="invalid bit length repeat",t.mode=se;break}C=t.lens[t.have-1],h=3+(u&3),u>>>=2,f-=2}else if(A===17){for(b=_+3;f<b;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}u>>>=_,f-=_,C=0,h=3+(u&7),u>>>=3,f-=3}else{for(b=_+7;f<b;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}u>>>=_,f-=_,C=0,h=11+(u&127),u>>>=7,f-=7}if(t.have+h>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=se;break}for(;h--;)t.lens[t.have++]=C}}if(t.mode===se)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=se;break}if(t.lenbits=9,N={bits:t.lenbits},L=Ri(ME,t.lens,0,t.nlen,t.lencode,0,t.work,N),t.lenbits=N.bits,L){e.msg="invalid literal/lengths set",t.mode=se;break}if(t.distbits=6,t.distcode=t.distdyn,N={bits:t.distbits},L=Ri(HE,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,N),t.distbits=N.bits,L){e.msg="invalid distances set",t.mode=se;break}if(t.mode=xo,r===Fo)break e;case xo:t.mode=Ao;case Ao:if(s>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,t.hold=u,t.bits=f,J5(e,p),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,u=t.hold,f=t.bits,t.mode===Vt&&(t.back=-1);break}for(t.back=0;y=t.lencode[u&(1<<t.lenbits)-1],_=y>>>24,E=y>>>16&255,A=y&65535,!(_<=f);){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(E&&!(E&240)){for(w=_,T=E,M=A;y=t.lencode[M+((u&(1<<w+T)-1)>>w)],_=y>>>24,E=y>>>16&255,A=y&65535,!(w+_<=f);){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}u>>>=w,f-=w,t.back+=w}if(u>>>=_,f-=_,t.back+=_,t.length=A,E===0){t.mode=RE;break}if(E&32){t.back=-1,t.mode=Vt;break}if(E&64){e.msg="invalid literal/length code",t.mode=se;break}t.extra=E&15,t.mode=qE;case qE:if(t.extra){for(b=t.extra;f<b;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=kE;case kE:for(;y=t.distcode[u&(1<<t.distbits)-1],_=y>>>24,E=y>>>16&255,A=y&65535,!(_<=f);){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(!(E&240)){for(w=_,T=E,M=A;y=t.distcode[M+((u&(1<<w+T)-1)>>w)],_=y>>>24,E=y>>>16&255,A=y&65535,!(w+_<=f);){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}u>>>=w,f-=w,t.back+=w}if(u>>>=_,f-=_,t.back+=_,E&64){e.msg="invalid distance code",t.mode=se;break}t.offset=A,t.extra=E&15,t.mode=NE;case NE:if(t.extra){for(b=t.extra;f<b;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=se;break}t.mode=OE;case OE:if(c===0)break e;if(h=p-c,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=se;break}h>t.wnext?(h-=t.wnext,v=t.wsize-h):v=t.wnext-h,h>t.length&&(h=t.length),m=t.window}else m=i,v=o-t.offset,h=t.length;h>c&&(h=c),c-=h,t.length-=h;do i[o++]=m[v++];while(--h);t.length===0&&(t.mode=Ao);break;case RE:if(c===0)break e;i[o++]=t.length,c--,t.mode=Ao;break;case Nc:if(t.wrap){for(;f<32;){if(s===0)break e;s--,u|=n[a++]<<f,f+=8}if(p-=c,e.total_out+=p,t.total+=p,t.wrap&4&&p&&(e.adler=t.check=t.flags?Rt(t.check,i,p,o-p):Dc(t.check,i,p,o-p)),p=c,t.wrap&4&&(t.flags?u:UE(u))!==t.check){e.msg="incorrect data check",t.mode=se;break}u=0,f=0}t.mode=DE;case DE:if(t.wrap&&t.flags){for(;f<32;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(t.wrap&4&&u!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=se;break}u=0,f=0}t.mode=LE;case LE:L=X5;break e;case se:L=jE;break e;case Uc:return Lc;case GE:default:return lt}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,t.hold=u,t.bits=f,(t.wsize||p!==e.avail_out&&t.mode<se&&(t.mode<Nc||r!==vE))&&ZE(e,e.output,e.next_out,p-e.avail_out)?(t.mode=Uc,Lc):(l-=e.avail_in,p-=e.avail_out,e.total_in+=l,e.total_out+=p,t.total+=p,t.wrap&4&&p&&(e.adler=t.check=t.flags?Rt(t.check,i,p,e.next_out-p):Dc(t.check,i,p,e.next_out-p)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Vt?128:0)+(t.mode===xo||t.mode===kc?256:0),(l===0&&p===0||r===vE)&&L===Or&&(L=$5),L)},uD=e=>{if(Rr(e))return lt;let r=e.state;return r.window&&(r.window=null),e.state=null,Or},cD=(e,r)=>{if(Rr(e))return lt;let t=e.state;return t.wrap&2?(t.head=r,r.done=!1,Or):lt},fD=(e,r)=>{let t=r.length,n,i,a;return Rr(e)||(n=e.state,n.wrap!==0&&n.mode!==So)?lt:n.mode===So&&(i=1,i=Dc(i,r,t,0),i!==n.check)?jE:(a=ZE(e,r,t,t),a?(n.mode=Uc,Lc):(n.havedict=1,Or))};yt.exports.inflateReset=VE;yt.exports.inflateReset2=WE;yt.exports.inflateResetKeep=zE;yt.exports.inflateInit=aD;yt.exports.inflateInit2=JE;yt.exports.inflate=sD;yt.exports.inflateEnd=uD;yt.exports.inflateGetHeader=cD;yt.exports.inflateSetDictionary=fD;yt.exports.inflateInfo="pako inflate (from Nodeca project)"});var QE=d((Nj,XE)=>{"use strict";function lD(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}XE.exports=lD});var rw=d((Oj,Nn)=>{"use strict";var Wt=YE(),ew=Cc(),Hc=Bc(),jc=mo(),hD=Tc(),pD=QE(),tw=Object.prototype.toString,{Z_NO_FLUSH:dD,Z_FINISH:gD,Z_OK:Di,Z_STREAM_END:Kc,Z_NEED_DICT:Mc,Z_STREAM_ERROR:vD,Z_DATA_ERROR:$E,Z_MEM_ERROR:yD}=or();function Li(e){this.options=ew.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(e&&e.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hD,this.strm.avail_out=0;let t=Wt.inflateInit2(this.strm,r.windowBits);if(t!==Di)throw new Error(jc[t]);if(this.header=new pD,Wt.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=Hc.string2buf(r.dictionary):tw.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(t=Wt.inflateSetDictionary(this.strm,r.dictionary),t!==Di)))throw new Error(jc[t])}Li.prototype.push=function(e,r){let t=this.strm,n=this.options.chunkSize,i=this.options.dictionary,a,o,s;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?gD:dD,tw.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),a=Wt.inflate(t,o),a===Mc&&i&&(a=Wt.inflateSetDictionary(t,i),a===Di?a=Wt.inflate(t,o):a===$E&&(a=Mc));t.avail_in>0&&a===Kc&&t.state.wrap>0&&e[t.next_in]!==0;)Wt.inflateReset(t),a=Wt.inflate(t,o);switch(a){case vD:case $E:case Mc:case yD:return this.onEnd(a),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||a===Kc))if(this.options.to==="string"){let c=Hc.utf8border(t.output,t.next_out),u=t.next_out-c,f=Hc.buf2string(t.output,c);t.next_out=u,t.avail_out=n-u,u&&t.output.set(t.output.subarray(c,c+u),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Di&&s===0)){if(a===Kc)return a=Wt.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Li.prototype.onData=function(e){this.chunks.push(e)};Li.prototype.onEnd=function(e){e===Di&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ew.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Gc(e,r){let t=new Li(r);if(t.push(e),t.err)throw t.msg||jc[t.err];return t.result}function mD(e,r){return r=r||{},r.raw=!0,Gc(e,r)}Nn.exports.Inflate=Li;Nn.exports.inflate=Gc;Nn.exports.inflateRaw=mD;Nn.exports.ungzip=Gc;Nn.exports.constants=or()});var zc=d((Rj,Dt)=>{"use strict";var{Deflate:_D,deflate:ED,deflateRaw:wD,gzip:bD}=lE(),{Inflate:FD,inflate:xD,inflateRaw:AD,ungzip:SD}=rw(),CD=or();Dt.exports.Deflate=_D;Dt.exports.deflate=ED;Dt.exports.deflateRaw=wD;Dt.exports.gzip=bD;Dt.exports.Inflate=FD;Dt.exports.inflate=xD;Dt.exports.inflateRaw=AD;Dt.exports.ungzip=SD;Dt.exports.constants=CD});var iw=d((Dj,nw)=>{"use strict";var BD={zip:!1,format:"general",contentAlg:"A128CBC-HS256",protect:"*"};nw.exports=BD});var sw=d((Lj,ow)=>{"use strict";var Jt=Ae(),TD=nc().generateCEK,Zt=Ir(),ID=nc().slice,PD=zc(),qD=St(),Yt=hu(),Dr=xt(),kD=iw();function aw(e,r,t){var n=!1,i=e.format||"general",a=!!e.protectAll,o=Buffer.alloc(0);Object.defineProperty(this,"zip",{get:function(){return r.zip||""},enumerable:!0}),Object.defineProperty(this,"compact",{get:function(){return i==="compact"},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return i},enumerable:!0}),Object.defineProperty(this,"protected",{get:function(){return Dr(e.protect)},enumerable:!0}),Object.defineProperty(this,"header",{get:function(){return Dr(r)},enumerable:!0}),Object.defineProperty(this,"update",{value:function(s,c){if(n)throw new Error("already final");return s!=null&&(s=Jt.asBuffer(s,c),o.length?o=Buffer.concat([o,s],o.length+s.length):o=s),this}}),Object.defineProperty(this,"final",{value:function(s,c){if(n)return Promise.reject(new Error("already final"));this.update(s,c),n=!0;var u=Promise.resolve({}),f=r.enc,l;u=u.then(function(h){return e.cek&&(l=Zt.asKey(e.cek)),h}),u=u.then(function(h){var v=function(y,_){var E={};E=Yt(E,r),E=Yt(E,y.header);var A=y.key,w=E.alg,T,M;return(E.alg||"").indexOf("ECDH-ES")===0?(T=A.keystore.temp(),y.epk?M=Promise.resolve(y.epk).then(function(C){y.header.epk=C.toJSON(!1,["kid"]),E.epk=C.toObject(!0,["kid"])}):M=T.generate("EC",A.get("crv")).then(function(C){y.header.epk=C.toJSON(!1,["kid"]),E.epk=C.toObject(!0,["kid"])})):M=Promise.resolve(),M=M.then(function(){var C,L;return w==="dir"&&_?(l=Promise.resolve(A),L=l.then(function(R){return f||(E.enc=r.enc=f=R.algorithms(Zt.MODE_ENCRYPT)[0]),{once:!0,direct:!0}})):(l||(f||(E.enc=r.enc=f=e.contentAlg),l=TD(f)),L=l.then(function(R){return C=R.get("k",!0),A}),L=L.then(function(R){return R.wrap(w,C,E)})),L}),M=M.then(function(C){if(C.once&&!_)return Promise.reject(new Error("cannot use 'alg':'"+w+"' with multiple recipients"));var L={},R;return C.data&&(R=C.data,R=Jt.base64url.encode(R)),C.direct&&R?l=Zt.asKey({kty:"oct",k:R}):R&&(L.encrypted_key=R),y.header&&Object.keys(y.header).length&&(L.header=Dr(y.header||{})),C.header&&(L.header=Yt(L.header||{},C.header)),L}),M},m=Promise.all(t);return m=m.then(function(y){var _=y.length===1;return y=y.map(function(E){return v(E,_)}),Promise.all(y)}),m=m.then(function(y){return h.recipients=y.filter(function(_){return!!_}),h}),m});var p={};switch(u=u.then(function(h){var v,m,y,_;return y=Dr(r),a&&h.recipients.length===1||i==="compact"?(v={},v=Yt({},y,h.recipients[0].header),m=Object.keys(v).length,y=void 0,_=0,delete h.recipients[0].header,Object.keys(h.recipients[0]).length===0&&h.recipients.splice(0,1)):(v={},m=0,_=Object.keys(y).length,e.protect.forEach(function(E){E in y&&(v[E]=y[E],m++,delete y[E],_--)}),h.recipients=(h.recipients||[]).map(function(E){E=E||{};var A=E.header;return A&&(Object.keys(A).forEach(function(w){w in v&&delete A[w]}),Object.keys(A).length||delete E.header),E})),(!h.recipients||h.recipients.length===0)&&delete h.recipients,y&&_>0&&(p=Yt(p,y),h.unprotected=y),v&&m>0&&(p=Yt(p,v),v=JSON.stringify(v),h.protected=Jt.base64url.encode(v,"utf8")),h}),u=u.then(function(h){var v=o;if(p.zip){if(p.zip==="DEF")return new Promise(function(m,y){try{var _=PD.deflateRaw(Buffer.from(v,"binary"));h.plaintext=Buffer.from(_),m(h)}catch(E){y(E)}})}else return h.plaintext=v,h;return Promise.reject(new Error("unsupported 'zip' mode"))}),u=u.then(function(h){p.adata=h.protected,"aad"in e&&e.aad!=null&&(p.adata+="."+e.aad,p.adata=Buffer.from(p.adata,"utf8"));var v=e.iv||Jt.randomBytes(qD.NONCELENGTH[f]/8);typeof v=="string"&&(v=Jt.base64url.decode(v)),p.iv=v,"recipients"in h&&h.recipients.length===1&&(p.kdata=h.recipients[0].encrypted_key),"epu"in e&&e.epu!=null&&(p.epu=e.epu),"epv"in e&&e.epv!=null&&(p.epv=e.epv);var m=h.plaintext;return delete h.plaintext,l.then(function(y){var _=y.encrypt(f,m,p);return _=_.then(function(E){return h.iv=Jt.base64url.encode(v,"binary"),"aad"in e&&e.aad!=null&&(h.aad=e.aad),h.ciphertext=Jt.base64url.encode(E.data,"binary"),h.tag=Jt.base64url.encode(E.tag,"binary"),h}),_})}),i){case"compact":u=u.then(function(h){var v=new Array(5);return v[0]=h.protected,h.recipients&&h.recipients[0]&&(v[1]=h.recipients[0].encrypted_key),v[2]=h.iv,v[3]=h.ciphertext,v[4]=h.tag,v=v.join("."),v});break;case"flattened":u=u.then(function(h){var v={},m=h.recipients&&h.recipients[0];return h.protected&&(v.protected=h.protected),h.unprotected&&(v.unprotected=h.unprotected),["header","encrypted_key"].forEach(function(y){m&&y in m&&m[y]&&(typeof m[y]=="object"&&!Object.keys(m[y]).length||(v[y]=m[y]))}),h.aad&&(v.aad=h.aad),v.iv=h.iv,v.ciphertext=h.ciphertext,v.tag=h.tag,v});break;case"general":u=u.then(function(h){var v=h.recipients||[];return v=v.map(function(m){if(Object.keys(m).length)return m}),v=v.filter(function(m){return!!m}),v.length?h.recipients=v:delete h.recipients,h})}return u}})}function ND(e,r){var t=e,n=1,i=r;if(arguments.length===0)throw new Error("at least one recipient must be provided");arguments.length===1?(i=e,n=0,t={}):Zt.isKey(e)||e&&"kty"in e||e&&"key"in e&&(Zt.isKey(e.key)||"kty"in e.key)?(i=e,n=0,t={}):t=Dr(e),Array.isArray(i)||(i=ID(arguments,n)),t=Yt(Dr(kD),t);var a=Dr(t.fields||{});switch(t.zip&&(a.zip=typeof t.zip=="boolean"?t.zip?"DEF":!1:t.zip),t.format=(t.compact?"compact":t.format)||"general",t.format){case"compact":if("aad"in e)throw new Error("additional authenticated data cannot be used for compact serialization");case"flattened":if(i.length>1)throw new Error("too many recipients for compact serialization");break}var o=!1;if(t.format==="compact"||t.protect==="*")o=!0,t.protect=Object.keys(a).concat("enc");else if(typeof t.protect=="string")t.protect=[t.protect];else if(Array.isArray(t.protect))t.protect=t.protect.concat();else if(!t.protect)t.protect=[];else throw new Error("protect must be a list of fields");if(o&&1<i.length)throw new Error("too many recipients to protect all header parameters");i=i.map(function(u,f){var l;return u&&"kty"in u?(l=Zt.asKey(u),l=l.then(function(p){return{key:p}})):u?(l=Zt.asKey(u.key),l=l.then(function(p){return{header:u.header,reference:u.reference,key:p}})):l=Promise.reject(new Error("missing key for recipient "+f)),u.epk&&(l=l.then(function(p){return Zt.asKey(u.epk).then(function(h){return p.epk=h,p})})),l=l.then(function(p){var h=p.key,v=p.header||{};p.header=v;var m={};if(m=Yt(m,a),m=Yt(m,p.header),m.alg||(m.alg=h.algorithms(Zt.MODE_WRAP)[0],v.alg=m.alg),!m.alg)return Promise.reject(new Error("key not valid for encrypting to recipient "+f));v.alg=m.alg;var y=p.reference;delete p.reference,y===void 0?(y=["kid","jku","x5c","x5t","x5u"].some(function(E){return E in v}),y=y?null:"kid"):typeof y=="boolean"&&(y=y?"kid":null);var _;if(y)if(_=h.toJSON(),y==="jwk"){if(h.kty==="oct")return Promise.reject(new Error("cannot embed key"));v.jwk=_}else y in _&&(v[y]=_[y]);return p=Object.freeze(p),p}),l});var s={aad:"aad"in t?Jt.base64url.encode(t.aad||""):null,contentAlg:t.contentAlg,format:t.format,protect:t.protect,cek:t.cek,iv:t.iv,protectAll:o},c=new aw(s,a,i);return c}ow.exports={encrypter:aw,createEncrypt:ND}});var fw=d((Uj,cw)=>{"use strict";var Bo=ai(),OD=tc(),To=Ir(),Io=Mt(),RD=zc(),DD={algorithms:"*"};function uw(e,r){var t,n;if(To.isKey(e))t=e,n=t.keystore;else if(To.isKeyStore(e))n=e;else throw new TypeError("Keystore must be provided");r=Io({},DD,r),Object.defineProperty(this,"decrypt",{value:function(i,a){a=Io({},r,a||{});var o=a.handlers||{},s=Object.keys(o),c=new OD(a.algorithms);if(typeof i=="string")i=i.split("."),i={protected:i[0],recipients:[{encrypted_key:i[1]}],iv:i[2],ciphertext:i[3],tag:i[4]};else if(!i||typeof i!="object")throw new Error("invalid input");"encrypted_key"in i&&(i.recipients=[{encrypted_key:i.encrypted_key}]);var u,f=i.recipients||[{}];u=Promise.resolve(f);var l,p;u=u.then(function(y){if(i.protected){p=Bo.decode(i.protected).toString("utf8"),p=JSON.parse(p);var _=p.crit;if(_){if(!Array.isArray(_))return Promise.reject(new Error("Invalid 'crit' header"));for(var E=0;_.length>E;E++)if(s.indexOf(_[E])===-1)return Promise.reject(new Error("Critical extension is not supported: "+_[E]))}l=p,p=Object.keys(p)}else l={},p=[];return l=Io(i.unprotected||{},l),y=y.map(function(A){var w=Promise.resolve(),T=A.header||{};return T=Io(T,l),A.header=T,A.protected=p,c.match(T.alg)||(w=w.then(function(){return Promise.reject(new Error("Algorithm not allowed: "+T.alg))})),c.match(T.enc)||(w=w.then(function(){return Promise.reject(new Error("Algorithm not allowed: "+T.enc))})),T.epk&&(w=w.then(function(){return To.asKey(T.epk)}),w=w.then(function(M){T.epk=M.toObject(!1)})),w.then(function(){return A})}),Promise.all(y)});var h,v,m;return u=u.then(function(y){var _={};return new Promise(function(E,A){var w=function(){var T=y.shift();if(!T){A(new Error("no key found"));return}var M=Promise.resolve(T);M=M.then(function(C){var L=m=C.encrypted_key||"";return L=Bo.decode(L),h=t||n.get({use:"enc",alg:C.header.alg,kid:C.header.kid}),h?h.unwrap(C.header.alg,L,C.header):Promise.reject()}),M=M.then(function(C){v={kty:"oct",k:Bo.encode(C)},v=To.asKey(v),_.key=h,_.header=T.header,_.protected=T.protected,E(_)}),M.catch(w)};w()})}),u=u.then(function(y){return y.iv=i.iv,y.tag=i.tag,y.ciphertext=i.ciphertext,y}),u=u.then(function(y){var _=[];return s.forEach(function(E){E=o[E];var A;typeof E=="function"?A=E(y):typeof E=="object"&&typeof E.prepare=="function"&&(A=E.prepare(y)),A&&_.push(Promise.resolve(A))}),Promise.all(_).then(function(){return y})}),u=u.then(function(y){return Buffer.isBuffer(y.ciphertext)||(y.ciphertext=Bo.decode(y.ciphertext)),y}),u=u.then(function(y){var _=i.protected;"aad"in i&&i.aad!=null&&(_+="."+i.aad);var E={iv:y.iv,adata:_,tag:y.tag,kdata:m,epu:y.epu,epv:y.epv},A=y.ciphertext;return delete y.iv,delete y.tag,delete y.ciphertext,v.then(function(w){return w.decrypt(y.header.enc,A,E).then(function(T){return y.payload=y.plaintext=T,y})})}),u=u.then(function(y){return y.header.zip==="DEF"?new Promise(function(_,E){try{var A=RD.inflateRaw(Buffer.from(y.plaintext));y.payload=y.plaintext=Buffer.from(A),_(y)}catch(w){E(w)}}):y}),u=u.then(function(y){var _=[];return s.forEach(function(E){E=o[E];var A;typeof E=="object"&&typeof E.complete=="function"&&(A=E.complete(y)),A&&_.push(Promise.resolve(A))}),Promise.all(_).then(function(){return y})}),u}})}function LD(e,r){var t=new uw(e,r);return t}cw.exports={decrypter:uw,createDecrypt:LD}});var Po=d((Kj,lw)=>{"use strict";var UD={createEncrypt:sw().createEncrypt,createDecrypt:fw().createDecrypt};lw.exports=UD});var pw=d((Mj,hw)=>{"use strict";var Vc={JWE:Po(),JWS:go(),util:Ae()};function KD(e){var r=e.split("."),t,n;if(r.length===3)t="JWS",n=function(a,o){return Vc.JWS.createVerify(a).verify(e,o)};else if(r.length===5)t="JWE",n=function(a,o){return Vc.JWE.createDecrypt(a).decrypt(e,o)};else throw new TypeError("invalid jose serialization");var i;return i=Vc.util.base64url.decode(r[0],"utf8"),i=JSON.parse(i),{type:t,format:"compact",input:e,header:i,perform:n}}hw.exports=KD});var gw=d((Hj,dw)=>{"use strict";var Ui=Mt(),qo={JWE:Po(),JWS:go(),util:Ae()};function MD(e){var r,t,n;if("signatures"in e||"signature"in e)r="JWS",t=function(a,o){return qo.JWS.createVerify(a).verify(e,o)},n=e.signatures||[{protected:e.protected,header:e.header,signature:e.signature}],n=n.map(function(a){var o={};a.header&&(o=Ui(o,a.header));var s;return a.protected&&(s=a.protected,s=qo.util.base64url.decode(s,"utf8"),s=JSON.parse(s),o=Ui(o,s)),o});else if("ciphertext"in e){r="JWE",t=function(a,o){return qo.JWE.createDecrypt(a).decrypt(e,o)};var i={};e.protected&&(i.protected=e.protected,i.protected=qo.util.base64url.decode(i.protected,"utf8"),i.protected=JSON.parse(i.protected)),e.unprotected&&(i.unprotected=e.unprotected),n=e.recipients||[{}],n=n.map(function(a){var o={};return a.header&&(o=Ui(o,a.header)),i.unprotected&&(o=Ui(o,i.unprotected)),i.protected&&(o=Ui(o,i.protected)),o})}return{type:r,format:"json",input:e,all:n,perform:t}}dw.exports=MD});var _w=d((jj,mw)=>{"use strict";var Wc=pw(),vw=gw(),yw=mw.exports=function(e){if(Buffer.isBuffer(e))return Wc(e.toString("ascii"));if(typeof e=="string")return Wc(e);if(e)return vw(e);throw new TypeError("invalid input")};yw.compact=Wc;yw.json=vw});var bw=d((Gj,ww)=>{"use strict";typeof Promise>"u"&&jo().polyfill();typeof Buffer>"u"&&((global||window).Buffer=Mf().Buffer);typeof process>"u"&&((global||window).process=Vf());process.version||(process.version="");var Ew=go();ww.exports={JWA:uo(),JWE:Po(),JWK:Ir(),JWS:Ew,util:Ae(),parse:_w(),canYouSee:Ew.createVerify}});var ef=d((Qc,$c)=>{"use strict";(function(e,r){typeof define=="function"&&define.amd?define([],r):typeof Qc<"u"?r():(r(),e.FileSaver={})})(Qc,function(){"use strict";function e(s,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}function r(s,c,u){var f=new XMLHttpRequest;f.open("GET",s),f.responseType="blob",f.onload=function(){o(f.response,c,u)},f.onerror=function(){console.error("could not download file")},f.send()}function t(s){var c=new XMLHttpRequest;c.open("HEAD",s,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function n(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(c)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(s,c,u){var f=i.URL||i.webkitURL,l=document.createElement("a");c=c||s.name||"download",l.download=c,l.rel="noopener",typeof s=="string"?(l.href=s,l.origin===location.origin?n(l):t(l.href)?r(s,c,u):n(l,l.target="_blank")):(l.href=f.createObjectURL(s),setTimeout(function(){f.revokeObjectURL(l.href)},4e4),setTimeout(function(){n(l)},0))}:"msSaveOrOpenBlob"in navigator?function(s,c,u){if(c=c||s.name||"download",typeof s!="string")navigator.msSaveOrOpenBlob(e(s,u),c);else if(t(s))r(s,c,u);else{var f=document.createElement("a");f.href=s,f.target="_blank",setTimeout(function(){n(f)})}}:function(s,c,u,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof s=="string")return r(s,c,u);var l=s.type==="application/octet-stream",p=/constructor/i.test(i.HTMLElement)||i.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||l&&p||a)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var _=v.result;_=h?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=_:location=_,f=null},v.readAsDataURL(s)}else{var m=i.URL||i.webkitURL,y=m.createObjectURL(s);f?f.location=y:location.href=y,f=null,setTimeout(function(){m.revokeObjectURL(y)},4e4)}});i.saveAs=o.saveAs=o,typeof $c<"u"&&($c.exports=o)})});var _e=Ro(bw());var ko={ENCRYPTION_PUBLIC_KEY_CLIENT:`-----BEGIN PUBLIC KEY-----
    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAgT7UB6h34sm4kzfrCAl+
    Qs0PAQfjAMZ6gF1E3xrbXwDpOvCfwu86fv0wOgFbuVG1TxBp14BAzn5uCdL+QBfT
    q6qVgYMaynzzg0upHpw2D6crUVmtfdr+YsAypvySL5l0AuF5ge2dmhwg/tNEELnw
    SriqHsoEsiIM/+JVBMgZhLFgJa5L8dWVWY0RK4S/c/xK7LYlXuADsXXBCvood5fB
    Pyt566G9SSVGSb4YVTNO2aw68DrgccJ1D5BCRLehOCBXc6JOD7CSr/D+zFGPWHUo
    F8u4fe0PsXs82NV+w5ZicNwzfNVNodEPA19FxzMPCPslaDadHpxzYxEPzmfg/p7c
    jQIDAQAB
    -----END PUBLIC KEY-----`,DECRYPTION_PRIVATE_KEY_CLIENT:`-----BEGIN RSA PRIVATE KEY-----
    MIIEowIBAAKCAQEAgT7UB6h34sm4kzfrCAl+Qs0PAQfjAMZ6gF1E3xrbXwDpOvCf
    wu86fv0wOgFbuVG1TxBp14BAzn5uCdL+QBfTq6qVgYMaynzzg0upHpw2D6crUVmt
    fdr+YsAypvySL5l0AuF5ge2dmhwg/tNEELnwSriqHsoEsiIM/+JVBMgZhLFgJa5L
    8dWVWY0RK4S/c/xK7LYlXuADsXXBCvood5fBPyt566G9SSVGSb4YVTNO2aw68Drg
    ccJ1D5BCRLehOCBXc6JOD7CSr/D+zFGPWHUoF8u4fe0PsXs82NV+w5ZicNwzfNVN
    odEPA19FxzMPCPslaDadHpxzYxEPzmfg/p7cjQIDAQABAoIBAHr+bkqHYOdabiLz
    YOA6IISzneauObGAMA2+NI9YgJDtTgZ//JlGjdVRXrakmkRGZJNEHGUvMP0RRehl
    eP1Hb3D7GeGxASrXM+mrc9qkb7H/tPJqs/aEE/enzcwpqXhQwR0Is1gY5xVEVYYL
    SMfeGrUQ/Rvlxgg67UIJgjzVq6sgt7+tyoiZdPJOdNZbYPOhEpobAdiAoO4HjZzG
    G9Sok75p8gZOJM6qOqokynljN3i/HbdzbgShryUBhG9VFQbbNkfEwjNhTi/R5VgV
    leVPym6+NcFyFJy9dXv/DR+iX1GUJcPBRDYqx2/KBZCJiX+qkkQWA9dgnQrMEXS2
    LBZqtUUCgYEA6tIPoYZKjYD6EVEV9wucDz9VEL20lmSQ12eBzcnoprDsoUx2d83R
    9V6h69PFqr3RtbFUSBI6JXvZqjVpjzjCSTwdRphox1lYo6eZw4RL8PwnuWvUR5ZI
    n/S//QYRg8SK9NBQMiPNQr2MxPAe5pbsD+ut5M3j34u8fTGCwNQcJKsCgYEAjOcR
    XyRJ/jR3G28JG3eND1qFzDIA1Z6XxQ087GKbUkTtkQew+XeJYNGQfcU4INGqk0X7
    F6LY5E4dYPuqcRilwajXzzn1LhkA1UrOWxz3zKZEZi7b/pGPwa8V6JgMiR09pbxp
    0bp3HjR8cSQvjpQnDkzsDguSHldm2JAEEWYe06cCgYBXA4IRS68CooGHuzFVezLY
    H5LJAlMRy7A0ccGS3Tfd1P/KgYgAuv8LWobL2YyMyYwVNOHTVxW+4Bb3UJWOIe00
    sBb1GvLws/X5pth+r95oLTgXKJLf+BtvUoV2IDKLTmBjeXHOMqAUFCM+su/waIqP
    F7k3aOgA5UnyZk9aXv8SwwKBgHn1j23ApWMo2meehk2F/0zo16LVLS+55DglqzQY
    bcSZ8N91vtNPilOJUP3r9RdDI9fx3NKqm/2RN5C4hOD7qo2jrZiq2/OYpMX5x//J
    ZRt4Vv/zU2xXZg0JlXcMFN2ht7h7C0UDlxNH7uanoZpR1jRklHXbwhANKvIMRdkh
    gVFFAoGBAJqxgADp1anzzyg+jTPCnLjCX0pxhL99ouY/VhX+kFNSwrbBY5vb9Gor
    1oIedI47pS/oNUn7AhYJOZjDsyQS3WjVjHc7y81/bTsbBZHbt6mhcxZonXFe+qaD
    kyoHA0VO0Qob/CPDIukl8BZLh/Fr+qfwR6OEtpZicx0GPRZ7qR5Q
    -----END RSA PRIVATE KEY-----`,ENCRYPTION_PUBLIC_KEY_SERVER:`-----BEGIN PUBLIC KEY-----
    MIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQByWA/6V3L1l6Ae0dkDqLAH
    x13e6xtU/e3WBtuwuzgg3KD9W9uAyk39JGEitFFswTU9zCHb7xURGkXt8ZsJLWfH
    UyNfITMfzZXf6wHw3FnxnO6pd3eHRq/IE9SKej6w2VdCRmUjtuX8rKcZ+D1ko1Pd
    UWkSkNCdy/OhDlebhlLetcGYmJZcw4gV3RhVjcGDSFb8/2FzZEQFbqaOoxP7mKfK
    UG/HA61pUqOPVzgc8Imk6ob0O0sJkwbL8Ss/ZlTHMfoUCRaKLaDnInrPxrH+VSXN
    rnHkYyNKt8bk6S0L1SOnEUbGx1PKxkc6Gpc5Ao/WVZEicFW7knJMNzGdD9xNOP0L
    AgMBAAE=
    -----END PUBLIC KEY-----`,DECRYPTION_PRIVATE_KEY_SERVER:`-----BEGIN RSA PRIVATE KEY-----
    MIIEowIBAAKCAQByWA/6V3L1l6Ae0dkDqLAHx13e6xtU/e3WBtuwuzgg3KD9W9uA
    yk39JGEitFFswTU9zCHb7xURGkXt8ZsJLWfHUyNfITMfzZXf6wHw3FnxnO6pd3eH
    Rq/IE9SKej6w2VdCRmUjtuX8rKcZ+D1ko1PdUWkSkNCdy/OhDlebhlLetcGYmJZc
    w4gV3RhVjcGDSFb8/2FzZEQFbqaOoxP7mKfKUG/HA61pUqOPVzgc8Imk6ob0O0sJ
    kwbL8Ss/ZlTHMfoUCRaKLaDnInrPxrH+VSXNrnHkYyNKt8bk6S0L1SOnEUbGx1PK
    xkc6Gpc5Ao/WVZEicFW7knJMNzGdD9xNOP0LAgMBAAECggEAAR5NYbRzQmWuQj7p
    MXj358uSZnjENquZJOvCQFNEdEXUKUY5umPAKYaukIlU9oxZOfaCKkWHXjh0kKQ5
    UPipuDBe+zI27suy+JKy3Sk6k/tl9jBd8evGEl3nSUdyz4YArXxExvml/DewFrfv
    2ckjK9n8/hp+f9yb0Gp0fufsbZM0LRMYSP2REeHIBmDHlxLuPs14ZwtrysYZlj87
    N5oFI0bFTqbNrFPRY7jVD34Pr7+7csWI0dJ3Lu2wn/pUNbBWL8EXc+GZ0gmO+DHQ
    Qhnk7uux9UU3xzJRPtGe021zWPrfzZTrhrJN2kWUjSn+gUfAaVtXMyZkbgcZZYa7
    FcMC0QKBgQCyB9syvXyI1JWMdV1PCz1PFK7nR7A/h5DsQrX1lUS2+t+PxQ+aDYl+
    DNqMFLCu2hwSvcjCgViQUks/Iyez8ThGSS/YyXxcg62CCI/DkY+/Pn6ExooLYaVO
    tGkLaPEoh+/dMTnYlrDb5iMkkHo3SCnfGvXUO7bI2ZPQCwgRl5KEKQKBgQCka+OV
    6NJa7qsHOCFIl8kBn73TBqG2Itn9QND6H4somsKDlUdqXsjcNVGgUhXZRT9mCIaq
    VjFGZIglwM5UJgghL2FYhZA88eH/qovRTfVP3ml8G2GpHiapQiBsTOoPt5qCkBJu
    LVywMKYLuLBqauxRVkEsPIbDPU9XvFA774V+EwKBgQCpKrHs+wUU9/vK5dLuQx3U
    wTCZcBNXqrfY6GMCov4SaTx53qS+m9JkRk59AUQKQhKe9FuKB2JicPAzZHJbmAED
    OJQQiRR0zGLYxs3k5bIT5YxPGmEeA4ES0ndmcieFffY81oPC/R29Nmd6XRbk5Nt0
    tqeVLdC39Zdw/qqCHOcKUQKBgH25AYzfOfnOBXi/srOPXGOhgcSajYx3mbfMl/6p
    n/6sV4/F1ZXAZFX9byznl01LZe7fFhmpToRE2tYDV8GAUzcMw6Ksfl4blnOoNMEW
    mz03E/GR/lsScv15UtF8/nyGJ98tyun0Ratzh4Pu9PZqS8jl62+n2GPxvXmYxMEP
    pUOBAoGBAKtVw07eFM31QJUrO+2RTgUWIWIoosuJsW4wOV3exmCte71U5o+ePT3M
    mUgim2/+nnLLq89OGAF9UiTrw8lV6j8OGSy2D+L8oep5hZnWKVvU7hS1ofvzZPiV
    unkBO/V6dfA0JyixmE+32bTDbJfRuOBV+mgeUvVBjrGu5FZWTp57
    -----END RSA PRIVATE KEY-----`,KEY_FORMAT:"pem"};var ht=(()=>{let r=class r{constructor(n){this.http=n,this.KEY_FORMAT=ko.KEY_FORMAT,this.DECRYPTION_PRIVATE_KEY_CLIENT=ko.DECRYPTION_PRIVATE_KEY_CLIENT,this.ENCRYPTION_PUBLIC_KEY_SERVER=ko.ENCRYPTION_PUBLIC_KEY_SERVER,this.jwe_opts={compact:!0,fields:{alg:"RSA-OAEP-256",enc:"A256GCM"}}}httpPost(n,i,a){let o={headers:new Gr(a)};if(Ko.isRequestBodyJWEEncrypt){console.log(`Request Payload ${n} ====> `,i);let s=null;return ji(this.jweEncrypt(i)).pipe(Do(c=>(s=c,Ko.isResponseBodyJWEDecrypt?this.http.post(n,this.requestDataWrap(s),o).pipe(Do(u=>(console.log(`Encrypted Resp ${n} ====> `,u),u?ji(this.jweDecrypt(u.Data)).pipe(Gi(f=>(console.log(`Response Payload ${n} ====> `,f),f))):Ur(null))),Rn(u=>u&&u.error?(console.log(`Encrypted Error Resp ${n} ====> `,u),ji(this.jweDecrypt(u.error)).pipe(Gi(f=>(console.log(`Decrypted Error Resp ${n} ====> `,f),f)))):Ur(u))):this.http.post(n,this.requestDataWrap(s),o).pipe(Rn(u=>Ur(u))))),Rn(c=>Ur(c)))}else return this.http.post(n,this.requestDataWrap(i),o).pipe(Gi(s=>s.Data),Rn(s=>Ur(s)))}requestDataWrap(n){let i={};return i.Data=n,i}jweEncrypt(n){return new Promise((i,a)=>{try{_e.JWK.createKeyStore().add(this.ENCRYPTION_PUBLIC_KEY_SERVER,"pem").then(s=>{try{let c=_e.util.asBuffer(JSON.stringify(n));_e.JWE.createEncrypt(this.jwe_opts,s).update(c).final().then(u=>{_e.JWK.createKeyStore().add(this.DECRYPTION_PRIVATE_KEY_CLIENT,"pem").then(l=>{_e.JWS.createSign({format:"compact"},l).update(u).final().then(p=>{i(p)})})})}catch(c){a(c)}})}catch(o){a(o)}})}jweDecrypt(n){return new Promise((i,a)=>{try{_e.JWK.createKeyStore().add(this.DECRYPTION_PRIVATE_KEY_CLIENT,"pem").then(s=>{try{_e.JWK.createKeyStore().add(this.ENCRYPTION_PUBLIC_KEY_SERVER,"pem").then(u=>{_e.JWS.createVerify(u,{algorithms:["*"]}).verify(n).then(f=>{_e.JWE.createDecrypt(s).decrypt(this.uintToString(f.payload)).then(l=>{i(JSON.parse(this.uintToString(l.payload)))})})})}catch(c){a(c)}})}catch(o){a(o)}})}encrypt(n,i){return new Promise((a,o)=>{try{_e.JWK.createKeyStore().add(n,"pem").then(c=>{try{let u=_e.util.asBuffer(JSON.stringify(i));_e.JWE.createEncrypt(this.jwe_opts,c).update(u).final().then(f=>{a(f)})}catch(u){o(u)}})}catch(s){o(s)}})}decrypt(n,i){return new Promise((a,o)=>{try{_e.JWK.createKeyStore().add(n,"pem").then(c=>{try{_e.JWE.createDecrypt(c).decrypt(i).then(u=>{a(JSON.parse(this.uintToString(u.payload)))})}catch(u){o(u)}})}catch(s){o(s)}})}uintToString(n){var i="",a=8192,o;for(o=0;o<n.length/a;o++)i+=String.fromCharCode.apply(null,n.slice(o*a,(o+1)*a));i+=String.fromCharCode.apply(null,n.slice(o*a));var s=decodeURIComponent(encodeURIComponent(i));return s}};r.\u0275fac=function(i){return new(i||r)(cf(hf))},r.\u0275prov=uf({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();var Jc=(()=>{let r=class r{constructor(n,i){this.httpRequest=n,this.fb=i,this.registrationForm=this.fb.group({}),this.createForm()}ngOnInit(){}createForm(){this.registrationForm=this.fb.group({firstName:["",oe.required],lastName:["",oe.required],email:["",[oe.required,oe.email]],phone:["",[oe.required,oe.pattern(/^\d{10}$/)]],password:["",[oe.required,oe.minLength(6)]],confirmPassword:["",oe.required],gender:["",oe.required],dob:["",oe.required],pictures:[[]]},{validator:this.passwordMatchValidator})}passwordMatchValidator(n){let i=n.get("password"),a=n.get("confirmPassword");if(!i||!a)return;let o=i.value,s=a.value;o!==s?a.setErrors({passwordMismatch:!0}):a.setErrors(null)}onSubmit(){if(this.registrationForm.valid){console.log("Form submitted:",this.registrationForm.value);let n="http://localhost:3000/encryption-node-jose/register",i=this.registrationForm.value;new Gr().set("content-type","application/json"),this.encryptionNodeJose=this.httpRequest.httpPost(n,i,{}).subscribe(o=>{console.log("On Submit Response ",o),alert("Please copy the User Token: "+o.token)})}}resetForm(){this.registrationForm.reset(),this.registrationForm.get("gender")?.patchValue("")}};r.\u0275fac=function(i){return new(i||r)(ve(ht),ve(Xe))},r.\u0275cmp=Le({type:r,selectors:[["app-encryption-node-jose-register"]],decls:47,vars:3,consts:[["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"flex-container","flex-container-2x"],[1,"form-group"],["for","firstName"],["type","text","id","firstName","formControlName","firstName","placeholder","John",1,"form-control"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","Smith",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","placeholder","abc@xyz.co",1,"form-control"],["for","phone"],["type","text","id","phone","formControlName","phone","placeholder","1234567890",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password","placeholder","!@#123ABCabc",1,"form-control"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword","placeholder","!@#123ABCabc",1,"form-control"],["for","gender"],["id","gender","formControlName","gender",1,"form-control"],["value","","disabled",""],["value","male"],["value","female"],["value","other"],["for","dob"],["type","date","id","dob","formControlName","dob",1,"form-control"],[1,"flex-container"],["mat-raised-button","","color","accent","type","reset",3,"disabled","click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(i,a){i&1&&(k(0,"form",0),ce("ngSubmit",function(){return a.onSubmit()}),k(1,"div",1)(2,"div",2)(3,"label",3),K(4,"First Name"),P(),Z(5,"input",4),P(),k(6,"div",2)(7,"label",5),K(8,"Last Name"),P(),Z(9,"input",6),P(),k(10,"div",2)(11,"label",7),K(12,"Email"),P(),Z(13,"input",8),P(),k(14,"div",2)(15,"label",9),K(16,"Phone"),P(),Z(17,"input",10),P(),k(18,"div",2)(19,"label",11),K(20,"Password"),P(),Z(21,"input",12),P(),k(22,"div",2)(23,"label",13),K(24,"Re-enter Password"),P(),Z(25,"input",14),P(),k(26,"div",2)(27,"label",15),K(28,"Gender"),P(),k(29,"select",16)(30,"option",17),K(31,"Select Gender"),P(),k(32,"option",18),K(33,"Male"),P(),k(34,"option",19),K(35,"Female"),P(),k(36,"option",20),K(37,"Other"),P()()(),k(38,"div",2)(39,"label",21),K(40,"Date of Birth"),P(),Z(41,"input",22),P()(),k(42,"div",23)(43,"button",24),ce("click",function(){return a.resetForm()}),K(44,"RESET"),P(),k(45,"button",25),K(46,"SUBMIT"),P()()()),i&2&&(z("formGroup",a.registrationForm),V(43),z("disabled",!a.registrationForm.touched&&!a.registrationForm.dirty),V(2),z("disabled",!a.registrationForm.valid))},dependencies:[Je,vf,yf,ze,gf,Ve,We,Ze,Ye,Qe]});let e=r;return e})();function jD(e,r){e&1&&(k(0,"div",9),Z(1,"mat-spinner",10),P())}function GD(e,r){if(e&1&&(k(0,"tr")(1,"td"),K(2),P(),k(3,"td"),K(4),P()()),e&2){let t=r.$implicit;V(2),Lo(t.fieldName),V(2),Lo(t.value)}}function zD(e,r){if(e&1&&(k(0,"div",11)(1,"table",12)(2,"thead")(3,"tr")(4,"th"),K(5,"Field Name"),P(),k(6,"th"),K(7,"Value"),P()()(),k(8,"tbody"),pt(9,GD,5,2,"tr",13),P()()()),e&2){let t=mt();V(9),z("ngForOf",t.retrivedData)}}var Zc=(()=>{let r=class r{constructor(n,i){this.httpRequest=n,this.fb=i,this.retrieveForm=this.fb.group({}),this.retrivedData=[],this.showLoader=!1,this.createForm()}ngOnInit(){}createForm(){this.retrieveForm=this.fb.group({token:["",oe.required]})}onSubmit(){if(this.retrieveForm.valid){this.showLoader=!0,console.log("Form submitted:",this.retrieveForm.value),this.retrivedData=[];let n="http://localhost:3000/encryption-node-jose/retrieve",i=this.retrieveForm.value,a=new Gr;a.set("content-type","application/json"),this.encryptionNodeJose=this.httpRequest.httpPost(n,i,a).subscribe(o=>{this.retrivedData=this.convertObjectToArray(o),this.showLoader=!1})}}convertObjectToArray(n){if(typeof n!="object"||n===null)throw new Error("Input must be an object.");let i=[];for(let a in n)n.hasOwnProperty(a)&&i.push({fieldName:a,value:n[a]});return i}resetForm(){this.retrieveForm.reset(),this.retrieveForm.get("gender")?.patchValue("")}};r.\u0275fac=function(i){return new(i||r)(ve(ht),ve(Xe))},r.\u0275cmp=Le({type:r,selectors:[["app-encryption-node-jose-retrieve"]],decls:15,vars:5,consts:[["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"flex-container"],[1,"form-group"],["for","token"],["type","text","id","token","formControlName","token","placeholder","xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",1,"form-control"],["mat-raised-button","","color","accent","type","reset",3,"disabled","click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","loader align-center",4,"ngIf"],["class","Result",4,"ngIf"],[1,"loader","align-center"],[2,"width","25px","height","25px","display","inline-block"],[1,"Result"],[1,"table","align-left"],[4,"ngFor","ngForOf"]],template:function(i,a){i&1&&(k(0,"form",0),ce("ngSubmit",function(){return a.onSubmit()}),k(1,"div",1)(2,"div",2)(3,"label",3),K(4,"Enter Token"),P(),Z(5,"input",4),P()(),k(6,"div",1)(7,"button",5),ce("click",function(){return a.resetForm()}),K(8,"RESET"),P(),k(9,"button",6),K(10,"SUBMIT"),P()()(),Z(11,"br")(12,"br"),pt(13,jD,2,0,"div",7)(14,zD,10,1,"div",8)),i&2&&(z("formGroup",a.retrieveForm),V(7),z("disabled",!a.retrieveForm.touched&&!a.retrieveForm.dirty),V(2),z("disabled",!a.retrieveForm.valid),V(4),z("ngIf",a.showLoader),V(1),z("ngIf",a.retrivedData&&a.retrivedData.length>0))},dependencies:[ff,jr,Je,ze,Ve,We,Ze,Ye,Qe,_f]});let e=r;return e})();var Yc=(()=>{let r=class r{constructor(n,i){this.fb=n,this.encryptionService=i}ngOnInit(){this.createForm()}createForm(){this.textToBeEncryptedForm=this.fb.group({textToBeEncrypted:["",oe.required],publicKey:["",oe.required]})}onSubmitTextToBeEncryptedForm(){let n=this.textToBeEncryptedForm.get("publicKey").value,i=this.textToBeEncryptedForm.get("textToBeEncrypted").value;this.encryptionService.encrypt(n,i).then(a=>{console.log(a)})}resetTextToBeEncryptedForm(){}};r.\u0275fac=function(i){return new(i||r)(ve(Xe),ve(ht))},r.\u0275cmp=Le({type:r,selectors:[["app-node-jose-encrypt"]],decls:15,vars:3,consts:[["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"flex-container"],[1,"form-group"],["for","publicKey"],["rows","10","id","publicKey","formControlName","publicKey","placeholder","Enter Public Key",1,"form-control"],["for","textToBeEncrypted"],["rows","10","id","textToBeEncrypted","formControlName","textToBeEncrypted","placeholder","Abcd1234!@#$_",1,"form-control"],["mat-raised-button","","color","accent","type","reset",3,"disabled","click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(i,a){i&1&&(k(0,"form",0),ce("ngSubmit",function(){return a.onSubmitTextToBeEncryptedForm()}),k(1,"div",1)(2,"div",2)(3,"label",3),K(4,"Public Key"),P(),Z(5,"textarea",4),P(),k(6,"div",2)(7,"label",5),K(8,"Text To Be Encrypted"),P(),Z(9,"textarea",6),P()(),k(10,"div",1)(11,"button",7),ce("click",function(){return a.resetTextToBeEncryptedForm()}),K(12,"RESET"),P(),k(13,"button",8),K(14,"ENCRYPT"),P()()()),i&2&&(z("formGroup",a.textToBeEncryptedForm),V(11),z("disabled",!a.textToBeEncryptedForm.touched&&!a.textToBeEncryptedForm.dirty),V(2),z("disabled",!a.textToBeEncryptedForm.valid))},dependencies:[Je,ze,Ve,We,Ze,Ye,Qe],styles:["textarea[_ngcontent-%COMP%]{resize:vertical}"]});let e=r;return e})();var Xc=(()=>{let r=class r{constructor(n,i){this.fb=n,this.encryptionService=i}ngOnInit(){this.createForm()}createForm(){this.textToBeDecryptedForm=this.fb.group({privateKey:["",oe.required],textToBeDecrypted:["",oe.required]})}onSubmitTextToBeDecryptedForm(){let n=this.textToBeDecryptedForm.get("privateKey").value,i=this.textToBeDecryptedForm.get("textToBeDecrypted").value;this.encryptionService.decrypt(n,i).then(a=>{console.log(a)})}resetTextToBeDecryptedForm(){}};r.\u0275fac=function(i){return new(i||r)(ve(Xe),ve(ht))},r.\u0275cmp=Le({type:r,selectors:[["app-node-jose-decrypt"]],decls:15,vars:3,consts:[["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"flex-container"],[1,"form-group"],["for","privateKey"],["rows","10","id","privateKey","formControlName","privateKey","placeholder","Enter Private Key",1,"form-control"],[1,"form-group","full-length"],["for","textToBeDecrypted"],["rows","10","id","textToBeDecrypted","formControlName","textToBeDecrypted","placeholder","Abcd1234!@#$_",1,"form-control"],["mat-raised-button","","color","accent","type","reset",3,"disabled","click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(i,a){i&1&&(k(0,"form",0),ce("ngSubmit",function(){return a.onSubmitTextToBeDecryptedForm()}),k(1,"div",1)(2,"div",2)(3,"label",3),K(4,"Private Key"),P(),Z(5,"textarea",4),P(),k(6,"div",5)(7,"label",6),K(8,"Text To Be Decrypted"),P(),Z(9,"textarea",7),P()(),k(10,"div",1)(11,"button",8),ce("click",function(){return a.resetTextToBeDecryptedForm()}),K(12,"RESET"),P(),k(13,"button",9),K(14,"DECRYPT"),P()()()),i&2&&(z("formGroup",a.textToBeDecryptedForm),V(11),z("disabled",!a.textToBeDecryptedForm.touched&&!a.textToBeDecryptedForm.dirty),V(2),z("disabled",!a.textToBeDecryptedForm.valid))},dependencies:[Je,ze,Ve,We,Ze,Ye,Qe]});let e=r;return e})();var xw=Ro(ef());function YD(e,r){e&1&&Z(0,"img",17)}function XD(e,r){if(e&1){let t=Hr();k(0,"img",18),ce("click",function(){Kr(t);let i=mt(2);return Mr(i.removeAttachmentAction())}),P()}}function QD(e,r){if(e&1&&(k(0,"div",11)(1,"div",12),pt(2,YD,1,0,"img",13),k(3,"div",14),pt(4,XD,1,0,"img",15),P()(),Z(5,"br"),k(6,"div",16),K(7),P()()),e&2){let t=mt();V(2),z("ngIf",t.base64Image),V(2),z("ngIf",t.base64Image),V(3),Wi(" ",t.uploadedFileName," ")}}function $D(e,r){if(e&1){let t=Hr();k(0,"div",19)(1,"label",20)(2,"mat-icon",21),K(3,"cloud_upload"),P(),k(4,"span",22)(5,"input",23),ce("change",function(i){Kr(t);let a=mt();return Mr(a.onSelectFile(i))}),P()()()()}}var tf=(()=>{let r=class r{constructor(n,i){this.fb=n,this.encryptionService=i,this.base64Image=null,this.serviceBaseImage=null}ngOnInit(){this.createForm(),Ji.requestPermissions()}createForm(){this.fileToBeEncryptedForm=this.fb.group({publicKey:["",oe.required]})}onSubmitfileToBeEncryptedForm(){this.encryptionService.encrypt(this.fileToBeEncryptedForm.get("publicKey").value,this.serviceBaseImage).then(n=>{this.saveFileFromBase64(n,this.uploadedFileName),this.removeAttachmentAction()})}resetfileToBeEncryptedForm(){this.fileToBeEncryptedForm.reset(),this.removeAttachmentAction()}onSelectFile(n){if(n.target.files&&n.target.files[0]){let i=new FileReader;this.uploadedFileName=n.target.files[0].name,i.readAsBinaryString(n.target.files[0]),i.onload=a=>{if(this.base64Image=a.target.result,this.base64Image){let s=this.base64Image;this.serviceBaseImage=s}},n.srcElement.value=""}}removeAttachmentAction(){this.serviceBaseImage=null,this.base64Image=null,this.uploadedFileName=""}saveFileFromBase64(n,i){let a="application/octet-stream",o=".encrypted",s=n,c=new Array(s.length);for(let l=0;l<s.length;l++)c[l]=s.charCodeAt(l);let u=new Uint8Array(c),f=new Blob([u],{type:a});this.getFilesystemAccess().then(l=>{xw.saveAs.saveAs(f,i+o)})}getFilesystemAccess(){return new Promise(n=>sf(this,null,function*(){let a=(yield Ji.checkPermissions()).publicStorage;return console.log(a),a==="granted"?n(!0):(a==="denied"||Ji.requestPermissions(),n(!1))}))}};r.\u0275fac=function(i){return new(i||r)(ve(Xe),ve(ht))},r.\u0275cmp=Le({type:r,selectors:[["app-node-jose-encrypt-file"]],decls:18,vars:5,consts:[["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"flex-container"],[1,"form-group"],["for","publicKey"],["rows","10","id","publicKey","formControlName","publicKey","placeholder","Enter Public Key",1,"form-control"],[1,"txt1"],[1,"red"],["col-5","","col-md-5","","col-xl-5","",4,"ngIf"],["col-1","",4,"ngIf"],["mat-raised-button","","color","accent","type","reset",3,"disabled","click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["col-5","","col-md-5","","col-xl-5",""],["col-11","","col-md-11","","col-xl-11","",1,"attach-file"],["src","./assets/images/xl.png","class","xl-icon","height","70",4,"ngIf"],[1,"cross-icon"],["src","./assets/images/cross.png","height","30","class","img-size",3,"click",4,"ngIf"],[1,"file-name"],["src","./assets/images/xl.png","height","70",1,"xl-icon"],["src","./assets/images/cross.png","height","30",1,"img-size",3,"click"],["col-1",""],[1,"filebutton"],[2,"color","#2f3f99","cursor","pointer","font-size","50px","width","50px","height","50px"],[2,"display","none"],["type","file","accept","all",3,"change"]],template:function(i,a){i&1&&(k(0,"form",0),ce("ngSubmit",function(){return a.onSubmitfileToBeEncryptedForm()}),k(1,"div",1)(2,"div",2)(3,"label",3),K(4,"Public Key"),P(),Z(5,"textarea",4),P(),k(6,"div",2)(7,"label",5),K(8," Click on the cloud icon to upload a file "),k(9,"span",6),K(10,"*"),P()(),pt(11,QD,8,3,"div",7)(12,$D,6,0,"div",8),P()(),k(13,"div",1)(14,"button",9),ce("click",function(){return a.resetfileToBeEncryptedForm()}),K(15,"RESET"),P(),k(16,"button",10),K(17,"ENCRYPT FILE"),P()()()),i&2&&(z("formGroup",a.fileToBeEncryptedForm),V(11),z("ngIf",a.uploadedFileName!=""),V(1),z("ngIf",!a.uploadedFileName),V(2),z("disabled",!a.fileToBeEncryptedForm.touched&&!a.fileToBeEncryptedForm.dirty),V(2),z("disabled",!a.fileToBeEncryptedForm.valid))},dependencies:[jr,Je,ze,Ve,We,Ze,Ye,Qe,Zi]});let e=r;return e})();var Aw=Ro(ef());function tL(e,r){e&1&&Z(0,"img",17)}function rL(e,r){if(e&1){let t=Hr();k(0,"img",18),ce("click",function(){Kr(t);let i=mt(2);return Mr(i.removeAttachmentAction())}),P()}}function nL(e,r){if(e&1&&(k(0,"div",11)(1,"div",12),pt(2,tL,1,0,"img",13),k(3,"div",14),pt(4,rL,1,0,"img",15),P()(),Z(5,"br"),k(6,"div",16),K(7),P()()),e&2){let t=mt();V(2),z("ngIf",t.base64Image),V(2),z("ngIf",t.base64Image),V(3),Wi(" ",t.uploadedFileName," ")}}function iL(e,r){if(e&1){let t=Hr();k(0,"div",19)(1,"label",20)(2,"mat-icon",21),K(3,"cloud_upload"),P(),k(4,"span",22)(5,"input",23),ce("change",function(i){Kr(t);let a=mt();return Mr(a.onSelectFile(i))}),P()()()()}}var rf=(()=>{let r=class r{constructor(n,i){this.fb=n,this.encryptionService=i,this.base64Image=null,this.serviceBaseImage=null}ngOnInit(){this.createForm()}createForm(){this.fileToBeDecryptedForm=this.fb.group({privateKey:["",oe.required]})}onSubmitfileToBeDecryptedForm(){this.encryptionService.decrypt(this.fileToBeDecryptedForm.get("privateKey").value,this.serviceBaseImage).then(n=>{this.saveFileFromBase64(n,this.uploadedFileName),this.removeAttachmentAction()})}resetfileToBeDecryptedForm(){this.fileToBeDecryptedForm.reset(),this.removeAttachmentAction()}onSelectFile(n){if(n.target.files&&n.target.files[0]){let i=new FileReader;this.uploadedFileName=n.target.files[0].name,i.readAsBinaryString(n.target.files[0]),i.onload=a=>{if(this.base64Image=a.target.result,this.base64Image){let s=this.base64Image;this.serviceBaseImage=s}},n.srcElement.value=""}}removeAttachmentAction(){this.serviceBaseImage=null,this.base64Image=null,this.uploadedFileName=""}saveFileFromBase64(n,i){let a="application/octet-stream",o=".encrypted",s=n,c=new Array(s.length);for(let l=0;l<s.length;l++)c[l]=s.charCodeAt(l);let u=new Uint8Array(c),f=new Blob([u],{type:a});Aw.saveAs.saveAs(f,i.split(o)[0])}};r.\u0275fac=function(i){return new(i||r)(ve(Xe),ve(ht))},r.\u0275cmp=Le({type:r,selectors:[["app-node-jose-decrypt-file"]],decls:18,vars:5,consts:[["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"flex-container"],[1,"form-group"],["for","publicKey"],["rows","10","id","publicKey","formControlName","privateKey","placeholder","Enter Private Key",1,"form-control"],[1,"txt1"],[1,"red"],["col-5","","col-md-5","","col-xl-5","",4,"ngIf"],["col-1","",4,"ngIf"],["mat-raised-button","","color","accent","type","reset",3,"disabled","click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["col-5","","col-md-5","","col-xl-5",""],["col-11","","col-md-11","","col-xl-11","",1,"attach-file"],["src","./assets/images/xl.png","class","xl-icon","height","70",4,"ngIf"],[1,"cross-icon"],["src","./assets/images/cross.png","height","30","class","img-size",3,"click",4,"ngIf"],[1,"file-name"],["src","./assets/images/xl.png","height","70",1,"xl-icon"],["src","./assets/images/cross.png","height","30",1,"img-size",3,"click"],["col-1",""],[1,"filebutton"],[2,"color","#2f3f99","cursor","pointer","font-size","50px","width","50px","height","50px"],[2,"display","none"],["type","file","accept","all",3,"change"]],template:function(i,a){i&1&&(k(0,"form",0),ce("ngSubmit",function(){return a.onSubmitfileToBeDecryptedForm()}),k(1,"div",1)(2,"div",2)(3,"label",3),K(4,"Private Key"),P(),Z(5,"textarea",4),P(),k(6,"div",2)(7,"label",5),K(8," Click on the cloud icon to upload a file "),k(9,"span",6),K(10,"*"),P()(),pt(11,nL,8,3,"div",7)(12,iL,6,0,"div",8),P()(),k(13,"div",1)(14,"button",9),ce("click",function(){return a.resetfileToBeDecryptedForm()}),K(15,"RESET"),P(),k(16,"button",10),K(17,"DECRYPT FILE"),P()()()),i&2&&(z("formGroup",a.fileToBeDecryptedForm),V(11),z("ngIf",a.uploadedFileName!=""),V(1),z("ngIf",!a.uploadedFileName),V(2),z("disabled",!a.fileToBeDecryptedForm.touched&&!a.fileToBeDecryptedForm.dirty),V(2),z("disabled",!a.fileToBeDecryptedForm.valid))},dependencies:[jr,Je,ze,Ve,We,Ze,Ye,Qe,Zi]});let e=r;return e})();var Sw=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Le({type:r,selectors:[["app-encryption-node-jose"]],decls:26,vars:1,consts:[[1,"base"],[1,"container"],[1,"row"],[1,"page"],[1,"main-heading"],[1,"group"],["animationDuration","0ms","mat-stretch-tabs","false","mat-align-tabs","start","dynamicHeight","",3,"color"],["label","Encrypt File"],["label","Decrypt File"],["label","Encrypt Text"],["label","Decrypt Text"],["label","Save User"],["label","Retrieve User"]],template:function(i,a){i&1&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),K(5,"Encrypt / Decrypt"),P(),k(6,"div",5)(7,"mat-tab-group",6)(8,"mat-tab",7),Z(9,"br")(10,"app-node-jose-encrypt-file"),P(),k(11,"mat-tab",8),Z(12,"br")(13,"app-node-jose-decrypt-file"),P(),k(14,"mat-tab",9),Z(15,"br")(16,"app-node-jose-encrypt"),P(),k(17,"mat-tab",10),Z(18,"br")(19,"app-node-jose-decrypt"),P(),k(20,"mat-tab",11),Z(21,"br")(22,"app-encryption-node-jose-register"),P(),k(23,"mat-tab",12),Z(24,"br")(25,"app-encryption-node-jose-retrieve"),P()()()()()()()),i&2&&(V(7),z("color","primary"))},dependencies:[pf,df,Jc,Zc,Yc,Xc,tf,rf]});let e=r;return e})();var oL=[{path:"",component:Sw}],Cw=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Vi({type:r}),r.\u0275inj=zi({imports:[Uo.forChild(oL),Uo]});let e=r;return e})();var x7=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Vi({type:r}),r.\u0275inj=zi({imports:[lf,Cw,mf,Ef]});let e=r;return e})();export{x7 as EncryptionNodeJoseModule};
